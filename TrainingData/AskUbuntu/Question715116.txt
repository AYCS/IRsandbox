[{"id":715116,"title":"Can&#39;t get Juniper working on Ubuntu 14.04 The pieces work but whole does not","body":"<p>I really need some help troubleshooting this. </p>\n\n<p>I've been here already: </p>\n\n<p><a href=\"http://askubuntu.com/questions/450369/how-to-install-juniper-vpn-on-ubuntu-14-04-lts\">How to install Juniper VPN on Ubuntu 14.04 LTS?</a></p>\n\n<p><a href=\"http://mad-scientist.us/juniper.html\" rel=\"nofollow\">http://mad-scientist.us/juniper.html</a></p>\n\n<p>The client opens and then closes. It runs fine from the command line but doesn't connect to anything. </p>\n\n<p>Firewall is down:</p>\n\n<pre><code>user@box:~$ firewall\nChain INPUT (policy ACCEPT 21770 packets, 3492K bytes)\nnum   pkts bytes target     prot opt in     out     source               destination         \n\nChain FORWARD (policy ACCEPT 0 packets, 0 bytes)\nnum   pkts bytes target     prot opt in     out     source               destination         \n\nChain OUTPUT (policy ACCEPT 22171 packets, 1501K bytes)\nnum   pkts bytes target     prot opt in     out     source               destination         \nuser@box:~$ \n</code></pre>\n\n<p>As far as I can tell all of the 32 bit packages are installed. I'm seeing no Exceptions or warnings that suggest one might be missing. Do I know all the places to look for these? No, probably not, but I have:</p>\n\n<pre><code>user@box ~ $ sudo apt-get install libc6:i386 zlib1g:i386 libgtk2-perl libwww-perl\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nlibwww-perl is already the newest version.\nlibgtk2-perl is already the newest version.\nzlib1g:i386 is already the newest version.\nlibc6:i386 is already the newest version.\n0 upgraded, 0 newly installed, 0 to remove and 9 not upgraded.\n</code></pre>\n\n<p>...and also:</p>\n\n<pre><code>sudo update-alternatives --config java\n[sudo] password for user: \nThere are 2 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                            Priority   Status\n------------------------------------------------------------\n* 0            /usr/lib/jvm/java-7-openjdk-amd64/jre/bin/java   1071      auto mode\n  1            /usr/lib/jvm/java-7-openjdk-amd64/jre/bin/java   1071      manual mode\n  2            /usr/lib/jvm/java-7-openjdk-i386/jre/bin/java    1070      manual mode\n\nPress enter to keep the current choice[*], or type selection number: \n</code></pre>\n\n<p>When started from CLI:</p>\n\n<pre><code>user@box:~$ sudo msjnc --connect --root \nEnter your password or PID+SecureID: \nConnecting to vpn.company.com (company) ................................. failed\nThe Juniper Network Connect VPN session did not start.\n</code></pre>\n\n<p>Also:</p>\n\n<pre><code>/usr/lib/jvm/java-7-openjdk-i386/jre/bin/java -classpath /home/user/.juniper_networks/network_connect/NC.jar NC ncui -h vpn.company.com -n -t -x\n</code></pre>\n\n<p>The above command pops up the window and it does prompt for a password but it drops dead when I enter it. What I'm afraid of is that there might be an additional password that I don't know of, similar to Cisco VPN networking. </p>\n\n<p>The <code>update-alternatives</code> link has been created in <code>/usr/sbin</code>.</p>\n","related_questions":[{"id":581401,"title":"Juniper fails to launch","body":"<p>I am trying to VPN to my college network but I am having some problems.\nMy system is Ubuntu 14.04 and the browser is Firefox 35.0.1. When I click on <code>Network Connect - Start</code> Juniper Network Connect does not launch and I am redirected back on the same page without any error message.\nI installed Java 8 update 31 as I thought that was the culprit. Please see below the configuration of Java on my system:</p>\n\n<blockquote>\n  <p>Selection    Path                                     Priority<br>\n  Status\n  ------------------------------------------------------------   0            /usr/lib/jvm/java-7-oracle/jre/bin/java   14        auto mode   1<br>\n  /usr/java32/jre1.7.0_03/bin/java          10        manual mode   2<br>\n  /usr/lib/jvm/java-7-oracle/jre/bin/java   14        manual mode\n  * 3            /usr/lib/jvm/java-8-oracle/jre/bin/java   13        manual mode</p>\n</blockquote>\n\n<p>I then found out on Juniper website that Java 32-bit is required to run Juniper on Ubuntu 64-bit - see link <a href=\"http://kb.juniper.net/InfoCenter/index?page=content&amp;id=KB25230\" rel=\"nofollow\">http://kb.juniper.net/InfoCenter/index?page=content&amp;id=KB25230</a>.\nI followed the instructions there and installed java32 and all the libraries - see output of <code>update-alternatives --display java</code>:</p>\n\n<blockquote>\n  <p>java - manual mode   link currently points to\n  /usr/lib/jvm/java-8-oracle/jre/bin/java\n  /usr/java32/jre1.7.0_03/bin/java - priority 10\n  /usr/lib/jvm/java-7-oracle/jre/bin/java - priority 14   slave\n  java.1.gz: /usr/lib/jvm/java-7-oracle/man/man1/java.1.gz\n  /usr/lib/jvm/java-8-oracle/jre/bin/java - priority 13   slave\n  java.1.gz: /usr/lib/jvm/java-8-oracle/man/man1/java.1.gz Current\n  'best' version is '/usr/lib/jvm/java-7-oracle/jre/bin/java'.</p>\n</blockquote>\n\n<p>I also installed IcedTea 7.</p>\n\n<p>I added the websites of my college to the exception list of both Java Control Panel security and Firefox Preferences Security.</p>\n\n<p>Can you please help me resolve the problem preventing Juniper from starting?</p>\n"},{"id":450369,"title":"How to install Juniper VPN on Ubuntu 14.04 LTS?","body":"<p>Could you please help me ?</p>\n\n<p>On my old Ubuntu 13.10 I was able to run Juniper VPN (on Firefox only) using a workaround which requires you to install the missing 32libs and IcedTea (32bits).</p>\n\n<p>However, I recently upgraded from Ubuntu 13.10 to 14.04 (both 64 bits) and my Juniper VPN does not work anymore because it fails during startup showing the following message:</p>\n\n<p>\"Please ensure that necessary 32 bit libraries are installed. For more details, refer KB article KB25230\"</p>\n\n<p>\"Setup failed. Please install 32 bit Java and update alternatives links using update-alternatives command. For more details, refer KB article KB25230\"</p>\n\n<p>For some odd reason, it seems the 14.04 upgrade do not work anymore with the openjdk-7:386 and consequently the Juniper VPN as well.</p>\n\n<p>Any ideas ?\nThanks</p>\n"},{"id":560202,"title":"Juniper VPN service not working - shows error 98","body":"<p>I get this error when trying to connect to my uni's VPN using Juniper (It's not the only thing, but compared to someone who had it working this was the only difference). </p>\n\n<pre><code>IpcConn.error bind failed to port 4242. Error 98 (ncipc.cpp:85)\n</code></pre>\n\n<p>What can I do?</p>\n\n<p>I should probably add that usually you can quit the connection by hitting <code>Ctrl+C</code> but that doesn't work either. It will get stuck, I'll force close the terminal, and entering <code>pidof ncsvc</code> (ncsvc being the app) will show as many processes as attempts I've made at connecting. Killing those and starting anew doesn't seem to help either.</p>\n"},{"id":679711,"title":"VPN Connection from Ubuntu 14.04","body":"<p>so the issue is basically that any attempt to connect to my office VPN fails in Ubuntu 14.04.</p>\n\n<p>There are no special settings but worth mentioning it's to PPTP.</p>\n\n<p>I can ping the server easily enough. I'm not sure what kind of information I can put out here to make this more diagnosable but please let me know.</p>\n\n<p>The output is as follows:</p>\n\n<pre><code>Sep 29 17:24:27 pedri-home NetworkManager[912]: &lt;info&gt; Starting VPN service 'pptp'...\nSep 29 17:24:27 pedri-home NetworkManager[912]: &lt;info&gt; VPN service 'pptp' started (org.freedesktop.NetworkManager.pptp), PID 18760\nSep 29 17:24:27 pedri-home NetworkManager[912]: &lt;info&gt; VPN service 'pptp' appeared; activating connections\nSep 29 17:24:27 pedri-home NetworkManager[912]: &lt;info&gt; VPN plugin state changed: init (1)\nSep 29 17:24:27 pedri-home NetworkManager[912]: &lt;info&gt; VPN plugin state changed: starting (3)\nSep 29 17:24:27 pedri-home pppd[18764]: Plugin /usr/lib/pppd/2.4.5/nm-pptp-pppd-plugin.so loaded.\nSep 29 17:24:27 pedri-home NetworkManager[912]: &lt;info&gt; VPN connection 'Test2' (Connect) reply received.\nSep 29 17:24:27 pedri-home pppd[18764]: pppd 2.4.5 started by root, uid 0\nSep 29 17:24:27 pedri-home pppd[18764]: Using interface ppp0\nSep 29 17:24:27 pedri-home pppd[18764]: Connect: ppp0 &lt;--&gt; /dev/pts/26\nSep 29 17:24:27 pedri-home pptp[18767]: nm-pptp-service-18760 log[main:pptp.c:314]: The synchronous pptp option is NOT activated\nSep 29 17:24:27 pedri-home NetworkManager[912]:    SCPlugin-Ifupdown: devices added (path: /sys/devices/virtual/net/ppp0, iface: ppp0)\nSep 29 17:24:27 pedri-home NetworkManager[912]:    SCPlugin-Ifupdown: device added (path: /sys/devices/virtual/net/ppp0, iface: ppp0): no ifupdown configuration found.\nSep 29 17:24:27 pedri-home NetworkManager[912]: &lt;warn&gt; /sys/devices/virtual/net/ppp0: couldn't determine device driver; ignoring...\nSep 29 17:24:28 pedri-home pptp[18780]: nm-pptp-service-18760 log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 1 'Start-Control-Connection-Request'\nSep 29 17:24:29 pedri-home pptp[18780]: nm-pptp-service-18760 log[ctrlp_disp:pptp_ctrl.c:739]: Received Start Control Connection Reply\nSep 29 17:24:29 pedri-home pptp[18780]: nm-pptp-service-18760 log[ctrlp_disp:pptp_ctrl.c:773]: Client connection established.\nSep 29 17:24:29 pedri-home pptp[18780]: nm-pptp-service-18760 log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 7 'Outgoing-Call-Request'\nSep 29 17:24:29 pedri-home pptp[18780]: nm-pptp-service-18760 log[ctrlp_disp:pptp_ctrl.c:858]: Received Outgoing Call Reply.\nSep 29 17:24:29 pedri-home pptp[18780]: nm-pptp-service-18760 log[ctrlp_disp:pptp_ctrl.c:897]: Outgoing call established (call ID 0, peer's call ID 150).\nSep 29 17:24:58 pedri-home pppd[18764]: LCP: timeout sending Config-Requests\nSep 29 17:24:58 pedri-home pppd[18764]: Connection terminated.\nSep 29 17:24:58 pedri-home NetworkManager[912]: &lt;warn&gt; VPN plugin failed: 1\nSep 29 17:24:58 pedri-home pppd[18764]: Modem hangup\nSep 29 17:24:58 pedri-home pptp[18767]: nm-pptp-service-18760 warn[decaps_hdlc:pptp_gre.c:204]: short read (-1): Input/output error\nSep 29 17:24:58 pedri-home pptp[18767]: nm-pptp-service-18760 warn[decaps_hdlc:pptp_gre.c:216]: pppd may have shutdown, see pppd log\nSep 29 17:24:58 pedri-home pppd[18764]: Exit.\nSep 29 17:24:58 pedri-home NetworkManager[912]: message repeated 2 times: [ &lt;warn&gt; VPN plugin failed: 1]\nSep 29 17:24:58 pedri-home NetworkManager[912]: &lt;info&gt; VPN plugin state changed: stopped (6)\nSep 29 17:24:58 pedri-home NetworkManager[912]: &lt;info&gt; VPN plugin state change reason: 0\nSep 29 17:24:58 pedri-home NetworkManager[912]: &lt;info&gt; Policy set 'Wired connection 1' (eth0) as default for IPv4 routing and DNS.\nSep 29 17:24:58 pedri-home pptp[18780]: nm-pptp-service-18760 log[callmgr_main:pptp_callmgr.c:234]: Closing connection (unhandled)\nSep 29 17:24:58 pedri-home pptp[18780]: nm-pptp-service-18760 log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 12 'Call-Clear-Request'\nSep 29 17:24:58 pedri-home pptp[18780]: nm-pptp-service-18760 log[call_callback:pptp_callmgr.c:79]: Closing connection (call state)\nSep 29 17:24:58 pedri-home NetworkManager[912]: &lt;warn&gt; error disconnecting VPN: Could not process the request because no VPN connection was active.\nSep 29 17:24:58 pedri-home NetworkManager[912]:    SCPlugin-Ifupdown: devices removed (path: /sys/devices/virtual/net/ppp0, iface: ppp0)\nSep 29 17:25:03 pedri-home NetworkManager[912]: &lt;info&gt; VPN service 'pptp' disappeared\n</code></pre>\n"},{"id":662027,"title":"AT&amp;T VPN Client not working on Ubuntu 14.04 64 bits","body":"<p>I am using AT&amp;T VPN client for connecting customer secure zone. My connection is active and working fine when tried from Windows. But when I try to connect from Ubuntu 14.04 (64 bits), it just shows status as \"Connecting\".</p>\n\n<p>Here are details.</p>\n\n<p>Q :I heard from AT&amp;T site that Ubuntu is not supported.\nA : I have searched this community and found out solution and made installation of AT&amp;T VPN client, now it is visible at GUI ICON and I can start connection</p>\n\n<p>I have put all details what has been asked such as </p>\n\n<p>USERNAME\nPASSWORD\nServer IP</p>\n\n<p>Still it just shows status as \"Connecting\" and I can't login to customer sites.\nHow-ever, when I tried to cancel that connection, for 1-2 sec, I see the internal IP address (the one which I normally see when connection is successful) and it does gets disconnect.</p>\n\n<p>Anybody can help?</p>\n"},{"id":649021,"title":"IPSEC/L2TP Ubuntu Studio 14.04 (Strongswan)","body":"<p>My first question: Does Ubuntu support IPSEC/L2TP/PSK vpn CLIENT?</p>\n\n<p>My Second Question: Is there a front end \"Network Manager\" that supports IPSEC/L2TP and PSK?</p>\n\n<blockquote>\n  <p>Background:</p>\n</blockquote>\n\n<p>In my endeavors I came across this article: <a href=\"https://bugs.launchpad.net/ubuntu/+source/network-manager/+bug/264691\" rel=\"nofollow\">https://bugs.launchpad.net/ubuntu/+source/network-manager/+bug/264691</a> - which i have attempted to use the suggestions in - but am still not able to get a working IPSEC/L2TP/PSK tunnel up as it refrences using openswan.</p>\n\n<blockquote>\n  <p>The Situation:</p>\n</blockquote>\n\n<p>I was using Werner Jaeger ipsec client and it worked flawlessly - about 3 or 4 months ago it has stopped working. I have attempted to reinstall it on my desktop using Ubuntu Studio 14.04 and Debian 8 and I get the same results. </p>\n\n<p>I now understand that openswan was removed from the distro and superseded by strongswan. I very much would not like to have to move away from linux as one of the things i do is work from home and need vpn to monitor / test / configure networks. Can someone point me to a good tutorial on configuring it as a client? </p>\n\n<blockquote>\n  <p>Side note:</p>\n</blockquote>\n\n<p>I found this topic <a href=\"http://askubuntu.com/questions/569763/l2tp-ipsec-vpn-client-on-ubuntu-14-10\">L2TP IPsec VPN client on Ubuntu 14.10</a> - tried all the things in there - still nothing - also that article did not answer the question being that it is for 14.10 and im using 14.04 it is technically different - I have done alot of things thus far to get it to work and nothing has helped. Any help would be much appreciated!!!</p>\n\n<hr>\n\n<p>Sorry to dump like this here - seriously - i am desperate to get this working and am at my ends with it - it has been like 3 months now since i was able to work on my desktop. All of the research I have done leads me to believe that open swan will not work anymore and I have to use strongswan. (am i wrong?)</p>\n\n<p>so some things i have been trying to do - </p>\n\n<p>Using strongswan I tried doing this:</p>\n\n<pre><code>apt-get install strongswan network-manager-strongswan\n</code></pre>\n\n<p>It is my understanding that I should see a L2TP/IPSEC option in the network manager. (am i wrong?)</p>\n\n<p>The problem is that l2tp/ipsec/psk as not an option in the network manager after all was installed and rebooted</p>\n\n<p>Also the Werner Jaeger applet disappears after going to strongswan, is that expected?</p>\n\n<p>Next thing I tried to do - </p>\n\n<p>I rolled my machine back to openswan and for the first time in months it gets connected - though after a couple seconds it drops - I figured I'd run 'ipsec verify' to check statuses - below is my steps and my logs minus the sensitive details - any thoughts would be much appreciated</p>\n\n<p>What I ran with to install - </p>\n\n<pre><code>sudo apt-get install openswan\nsudo apt-get install xl2tpd\nsudo apt-get install l2tp-ipsec-vpn\n</code></pre>\n\n<p>I then configured the gui applet</p>\n\n<p>I then configured the file:</p>\n\n<pre><code>/etc/ppp/watevs.options.xl2tpd\n</code></pre>\n\n<p>-Logs-</p>\n\n<pre><code>jason@casa-wesella:~$ sudo ipsec verify\n\nChecking your system to see if IPsec got installed and started correctly:\n\nVersion check and ipsec on-path                                 [OK]\n\nLinux Openswan U2.6.38/K3.16.0-43-lowlatency (netkey)\n\nChecking for IPsec support in kernel                            [OK]\n\n SAref kernel support                                           [N/A]\n\n NETKEY:  Testing XFRM related proc values                      [FAILED]\n\n  Please disable /proc/sys/net/ipv4/conf/*/send_redirects\n  or NETKEY will cause the sending of bogus ICMP redirects!     [FAILED]\n\n  Please disable /proc/sys/net/ipv4/conf/*/accept_redirects\n  or NETKEY will accept bogus ICMP redirects!                   [OK]\n\nChecking that pluto is running                                  [OK]\n\n Pluto listening for IKE on udp 500                             [OK]\n\n Pluto listening for NAT-T on udp 4500                          [OK]\n\nTwo or more interfaces found, checking IP forwarding        Checking NAT and MASQUERADEing                                  [OK]\n\nChecking for 'ip' command                                       [OK]\n\nChecking /bin/sh is not /bin/dash                               [WARNING]\n\nChecking for 'iptables' command                                 [OK]\n\nOpportunistic Encryption Support                                [DISABLED]\n\n\n\n\n&gt; Logs from applet -\n\n\n\nJul 21 15:23:45.505 ipsec_setup: Starting Openswan IPsec U2.6.38/K3.16.0-43-lowlatency...\n\nJul 21 15:23:46.412 ipsec__plutorun: Starting Pluto subsystem...\n\nJul 21 15:23:46.659 ipsec__plutorun: adjusting ipsec.d to /etc/ipsec.d\n\nJul 21 15:23:46.749 recvref[30]: Protocol not available\n\nJul 21 15:23:46.749 xl2tpd[2313]: This binary does not support kernel L2TP.\n\nJul 21 15:23:46.749 xl2tpd[2316]: xl2tpd version xl2tpd-1.3.6 started on casa-wesella PID:2316\n\nJul 21 15:23:46.750 xl2tpd[2316]: Written by Mark Spencer, Copyright (C) \n1998, Adtran, Inc.\n\nJul 21 15:23:46.750 xl2tpd[2316]: Forked by Scott Balmos and David Stipp, (C) 2001\n\nJul 21 15:23:46.750 xl2tpd[2316]: Inherited by Jeff McAdams, (C) 2002\n\nJul 21 15:23:46.750 xl2tpd[2316]: Forked again by Xelerance (www.xelerance.com) (C) 2006\n\nJul 21 15:23:46.751 xl2tpd[2316]: Listening on IP address 0.0.0.0, port 1701\n\nJul 21 15:23:46.752 Starting xl2tpd: xl2tpd.\n\nJul 21 15:23:46.891 ipsec__plutorun: 027 bad right --id: does not look numeric and name lookup failed (ignored)\n\nJul 21 15:23:46.892 ipsec__plutorun: 002 added connection description \"Work\"\n\nJul 21 15:23:47.123 104 \"Work\" #1: STATE_MAIN_I1: initiate\n\nJul 21 15:23:47.124 003 \"Work\" #1: received Vendor ID payload [RFC 3947] method set to=115 \n\nJul 21 15:23:47.124 003 \"Work\" #1: received Vendor ID payload [Dead Peer Detection]\n\nJul 21 15:23:47.124 003 \"Work\" #1: ignoring unknown Vendor ID payload [8299031757a36082c6a621de00050282]\n\nJul 21 15:23:47.124 106 \"Work\" #1: STATE_MAIN_I2: sent MI2, expecting MR2\n\nJul 21 15:23:47.124 003 \"Work\" #1: NAT-Traversal: Result using draft-ietf-ipsec-nat-t-ike (MacOS X): i am NATed\n\nJul 21 15:23:47.124 108 \"Work\" #1: STATE_MAIN_I3: sent MI3, expecting MR3\n\nJul 21 15:23:47.124 004 \"Work\" #1: STATE_MAIN_I4: ISAKMP SA established {auth=OAKLEY_PRESHARED_KEY cipher=oakley_3des_cbc_192 prf=oakley_sha group=modp1024}\n\nJul 21 15:23:47.125 117 \"Work\" #2: STATE_QUICK_I1: initiate\n\nJul 21 15:23:47.125 003 \"Work\" #2: ignoring informational payload, type IPSEC_RESPONDER_LIFETIME msgid=8e08921c\n\nJul 21 15:23:47.125 003 \"Work\" #2: NAT-Traversal: received 2 NAT-OA. ignored because peer is not NATed\n\nJul 21 15:23:47.125 004 \"Work\" #2: STATE_QUICK_I2: sent QI2, IPsec SA established transport mode {ESP=&gt;0x37742a26 &lt;0x478d0d00 xfrm=AES_128-HMAC_SHA1 NATOA=none NATD=none DPD=none}\n\nJul 21 15:23:48.129 xl2tpd[2316]: Connecting to host Public IP, port 1701\n\nJul 21 15:23:48.168 xl2tpd[2316]: Connection established to Public IP, 1701.  Local: 57627, Remote: 14608 (ref=0/0).\n\nJul 21 15:23:48.194 xl2tpd[2316]: Calling on tunnel 57627\n\nJul 21 15:23:48.212 xl2tpd[2316]: Call established with Public IP, Local: 14783, Remote: 14609, Serial: 1 (ref=0/0)\n\nJul 21 15:23:48.212 xl2tpd[2316]: start_pppd: I'm running: \n\nJul 21 15:23:48.213 xl2tpd[2316]: \"/usr/sbin/pppd\" \n\nJul 21 15:23:48.213 xl2tpd[2316]: \"passive\" \n\nJul 21 15:23:48.213 xl2tpd[2316]: \"nodetach\" \n\nJul 21 15:23:48.214 xl2tpd[2316]: \":\" \n\nJul 21 15:23:48.214 xl2tpd[2316]: \"file\" \n\nJul 21 15:23:48.214 xl2tpd[2316]: \"/etc/ppp/Work.options.xl2tpd\" \n\nJul 21 15:23:48.215 xl2tpd[2316]: \"/dev/pts/6\" \n\nJul 21 15:23:48.331 pppd[2427]: Plugin passprompt.so loaded.\n\nJul 21 15:23:48.332 pppd[2427]: pppd 2.4.5 started by root, uid 0\n\nJul 21 15:23:48.333 pppd[2427]: Using interface ppp0\n\nJul 21 15:23:48.333 pppd[2427]: Connect: ppp0 &lt;--&gt; /dev/pts/6\n\nJul 21 15:23:52.345 pppd[2427]: Remote message: Login ok\n\nJul 21 15:23:52.346 pppd[2427]: PAP authentication succeeded\n\nJul 21 15:23:52.390 pppd[2427]: Deflate (15) compression enabled\n\nJul 21 15:23:52.429 pppd[2427]: local  IP address Private IP\n\nJul 21 15:23:52.429 pppd[2427]: remote IP address Private IP\n\nJul 21 15:24:31.977 Stopping xl2tpd: xl2tpd.\n\nJul 21 15:24:31.977 xl2tpd[2316]: death_handler: Fatal signal 15 received\n\nJul 21 15:24:31.979 pppd[2427]: Modem hangup\n\nJul 21 15:24:31.979 pppd[2427]: Connect time 0.7 minutes.\n\nJul 21 15:24:31.980 pppd[2427]: Sent 10334 bytes, received 13370 bytes.\n\nJul 21 15:24:31.980 pppd[2427]: Connection terminated.\n\nJul 21 15:24:31.993 ipsec_setup: Stopping Openswan IPsec...\n\nJul 21 15:24:32.089 pppd[2427]: Exit.\n</code></pre>\n"},{"id":643402,"title":"I can&#39;t get any L2TP + IPSEC client to work on Ubuntu 14.04 with pre-shared key, can you?","body":"<p>Such a simple question, why is it so difficult to get working?</p>\n\n<p>It seems unbelievable but I haven't found a single solution to this that actually worked.  Which is why I'm actually asking this question again.  </p>\n\n<p>None of the proposed answers to similar questions here or anywhere else work, nope, not one. And you will notice that none of them have accepted answers.\nAnd so the question keeps getting asked.  Can we end this madness?</p>\n\n<p>I'm really quite happy for this question to be a community wiki but I don't know how to do that.  I'd just like to know how for the benefit of the entire Ubuntu community, we go about setting this up. Once and for all.</p>\n\n<p>It's such a common protocol and yet Ubuntu seems to be seriously lagging on support for it.  Even though it works out of the box for Windows and OSX.  It seems we have to jump hoops in Ubuntu.</p>\n\n<p>Could someone please share your secret on how you personally got L2TP + IPSec working with a pre-shared key?  I think a reliable working answer will give many Ubuntu users rest at night :)</p>\n\n<p>Cheers.</p>\n\n<hr>\n\n<p>This is what I've tried:</p>\n\n<p><strong>1. strongswan</strong></p>\n\n<pre><code>apt-get install strongswan network-manager-strongswan\n</code></pre>\n\n<p>Well that's just great, the UI doesn't seem to allow a pre-shared key?!?!</p>\n\n<p><strong>2. network-manager-l2tp</strong></p>\n\n<pre><code>https://launchpad.net/~seriy-pr/+archive/ubuntu/network-manager-l2tp\n</code></pre>\n\n<p>This looked promising but doesn't work.  I get the below errors.  Besides that, it's deprecated now because it uses openswan which is no longer supported.  Now we have strongswan (Maybe the Ubuntu developers need to switch to workingswan!)</p>\n\n<p>I wonder if some of these errors are because I'm using an AMD CPU?</p>\n\n<pre><code>Jul  2 14:44:00 xen ipsec_setup: Starting Openswan IPsec 2.6.38...\nJul  2 14:44:01 xen ipsec_setup: Using KLIPS/legacy stack\nJul  2 14:44:01 xen kernel: [   49.125995] sha512_ssse3: Neither AVX nor SSSE3 is available/usable.\nJul  2 14:44:01 xen kernel: [   49.152561] sha256_ssse3: Neither AVX nor SSSE3 is available/usable.\nJul  2 14:44:01 xen kernel: [   49.172064] AVX instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.189713] AVX instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.207982] AVX instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.232719] AVX instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.261421] AVX instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.287047] AVX or AES-NI instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.307848] AVX or AES-NI instructions are not detected.\nJul  2 14:44:01 xen ipsec_setup: No KLIPS support found while requested, desperately falling back to netkey\nJul  2 14:44:01 xen ipsec_setup: NETKEY support found. Use protostack=netkey in /etc/ipsec.conf to avoid attempts to use KLIPS. Attempting to continue with NETKEY\nJul  2 14:44:01 xen kernel: [   49.329498] NET: Registered protocol family 15\nJul  2 14:44:01 xen ipsec_setup: Using NETKEY(XFRM) stack\nJul  2 14:44:01 xen kernel: [   49.403213] Initializing XFRM netlink socket\nJul  2 14:44:01 xen kernel: [   49.501839] sha512_ssse3: Neither AVX nor SSSE3 is available/usable.\nJul  2 14:44:01 xen kernel: [   49.516281] sha256_ssse3: Neither AVX nor SSSE3 is available/usable.\nJul  2 14:44:01 xen kernel: [   49.539742] AVX instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.561641] AVX instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.579962] AVX instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.604578] AVX instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.621050] AVX instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.646920] AVX or AES-NI instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.667841] AVX or AES-NI instructions are not detected.\nJul  2 14:44:01 xen kernel: [   49.686945] netlink: 24 bytes leftover after parsing attributes in process `ip'.\nJul  2 14:44:01 xen ipsec_setup: ...Openswan IPsec started\nJul  2 14:44:01 xen pluto: adjusting ipsec.d to /etc/ipsec.d\nJul  2 14:44:01 xen ipsec__plutorun: adjusting ipsec.d to /etc/ipsec.d\nJul  2 14:44:01 xen NetworkManager[806]: &lt;info&gt; VPN connection 'OTOY Cluster' (Connect) reply received.\nJul  2 14:44:11 xen NetworkManager[806]: &lt;warn&gt; VPN plugin failed: 7\nJul  2 14:44:42 xen NetworkManager[806]: &lt;warn&gt; VPN connection 'OTOY Cluster' (IP Config Get) timeout exceeded.\nJul  2 14:44:42 xen NetworkManager[806]: &lt;info&gt; Policy set 'Wired connection 1' (eth0) as default for IPv4 routing and DNS.\nJul  2 14:44:47 xen NetworkManager[806]: &lt;info&gt; VPN service 'l2tp' disappeared\nJul  2 14:51:35 xen kernel: [  503.672175] netlink: 24 bytes leftover after parsing attributes in process `ip'.\nJul  2 14:51:35 xen kernel: [  503.680945] ip_tables: (C) 2000-2006 Netfilter Core Team\nJul  2 14:51:35 xen kernel: [  503.686441] ip6_tables: (C) 2000-2006 Netfilter Core Team\nJul  2 14:52:04 xen NetworkManager[806]: &lt;info&gt; Starting VPN service 'l2tp'...\nJul  2 14:52:04 xen NetworkManager[806]: &lt;info&gt; VPN service 'l2tp' started (org.freedesktop.NetworkManager.l2tp), PID 3589\nJul  2 14:52:04 xen NetworkManager[806]: &lt;info&gt; VPN service 'l2tp' appeared; activating connections\nJul  2 14:52:04 xen NetworkManager[806]: &lt;info&gt; VPN plugin state changed: starting (3)\nJul  2 14:52:04 xen ipsec_setup: Stopping Openswan IPsec...\nJul  2 14:52:05 xen kernel: [  533.776479] netlink: 24 bytes leftover after parsing attributes in process `ip'.\nJul  2 14:52:05 xen kernel: [  534.105661] NET: Unregistered protocol family 15\nJul  2 14:52:06 xen ipsec_setup: ...Openswan IPsec stopped\n</code></pre>\n\n<p><strong>3. And a bunch of others</strong> </p>\n\n<p>These all involved editing .conf files.  None of which worked out either.</p>\n"},{"id":579352,"title":"PPTP VPN Connection - Ubuntu 14.04","body":"<p>It is driving me crazy! I am trying to connect to my university via VPN (PPTP) using Ubuntu 14.04.</p>\n\n<p>I can successfully connect to VPN using Windows 8.1. Even if I just use a Ubuntu 14.04 Image (booting from a USB stick) it does work.</p>\n\n<p>But if I try the same thing under my Ubuntu system I get the follwing (\"sudtail -f /var/log/syslog\n\"). I really don't understand a thing since I am totally new to Linux:</p>\n\n<pre><code>Jan 29 18:35:58 merlin-CELSIUS-M470-2 NetworkManager[20802]: &lt;info&gt; Starting VPN service 'pptp'...\nJan 29 18:35:58 merlin-CELSIUS-M470-2 NetworkManager[20802]: &lt;info&gt; VPN service 'pptp' started (org.freedesktop.NetworkManager.pptp), PID 20925\nJan 29 18:35:58 merlin-CELSIUS-M470-2 NetworkManager[20802]: &lt;info&gt; VPN service 'pptp' appeared; activating connections\nJan 29 18:35:58 merlin-CELSIUS-M470-2 NetworkManager[20802]: &lt;info&gt; VPN plugin state changed: starting (3)\nJan 29 18:35:58 merlin-CELSIUS-M470-2 NetworkManager[20802]: &lt;info&gt; VPN connection 'HTWG Konstanz' (Connect) reply received.\nJan 29 18:35:58 merlin-CELSIUS-M470-2 pppd[20929]: Plugin /usr/lib/pppd/2.4.5/nm-pptp-pppd-plugin.so loaded.\nJan 29 18:35:58 merlin-CELSIUS-M470-2 pppd[20929]: pppd 2.4.5 started by root, uid 0\nJan 29 18:35:58 merlin-CELSIUS-M470-2 pppd[20929]: Using interface ppp0\nJan 29 18:35:58 merlin-CELSIUS-M470-2 pppd[20929]: Connect: ppp0 &lt;--&gt; /dev/pts/6\nJan 29 18:35:58 merlin-CELSIUS-M470-2 NetworkManager[20802]:    SCPlugin-Ifupdown: devices added (path: /sys/devices/virtual/net/ppp0, iface: ppp0)\nJan 29 18:35:58 merlin-CELSIUS-M470-2 NetworkManager[20802]:    SCPlugin-Ifupdown: device added (path: /sys/devices/virtual/net/ppp0, iface: ppp0): no ifupdown configuration found.\nJan 29 18:35:58 merlin-CELSIUS-M470-2 NetworkManager[20802]: &lt;warn&gt; /sys/devices/virtual/net/ppp0: couldn't determine device driver; ignoring...\nJan 29 18:35:58 merlin-CELSIUS-M470-2 pptp[20933]: nm-pptp-service-20925 log[main:pptp.c:314]: The synchronous pptp option is NOT activated\nJan 29 18:35:58 merlin-CELSIUS-M470-2 pptp[20947]: nm-pptp-service-20925 log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 1 'Start-Control-Connection-Request'\nJan 29 18:35:58 merlin-CELSIUS-M470-2 pptp[20947]: nm-pptp-service-20925 log[ctrlp_disp:pptp_ctrl.c:739]: Received Start Control Connection Reply\nJan 29 18:35:58 merlin-CELSIUS-M470-2 pptp[20947]: nm-pptp-service-20925 log[ctrlp_disp:pptp_ctrl.c:773]: Client connection established.\nJan 29 18:35:59 merlin-CELSIUS-M470-2 pptp[20947]: nm-pptp-service-20925 log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 7 'Outgoing-Call-Request'\nJan 29 18:35:59 merlin-CELSIUS-M470-2 pptp[20947]: nm-pptp-service-20925 log[ctrlp_disp:pptp_ctrl.c:858]: Received Outgoing Call Reply.\nJan 29 18:35:59 merlin-CELSIUS-M470-2 pptp[20947]: nm-pptp-service-20925 log[ctrlp_disp:pptp_ctrl.c:897]: Outgoing call established (call ID 0, peer's call ID 5319).\nJan 29 18:36:38 merlin-CELSIUS-M470-2 NetworkManager[20802]: &lt;warn&gt; VPN connection 'HTWG Konstanz' (IP Config Get) timeout exceeded.\nJan 29 18:36:38 merlin-CELSIUS-M470-2 NetworkManager[20802]: &lt;info&gt; Policy set 'Kabelnetzwerk' (eth0) as default for IPv4 routing and DNS.\nJan 29 18:36:38 merlin-CELSIUS-M470-2 NetworkManager[20802]: &lt;info&gt; Policy set 'Kabelnetzwerk' (eth0) as default for IPv6 routing and DNS.\nJan 29 18:36:38 merlin-CELSIUS-M470-2 pppd[20929]: Terminating on signal 15\nJan 29 18:36:38 merlin-CELSIUS-M470-2 pppd[20929]: Connection terminated.\nJan 29 18:36:38 merlin-CELSIUS-M470-2 avahi-daemon[862]: Withdrawing workstation service for ppp0.\nJan 29 18:36:38 merlin-CELSIUS-M470-2 NetworkManager[20802]:    SCPlugin-Ifupdown: devices removed (path: /sys/devices/virtual/net/ppp0, iface: ppp0)\nJan 29 18:36:38 merlin-CELSIUS-M470-2 pppd[20929]: Child process /usr/sbin/pptp 141.37.1.27 --nolaunchpppd --loglevel 0 --logstring nm-pptp-service-20925 (pid 20931) terminated with signal 15\nJan 29 18:36:38 merlin-CELSIUS-M470-2 pptp[20933]: nm-pptp-service-20925 warn[decaps_hdlc:pptp_gre.c:204]: short read (-1): Input/output error\nJan 29 18:36:38 merlin-CELSIUS-M470-2 pptp[20933]: nm-pptp-service-20925 warn[decaps_hdlc:pptp_gre.c:216]: pppd may have shutdown, see pppd log\nJan 29 18:36:38 merlin-CELSIUS-M470-2 pppd[20929]: Exit.\nJan 29 18:36:38 merlin-CELSIUS-M470-2 pptp[20947]: nm-pptp-service-20925 log[callmgr_main:pptp_callmgr.c:234]: Closing connection (unhandled)\nJan 29 18:36:38 merlin-CELSIUS-M470-2 pptp[20947]: nm-pptp-service-20925 log[ctrlp_rep:pptp_ctrl.c:251]: Sent control packet type is 12 'Call-Clear-Request'\nJan 29 18:36:38 merlin-CELSIUS-M470-2 pptp[20947]: nm-pptp-service-20925 log[call_callback:pptp_callmgr.c:79]: Closing connection (call state)\nJan 29 18:36:43 merlin-CELSIUS-M470-2 NetworkManager[20802]: &lt;info&gt; VPN service 'pptp' disappeared\nJan 29 18:37:14 merlin-CELSIUS-M470-2 kernel: [ 1503.496594] [UFW BLOCK] IN=eth0 OUT= MAC=01:00:5e:00:00:01:5c:35:3b:ff:5d:8f:08:00 SRC=192.168.0.1 DST=224.0.0.1 LEN=28 TOS=0x00 PREC=0xC0 TTL=1 ID=7764 PROTO=2 \nJan 29 18:37:14 merlin-CELSIUS-M470-2 kernel: [ 1504.223924] [UFW BLOCK] IN=eth0 OUT= MAC=01:00:5e:00:00:01:00:1f:3f:5d:13:b6:08:00 SRC=192.168.178.2 DST=224.0.0.1 LEN=36 TOS=0x00 PREC=0xC0 TTL=1 ID=0 DF PROTO=2 \n</code></pre>\n\n<p>I already tryied to deactivate the firewall completely but nothing happened.\nAny recommondations?</p>\n\n<p>Thx, Merlin.</p>\n"},{"id":522546,"title":"Setting up Juniper VPN on 14.04","body":"<p>I saw <a href=\"http://askubuntu.com/questions/450369/how-to-install-juniper-vpn-on-ubuntu-14-04-lts\">this post</a>, but unfortunately continue to have issues as seen here: <img src=\"http://i.stack.imgur.com/4KctR.png\" alt=\"http://i.stack.imgur.com/4KctR.png\"></p>\n\n<p>Does anyone have suggestions for fixing this issue?</p>\n\n<p>Thanks!</p>\n"},{"id":514974,"title":"CheckPoint SSL and Ubuntu 14.04","body":"<p>I have the following issue. In our company we use Checkpoint endpoint client. However I started using Ubuntu 14.04 and since there is no client for it I need to log into the SSL Portal. Once I log in and press Connect so to connect to the SSL VPN a new window appears saying that Java is not installed. However, I have installed a few different JAVAs , including ORacle one v.8.\nThen I can browse intranet sites but I cannot make Rremote desktop to different server in the organization.\nChecking with ifconfig shows an ip only from a 192.168.x.x network. As far as I know I need to have also another network adapter with address from 172.x.x.x something network.</p>\n\n<p>I'm sorry If I haven't explained the best way, but I'm new into Linux systems, \nI'd appreciate your help.</p>\n\n<p>Thank you!</p>\n"}]}]