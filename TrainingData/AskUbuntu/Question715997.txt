[{"id":715997,"title":"password not working, memery all used up. helpme","body":"<p>I'm completely clueless about ubuntu and computers really. I was directed towards ubuntu by a friend and now im in big trouble really.</p>\n\n<p>My laptop started acting funny on thursday. It used up all memory and started showing notification saying  no space left on the device.</p>\n\n<p>My case might be a lost battle really coz i actually changed the file permissions because i wanted to put one a file that i was not allowed to put. </p>\n\n<p>what i did was change the permission of desktop to my username as admin and thought i must change the group to root . All these are write and read permitted. Immediately i did this memory was all used up.  I tried to free up something like 20gig of memory but that too was used up.</p>\n\n<p>I tried emptying trash but it couldn't do that. . could still use it through out the night, but friday morning, it stopped working. could not log on and i tried guest login which worked till mid day yesterday .since then even the guest login is not working. sudo was not working since problem started. trying to use sudo return the folowing problem.</p>\n\n<pre><code>sudo: error in /etc/sudo.conf, line 0 while loading plugin 'sudoers_policy'\nsudo:  /usr/lib/sudo/sudoers.so must be only be writable by owner\nsudo:  fatal error , unable to load plugins\n</code></pre>\n\n<p><strong>Additional info.</strong>  The password is correct coz if i deliberately enter wrong password  it showshat the  entered password is wrong. tried to change password from recovery and  i get </p>\n\n<pre><code>passwd:  authentication token manipulation error\npassword : unchanged\n</code></pre>\n\n<p>Somebody help me here. been fearing for the worse though e.g having to forget and boot with ubuntu disk.but had some important documents&amp; work on the pc.im using 15.04 if that help.</p>\n\n<p>Thanks in advance.</p>\n","related_questions":[{"id":697981,"title":"Ubuntu Password Problem","body":"<p>I was working on my system when suddenly I was no longer able to use the sudo command. It was acting as if I was not entering the password correctly. I rebooted and found that I cannot log into my account anymore. I logged into another account and that works fine. This other user does have sudo access so I tried changing my first accounts password but to no avail. I know for a fact I'm typing the right password. Does anyone have any ideas as to what could cause this?</p>\n"},{"id":639053,"title":"Enable shutdown from another computer on LAN without entering sudo password","body":"<p>I'm trying to execute this script from my laptop to shutdown the server without having to enter the sudo password. (Both are running Ubuntu 14.04.2 LTS)</p>\n\n<pre><code>ssh -t lachlan@192.168.0.xxx sudo shutdown -h now\n\n\nlachlan@lachlan-MacBookAir:~/.scripts$ ./optiplex_990_shutdown.sh\n[sudo] password for lachlan: \nConnection to 192.168.0.xxx closed.\n</code></pre>\n\n<p>As you can see it still asks for password. The following lines are included in the sudoers file edited using <code>sudo visudo</code>.</p>\n\n<pre><code>Cmnd_Alias SHUTDOWN_CMDS = /sbin/poweroff, /sbin/halt, /sbin/reboot\nlachlan lachlan-MacBookAir= NOPASSWD: SHUTDOWN_CMDS\n</code></pre>\n\n<p>The output from <code>sudo -l</code> is</p>\n\n<pre><code>User lachlan may run the following commands on ubuntu:\n(ALL) NOPASSWD: /sbin/poweroff, /sbin/halt, /sbin/reboot\n(ALL : ALL) ALL\n</code></pre>\n\n<p>BTW lachlan is also the username for admin on the server</p>\n\n<p>I've also tried to run the following</p>\n\n<pre><code>ssh lachlan@192.168.0.xxx dbus-send --system --print-reply --dest=org.freedesktop.ConsoleKit /org/freedesktop/ConsoleKit/Manager org.freedesktop.ConsoleKit.Manager.Stop\n</code></pre>\n\n<p>and i get the following in terminal</p>\n\n<pre><code>Error org.freedesktop.ConsoleKit.Manager.NotPrivileged: Not Authorized\n</code></pre>\n\n<p>I would prefer to use the second method <code>dbus-send</code> and I have this working for my intel NUC running Kodibuntu but the Ubuntu server must be more secure in some way.  BTW I've set up Key-based authentication for ssh connections so it's not that asking me for the password.</p>\n\n<p>Thanks in advance. Apologies for the bad formatting in this post (first question)</p>\n\n<p>I've compared the contents of<br>\n<code>/usr/share/polkit-1/actions/org.freedesktop.consolekit.policy</code><br>\non both machines, the intel nuc running kodibuntu and the optiplex 990 running ubuntu server and they're both the same.  So it must be that there are multiple user logged in right? No. I tried logging multiple user in to the nuc via ssh from 2 other laptops and checked with <code>who -a</code>.  Then I ran the following script<br>\n<code>ssh lachlan@192.168.0.xxx dbus-send --system --print-reply --dest=org.freedesktop.ConsoleKit /org/freedesktop/ConsoleKit/Manager org.freedesktop.ConsoleKit.Manager.Stop</code><br>\nNo problem, all works. I logged the same 2 computers in to the ubuntu server and ran the same script and I get<br>\n<code>Error org.freedesktop.ConsoleKit.Manager.NotPrivileged: Not Authorized</code></p>\n\n<p>Ok. From terminal on each machine just to eliminate any stupid mistakes I might be making I entered the command<br>\n<code>dbus-send --system --print-reply --dest=org.freedesktop.ConsoleKit /org/freedesktop/ConsoleKit/Manager org.freedesktop.ConsoleKit.Manager.Stop</code><br>\nand same result. So on kodibuntu you don't have to be admin and on ubuntu server you do.  How do you change that &amp; should I?</p>\n"},{"id":606738,"title":"Can&#39;t change password Ubuntu 14.04 LTS after try many ways","body":"<p>I'm suffering with a suck problem. When I installed Ubuntu 14.04, I created a password but seem I tick start without log in. After few day using normally, I show a pop-up ask me to authentication for login keyring or something on today (I don't remember clearly). I tried to fill with my password but it doesn't pass. So, I tried to change password and seeing that something wrong with my password. I lost it. I try to login with Recovery mode to has root user and try commands:</p>\n\n<pre><code>mount -o remount,rw /;\npasswd &lt;myuser&gt;\nreboot -f\n</code></pre>\n\n<p>It said that changed successfully but when I tried with command</p>\n\n<pre><code>sudo su\n</code></pre>\n\n<p>I can't go to root because password not true.</p>\n\n<p>I tried another way is type <kbd>E</kbd> when chose in Grub GUI to change loading to Ubuntu but it say that <code>init</code> can't start and being turned off and hang on it (Caps Lock light turn on and turn off again and again). </p>\n\n<p>Is it a bug of Ubuntu 14.04 LTS or what's matter with my laptop? What should I do now?</p>\n"},{"id":521863,"title":"Enabling root privileges permanently and have no password","body":"<p>I want to enable root privileges permanently so that, for example, I never need to type sudo. I also want a blank password.</p>\n\n<p>I found a thread addressing this with link <a href=\"http://askubuntu.com/questions/20984/always-sudo-privileges\">Always Sudo Privileges</a>. Exactly what I want to do is summarized as follows.</p>\n\n<ol>\n<li><p>Run the commands below, and compare the outputs</p>\n\n<pre><code>sudo cat /etc/shadow\nsudo sed \"s/\\(^$(whoami):\\)[^:]*/\\1/\" /etc/shadow\n</code></pre>\n\n<p>You should see that the latter has removed the gibberish in front of your username (which is read using <code>$(whoami)</code>). (If you don't, don't continue!)</p></li>\n<li><p>When you're ready, run the command to overwrite /etc/shadow (at your own risk!)</p>\n\n<pre><code>sudo sed \"s/\\(^$(whoami):\\)[^:]*/\\1/\" /etc/shadow &gt; /etc/shadow\n</code></pre></li>\n<li><p>Your account now has a blank password, and you should no longer be prompted for sudo permissions. (At least, that's what happened to me.)</p></li>\n</ol>\n\n<p>The problem is that I get a permission denied on the command that actually changes <code>/etc/shadow</code>. Changing ownership of the file first allows the command to execute, but then I do not seem to have a blank password. If I log out, I can't get back in, neither blank nor my original password are accepted.</p>\n\n<p>Please help me understand why these directions are not working for me.</p>\n\n<p>I have seen several questions like this in trying to resolve my issue, and they often devolve into a lecture on why some feel this is a bad idea. Please just help me figure this out without this thread going there. Without knowing my specific situation, no one on this thread can know that this is a bad idea.</p>\n"},{"id":418227,"title":"Default sudo settings did not require password","body":"<p>This is for a 12.04 ec2 instance. </p>\n\n<p>In the man pages it says the default should be to require a password when using sudo. I thought by setting the ubuntu's account password (in case it wasn't set) that might start prompting me for a password when using sudo, but when I used the passwd command it required me to enter the original password before allowing me to change it. So, even though it appeared to be set already, it wasn't prompting me for a sudo pass, and after I used sudo to override and change the ubuntu account password, it still is not asking for a sudo pass.</p>\n\n<p>Anyway, I'm not sure how important those details actually are. Here is my sudoers file:</p>\n\n<pre><code>#\n# This file MUST be edited with the 'visudo' command as root.\n#\n# Please consider adding local content in /etc/sudoers.d/ instead of\n# directly modifying this file.\n#\n# See the man page for details on how to write a sudoers file.\n#\nDefaults     env_reset\nDefaults     secure_path=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n\n# Host alias specification\n\n# User alias specification\n\n# Cmnd alias specification\n\n# User privilege specification\nroot    ALL=(ALL:ALL) ALL\n\n# Members of the admin group may gain root privileges\n%admin ALL=(ALL) ALL\n\n# Allow members of group sudo to execute any command\n%sudo   ALL=(ALL:ALL) ALL\n\n# See sudoers(5) for more information on \"#include\" directives:\n\n#includedir /etc/sudoers.d\n</code></pre>\n\n<p>In all the examples I've come across where people didn't know why they had passwordless sudo setup, it seemed to be because of some sort of explicit \"NOPASSWD:ALL\" line in the sudoers file (which mine doesn't have). I tried doing:</p>\n\n<pre><code>%admin ALL:(ALL) PASSWD: ALL\n</code></pre>\n\n<p>but it didn't help.</p>\n\n<p>id output:</p>\n\n<pre><code>uid=1000(ubuntu) gid=1000(ubuntu) groups=1000(ubuntu),4(adm),20(dialout),24(cdrom),25(floppy),29(audio),30(dip),44(video),46(plugdev),110(netdev),111(admin)\n</code></pre>\n"},{"id":352970,"title":"Sudo su setting default password automatique","body":"<p>I'm a newbie linux (Ubuntu) user and i have a question to <code>sudo su</code>,\nI always like use the root in the shell for no annoying privilgies errors :)</p>\n\n<p>But the problem is <code>sudo su</code> always ask me for a password and this is also annoying to me, because i'm on studying about linux so i open alots of shells and close them in short time :D</p>\n\n<p>For that i tried write this little bash script :</p>\n\n<pre><code>#!/bin/bash\necho \"My_Password\" | sudo su\n</code></pre>\n\n<p>And make a symbolic link to it for executing it each time i open a shell, this is less annoying, because sudo always ask me for the password and sometimes i do some mistake in it :)</p>\n\n<p>But the problem is the bash script doesn't work :(\nDoes anyone know how to this??, or setting my password in sudo config file and it doesn't ask me anymore for the password?? :)</p>\n\n<p>Thank you all</p>\n"},{"id":290936,"title":"Sudoers NOPASSWD for command not working but ALL is","body":"<p>I've been trying to grant www-data to use sudo service apache2 restart without a password but no matter what I try, nothing works. I have read a few hundred posts regarding this issue on different forums but nothing in them helps.</p>\n\n<p>I know that the permissions are added in order, so the specific command should go at the end of the list. Here is my file:</p>\n\n<pre><code>#\n# This file MUST be edited with the 'visudo' command as root.\n#\n# Please consider adding local content in /etc/sudoers.d/ instead of\n# directly modifying this file.\n#\n# See the man page for details on how to write a sudoers file.\n#\nDefaults        env_reset\nDefaults        secure_path=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n\n# Host alias specification\n\n# User alias specification\n\n# Cmnd alias specification\n\n\n# User privilege specification\nroot    ALL=(ALL) ALL\n\n# Members of the admin group may gain root privileges\n%admin ALL=(ALL) ALL\n\n# Allow members of group sudo to execute any command\n%sudo   ALL=(ALL) ALL\n\n# See sudoers(5) for more information on \"#include\" directives:\n\n# includedir /etc/sudoers.d\n\n%www-data ALL=(ALL) NOPASSWD: /usr/sbin/service apache2 restart\n</code></pre>\n\n<p>From what I gather, anyone in www-data should now be able to run sudo service apache2 restart and not require a password. It still asks for a password. I have tried to add:</p>\n\n<pre><code>%www-data ALL=(ALL) NOPASSWD: ALL\n</code></pre>\n\n<p>And that works as expected. I can give them no password for all commands but not for one. Of course that would be really bad idea.</p>\n\n<p>Any help would be appreciated. This is the latest version of Ubuntu</p>\n"},{"id":221464,"title":"password does not work for everything &quot;anymore&quot;!","body":"<p>I did set my password as I installed Ubuntu some months ago, and all is running flawless up to few days ago. Since then, although I did never change my password, the whole authentication is not working properly anymore:</p>\n\n<ul>\n<li>I can log in at start, BUT</li>\n<li>I can't install updates anymore (I type the password, and I get back the answer \"authentication attempt was unsuccessful\") and</li>\n<li>I can't change my password anymore (same answer as above when I try to unlock the user-account)</li>\n<li>when I'm AFK for more than 10 minutes, come back and the pc is locked, I cannot log in anymore (same as above, I guess, i did not write it down, but he does not get my password anymore)</li>\n</ul>\n\n<p>I read a bit here and there searching for similar problems, and although I kind of believe now that Ubuntu might have more than one password (right?), I still cannot understand why the same password which used to work for everything up to one week ago, is now \"half\" useless...</p>\n\n<p>thankful for any help to set everything alright again (and to understand whats going on as well),\nkind regards, Max</p>\n"},{"id":231233,"title":"Ubuntu 12.10 password don&#39;t works after login","body":"<p>During a complete fresh installation I choosed a case sensitive password with an \"!\" inside the string, it works fine for the normal login, but when I try to use <code>sudo</code> or <code>su</code> or <code>passwd</code> or some GUI stuff which requires a password I get an authentication error.</p>\n\n<p>I really have no idea what to do, I tried to enter the password in an editor to check numlock, etc... no problem.</p>\n\n<p>After the login I get an error (ca. 1 minute after login), in german:</p>\n\n<blockquote>\n  <p>\"Es wurde ein Problem mit einer Systemanwendung festgestellt\"</p>\n</blockquote>\n\n<p>Something like:</p>\n\n<blockquote>\n  <p>\"There is a problem with a system process/program\"</p>\n</blockquote>\n"},{"id":35221,"title":"Ubuntu Server Automatically Insert Password Using Python3","body":"<p>I'm trying to create a small python3 program for my friend which will install and configure the nessarcary set-up for his Ubuntu Server.</p>\n\n<p>I want him to be able to start the program, give some basic information and be able to just leave the program to run.</p>\n\n<p>The thing is, to do this I need the python file to send the password to the CL when requested for sudo commands.</p>\n\n<p>I tried doing this for updating the Ubuntu Server:</p>\n\n<pre><code>os.system('sudo aptitude update &amp;&amp; sudo aptitude dist-upgrade')\nos.system(password)\n</code></pre>\n\n<p>After having the program request the password with this:</p>\n\n<pre><code>password=input('Please Enter Your Password')\n</code></pre>\n\n<p>But it didn't work. The CL just sits there waiting for the user to enter the password manually. Is ther anyway to get around this?</p>\n\n<p>Thanks!</p>\n"}]}]