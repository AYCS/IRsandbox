[{"id":715237,"title":"dig times out while host works","body":"<p>I'm currently running a relatively fresh installation of Ubuntu GNOME 15.10 on a notebook connected via Wifi. Other network interfaces are present (mobile broadband, ethernet) but apart from the lo interface not connected.</p>\n\n<p>When running <code>dig example.com</code> or <code>dig @8.8.8.8 example.com</code> the query times out while <code>host example.com</code> works fine.</p>\n\n<p>The network routes fetched via <code>route -n</code> look fine to me. As far as I'm aware there are no filters present on this network.</p>\n\n<p>I've used Debian from only command line for a few years, but I'm quite new to Ubuntu - especially with a graphical shell. I'd appreciate your help!</p>\n","related_questions":[{"id":347152,"title":"Why is the /etc/hosts file not working?","body":"<p>I have been having problems with this for a while and have tried everything I know, so I figured it was finally time to ask for some help.</p>\n\n<p>Any edit I make to <code>/etc/hosts</code> just doesn't work.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>julian@ifrit:~$ cat /etc/hosts\n127.0.0.1   localhost\n127.0.1.1   ifrit\n192.168.1.100   dev.julianfernand.es\n</code></pre>\n\n<p>In the example above, when I access <strong><code>dev.julianfernand.es</code></strong> (this doesn't exist), it should load from <strong><code>192.168.1.100</code></strong>.</p>\n\n<p>If I ping, it works just fine. However when I access <strong><code>dev.julianfernand.es</code></strong> using Google Chrome or Firefox, it doesn't.</p>\n\n<p>Now, after I restart a couple times, it works. But since I work at a managed WordPress hosting company, I deal with many situations where I have to edit my file to see the customer's website on our server.</p>\n\n<p>I just can't keep restarting my computer. It isn't productive at all. Restarting the networking service doesn't work, same for clearing cache (even internal Chrome DNS cache).</p>\n\n<p>Does anyone have an idea here? This happens with elementaryOS (based on Ubuntu 12.04) and Ubuntu 13.10 (daily). Haven't tried with any other version yet.</p>\n\n<p><strong>PS:</strong> if this matter, I have a NGINX server running on this machine with PHP-FPM and MySQL.</p>\n\n<p>Thanks in advance :)</p>\n"},{"id":55597,"title":"Can&#39;t browse the internet nor ping a host, but dig works","body":"<p>I am not able to browse any websites. Please take a look at the following error:</p>\n\n<pre><code>karthick@karthick:~$ ping www.google.com                         \nping: unknown host www.google.com\n</code></pre>\n\n<h2>Update</h2>\n\n<pre><code>karthick@karthick:~$ dig www.google.com\n\n; &lt;&lt;&gt;&gt; DiG 9.7.1-P2 &lt;&lt;&gt;&gt; www.google.com\n;; global options: +cmd\n;; Got answer:\n;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 26402\n;; flags: qr rd ra; QUERY: 1, ANSWER: 6, AUTHORITY: 4, ADDITIONAL: 4\n\n;; QUESTION SECTION:\n;www.google.com.            IN  A\n\n;; ANSWER SECTION:\nwww.google.com.     238583  IN  CNAME   www.l.google.com.\nwww.l.google.com.   97  IN  A   74.125.236.50\nwww.l.google.com.   97  IN  A   74.125.236.48\nwww.l.google.com.   97  IN  A   74.125.236.52\nwww.l.google.com.   97  IN  A   74.125.236.49\nwww.l.google.com.   97  IN  A   74.125.236.51\n\n;; AUTHORITY SECTION:\ngoogle.com.     146866  IN  NS  ns3.google.com.\ngoogle.com.     146866  IN  NS  ns2.google.com.\ngoogle.com.     146866  IN  NS  ns1.google.com.\ngoogle.com.     146866  IN  NS  ns4.google.com.\n\n;; ADDITIONAL SECTION:\nns2.google.com.     317814  IN  A   216.239.34.10\nns1.google.com.     317814  IN  A   216.239.32.10\nns3.google.com.     317814  IN  A   216.239.36.10\nns4.google.com.     317814  IN  A   216.239.38.10\n\n;; Query time: 5 msec\n;; SERVER: 172.29.39.212#53(172.29.39.212)\n;; WHEN: Wed Aug  3 15:30:38 2011\n;; MSG SIZE  rcvd: 268\n</code></pre>\n\n<h1>Output:</h1>\n\n<pre><code>karthick@karthick:~$ ifconfig\neth0      Link encap:Ethernet  HWaddr bc:30:5b:c4:fd:dc  \ninet addr:172.29.XX.XX  Bcast:172.29.XX.XXX  Mask:255.255.255.0\ninet6 addr: fe80::be30:5bff:fec4:fddc/64 Scope:Link\nUP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\nRX packets:1757954 errors:0 dropped:0 overruns:0 frame:0\nTX packets:1422948 errors:0 dropped:0 overruns:0 carrier:0\ncollisions:0 txqueuelen:1000 \nRX bytes:1329324192 (1.3 GB)  TX bytes:1231317787 (1.2 GB)\nInterrupt:16 \n\nlo        Link encap:Local Loopback  \ninet addr:127.0.0.1  Mask:255.0.0.0\ninet6 addr: ::1/128 Scope:Host\nUP LOOPBACK RUNNING  MTU:16436  Metric:1\nRX packets:10528 errors:0 dropped:0 overruns:0 frame:0\nTX packets:10528 errors:0 dropped:0 overruns:0 carrier:0\ncollisions:0 txqueuelen:0 \nRX bytes:768164 (768.1 KB)  TX bytes:768164 (768.1 KB)\n\nkarthick@karthick:~$ sudo iptables -nvL\n[sudo] password for karthick: \nChain INPUT (policy ACCEPT 0 packets, 0 bytes)\npkts bytes target     prot opt in     out     source           destination         \n\nChain FORWARD (policy ACCEPT 0 packets, 0 bytes)\npkts bytes target     prot opt in     out     source           destination         \n\nChain OUTPUT (policy ACCEPT 0 packets, 0 bytes)\npkts bytes target     prot opt in     out     source               destination \n</code></pre>\n"},{"id":704027,"title":"WiFi stopped working after re-sizing root partition, wlan0 gone in Ubuntu 14.04, but works fine in live usb","body":"<p>I needed to increase my ubuntu root partition size. I booted from live USB then resized the partition. After rebooting to Ubuntu everything was ok, but Wifi stopped working and wlan0 is gone from \"iwconfig\". Then I rebooted with the live cd, wifi was working. And was also working with windows 10. I tried reinstalling linux-firmware, and installing \"linux-generic-lts-vivid\" but no luck. \nHere is my wireless-info</p>\n\n#### wireless info START\n\n<p>Report from: 30 Nov 2015 04:29 BDT +0600</p>\n\n<p>Booted last: 30 Nov 2015 04:27 BDT +0600</p>\n\n<p>Script from: 27 Sep 2015 00:34 UTC +0000</p>\n\nrelease\n\n<p>Distributor ID: Ubuntu\nDescription:    Ubuntu 14.04.3 LTS\nRelease:    14.04\nCodename:   trusty</p>\n\nkernel\n\n<p>Linux 3.19.0-33-generic #38~14.04.1-Ubuntu SMP Fri Nov 6 18:17:28 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux</p>\n\n<p>Parameters: ro, quiet, splash, vt.handoff=7</p>\n\ndesktop\n\n<p>Ubuntu (from ~/.dmrc)</p>\n\nlspci\n\n<p>03:00.0 Network controller [0280]: Ralink corp. RT3290 Wireless 802.11n 1T/1R PCIe [1814:3290]\n    Subsystem: Hewlett-Packard Company Ralink RT3290LE 802.11bgn 1x1 Wi-Fi and Bluetooth 4.0 Combo Adapter [103c:18ec]</p>\n\n<p>03:00.1 Bluetooth [0d11]: Ralink corp. RT3290 Bluetooth [1814:3298]</p>\n\nlsusb\n\n<p>Bus 004 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub\nBus 004 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 003 Device 005: ID 04f2:b370 Chicony Electronics Co., Ltd \nBus 003 Device 004: ID 148e:099a EVATRONIX SA \nBus 003 Device 003: ID 138a:003d Validity Sensors, Inc. VFS491\nBus 003 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub\nBus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub\nBus 001 Device 002: ID 0421:069a Nokia Mobile Phones 130 [RM-1035] (Charging only)\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub</p>\n\nPCMCIA card info\n\nrfkill\n\nlsmod\n\n<p>hp_wmi                 16384  0 \nsparse_keymap          16384  1 hp_wmi\nwl                   6369280  0 \ncfg80211              524288  1 wl\nwmi                    20480  1 hp_wmi</p>\n\ninterfaces\n\n<p>auto lo\niface lo inet loopback</p>\n\nifconfig\n\n<p>eth4      Link encap:Ethernet  HWaddr <br>\n          inet addr:192.168.2.100  Bcast:192.168.2.255  Mask:255.255.255.0\n          inet6 addr: fe80::/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1400  Metric:1\n          RX packets:186 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:292 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:61231 (61.2 KB)  TX bytes:37675 (37.6 KB)</p>\n\niwconfig\n\n<p>eth4      no wireless extensions.</p>\n\n<p>lo        no wireless extensions.</p>\n\nroute\n\n<p>Kernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n0.0.0.0         192.168.2.1     0.0.0.0         UG    0      0        0 eth4\n192.168.2.0     0.0.0.0         255.255.255.0   U     1      0        0 eth4</p>\n\nresolv.conf\n\n<p>nameserver 127.0.1.1\nsearch local</p>\n\nnetwork managers\n\n<p>Installed:</p>\n\n<pre><code>NetworkManager\n</code></pre>\n\n<p>Running:</p>\n\n<p>root       823     1  0 04:26 ?        00:00:00 NetworkManager</p>\n\nNetworkManager info\n\n<p>NetworkManager Tool</p>\n\n<p>State: connected (global)</p>\n\n<ul>\n<li><p>Device: eth4  [Banglalion] ---------------------------------------------------\nType:              Wired\nDriver:            cdc_ether\nState:             connected\nDefault:           yes\nHW Address:        </p>\n\n<p>Capabilities:\nCarrier Detect:  yes</p>\n\n<p>Wired Properties\nCarrier:         on</p>\n\n<p>IPv4 Settings:\nAddress:         192.168.2.100\nPrefix:          24 (255.255.255.0)\nGateway:         192.168.2.1</p>\n\n<p>DNS:             192.168.61.62\nDNS:             58.97.254.25</p></li>\n</ul>\n\nNetworkManager.state\n\n<p>[main]\nNetworkingEnabled=true\nWirelessEnabled=true\nWWANEnabled=true\nWimaxEnabled=true</p>\n\nNetworkManager.conf\n\n<p>[main]\nplugins=ifupdown,keyfile,ofono\ndns=dnsmasq</p>\n\n<p>no-auto-default=,6C:AD:EF:12:CE:6C,00:0A:3B:F0:01:30,,</p>\n\n<p>[ifupdown]\nmanaged=false</p>\n\nNetworkManager profiles\n\n<p>[[/etc/NetworkManager/system-connections/Xiaomi Mi4 ]] (600 root)\n[connection] id=Xiaomi Mi4  | type=802-11-wireless\n[802-11-wireless] ssid=Xiaomi Mi4  | mac-address=\n[ipv4] method=auto\n[ipv6] method=auto</p>\n\n<p>[[/etc/NetworkManager/system-connections/Plabon]] (600 root)\n[connection] id=Plabon | type=802-11-wireless | permissions=user:plabon:;\n[802-11-wireless] ssid=no free wifi\n[ipv4] method=shared\n[ipv6] method=auto</p>\n\n<p>[[/etc/NetworkManager/system-connections/Con]] (600 root)\n[connection] id=Con | type=802-11-wireless | permissions=user:plabon:;\n[802-11-wireless] ssid=my_shared_connection\n[ipv6] method=auto\n[ipv4] method=shared</p>\n\n<p>[[/etc/NetworkManager/system-connections/Mordor]] (600 root)\n[connection] id=Mordor | type=802-11-wireless | autoconnect=false\n[802-11-wireless] ssid=Mordor\n[ipv4] method=shared\n[ipv6] method=auto</p>\n\n<p>[[/etc/NetworkManager/system-connections/P]] (600 root)\n[connection] id=P | type=802-11-wireless | permissions=user:plabon_lab:;\n[802-11-wireless] ssid=P | mac-address=\n[ipv4] method=shared\n[ipv6] method=auto</p>\n\n<p>[[/etc/NetworkManager/system-connections/P-503eac04-ebbe-46ea-91ba-5fc74852c852]] (600 root)\n[connection] id=P | type=802-11-wireless | permissions=user:plabon_lab:;\n[802-11-wireless] ssid=P | mac-address=\n[ipv4] method=shared\n[ipv6] method=auto</p>\n\n<p>[[/etc/NetworkManager/system-connections/DHN_BB]] (600 root)\n[connection] id=DHN_BB | type=802-11-wireless\n[802-11-wireless] ssid=DHN_BB\n[ipv4] method=auto\n[ipv6] method=auto</p>\n\n<p>[[/etc/NetworkManager/system-connections/Xiaomi Mi4  1]] (600 root)\n[connection] id=Xiaomi Mi4  1 | type=802-11-wireless\n[802-11-wireless] ssid=Xiaomi Mi4 \n[ipv4] method=auto\n[ipv6] method=auto</p>\n\niw reg get\n\n<p>Region: Asia/Dhaka (based on set time zone)</p>\n\n<p>country 00:\n    (2402 - 2472 @ 40), (3, 20)\n    (2457 - 2482 @ 40), (3, 20), PASSIVE-SCAN, NO-IBSS\n    (2474 - 2494 @ 20), (3, 20), NO-OFDM, PASSIVE-SCAN, NO-IBSS\n    (5170 - 5250 @ 40), (3, 20), PASSIVE-SCAN, NO-IBSS\n    (5735 - 5835 @ 40), (3, 20), PASSIVE-SCAN, NO-IBSS</p>\n\niwlist channels\n\n<p>eth4      no frequency information.</p>\n\n<p>lo        no frequency information.</p>\n\niwlist scan\n\n<p>eth4      Interface doesn't support scanning.</p>\n\n<p>lo        Interface doesn't support scanning.</p>\n\nmodule infos\n\n<p>[wl]\nfilename:       /lib/modules/3.19.0-33-generic/updates/dkms/wl.ko\nlicense:        MIXED/Proprietary\nsrcversion:     9A49255BA90267D99664757\ndepends:        cfg80211\nvermagic:       3.19.0-33-generic SMP mod_unload modversions \nparm:           passivemode:int\nparm:           wl_txq_thresh:int\nparm:           oneonly:int\nparm:           piomode:int\nparm:           instance_base:int\nparm:           nompc:int\nparm:           intf_name:string</p>\n\n<p>[cfg80211]\nfilename:       /lib/modules/3.19.0-33-generic/kernel/net/wireless/cfg80211.ko\ndescription:    wireless configuration support\nlicense:        GPL\nauthor:         Johannes Berg\nsrcversion:     F28307769349A31F4B24FC2\ndepends:<br>\nintree:         Y\nvermagic:       3.19.0-33-generic SMP mod_unload modversions \nsigner:         Magrathea: Glacier signing key\nsig_key:        4B:B4:3F:BA:F1:2F:D3:A0:26:57:73:E0:0E:22:F4:39:9F:63:4B:16\nsig_hashalgo:   sha512\nparm:           ieee80211_regdom:IEEE 802.11 regulatory domain code (charp)\nparm:           cfg80211_disable_40mhz_24ghz:Disable 40MHz support in the 2.4GHz band (bool)</p>\n\nmodule parameters\n\n<p>[cfg80211]\ncfg80211_disable_40mhz_24ghz: N\nieee80211_regdom: 00</p>\n\n/etc/modules\n\n<p>lp\nrtc</p>\n\n<p>coretemp</p>\n\n<p>coretemp</p>\n\nmodprobe options\n\n<p>[/etc/modprobe.d/blacklist-ath_pci.conf]\nblacklist ath_pci</p>\n\n<p>[/etc/modprobe.d/blacklist-bcm43.conf]\nblacklist b43\nblacklist b43legacy\nblacklist ssb\nblacklist bcm43xx\nblacklist brcm80211\nblacklist brcmfmac\nblacklist brcmsmac\nblacklist bcma</p>\n\n<p>[/etc/modprobe.d/blacklist.conf]\nblacklist evbug\nblacklist usbmouse\nblacklist usbkbd\nblacklist eepro100\nblacklist de4x5\nblacklist eth1394\nblacklist snd_intel8x0m\nblacklist snd_aw2\nblacklist i2c_i801\nblacklist prism54\nblacklist bcm43xx\nblacklist garmin_gps\nblacklist asus_acpi\nblacklist snd_pcsp\nblacklist pcspkr\nblacklist rt2800pci\nblacklist rt2x00pci\nblacklist rtrt2860\nblacklist amd76x_edac</p>\n\n<p>[/etc/modprobe.d/blacklist-rare-network.conf]\nalias net-pf-3 off\nalias net-pf-6 off\nalias net-pf-9 off\nalias net-pf-11 off\nalias net-pf-12 off\nalias net-pf-19 off\nalias net-pf-21 off\nalias net-pf-36 off</p>\n\n<p>[/etc/modprobe.d/iwlwifi.conf]\nremove iwlwifi \\\n(/sbin/lsmod | grep -o -e ^iwlmvm -e ^iwldvm -e ^iwlwifi | xargs /sbin/rmmod) \\\n&amp;&amp; /sbin/modprobe -r mac80211</p>\n\n<p>[/etc/modprobe.d/mlx4.conf]\nsoftdep mlx4_core post: mlx4_en</p>\n\n<p>[/etc/modprobe.d/qemu-system-x86.conf]\noptions kvm_intel nested=1</p>\n\nrc.local\n\n<p>echo X > /sys/class/backlight/intel_backlight/brightness</p>\n\n<p>exit 0</p>\n\npm-utils\n\nudev rules\n\n<p>[/etc/udev/rules.d/70-persistent-net.rules]</p>\n\n<h1>PCI device 0x1814:0x3290 (rt2800pci)</h1>\n\n<p>SUBSYSTEM==\"net\", ACTION==\"add\", DRIVERS==\"?<em>\", ATTR{address}==\"\", ATTR{dev_id}==\"0x0\", ATTR{type}==\"1\", KERNEL==\"wlan</em>\", NAME=\"wlan0\"</p>\n\n<h1>USB device 0x:0x (dm9601)</h1>\n\n<p>SUBSYSTEM==\"net\", ACTION==\"add\", DRIVERS==\"?<em>\", ATTR{address}==\"\", ATTR{dev_id}==\"0x0\", ATTR{type}==\"1\", KERNEL==\"eth</em>\", NAME=\"eth0\"</p>\n\n<h1>USB device 0x:0x (cdc_ether)</h1>\n\n<p>SUBSYSTEM==\"net\", ACTION==\"add\", DRIVERS==\"?<em>\", ATTR{address}==\"\", ATTR{dev_id}==\"0x0\", ATTR{type}==\"1\", KERNEL==\"eth</em>\", NAME=\"eth1\"</p>\n\n<h1>USB device 0x:0x (cdc_ether)</h1>\n\n<p>SUBSYSTEM==\"net\", ACTION==\"add\", DRIVERS==\"?<em>\", ATTR{address}==\"\", ATTR{dev_id}==\"0x0\", ATTR{type}==\"1\", KERNEL==\"eth</em>\", NAME=\"eth2\"</p>\n\n<h1>USB device 0x:0x (cdc_ether)</h1>\n\n<p>SUBSYSTEM==\"net\", ACTION==\"add\", DRIVERS==\"?<em>\", ATTR{address}==\"\", ATTR{dev_id}==\"0x0\", ATTR{type}==\"1\", KERNEL==\"eth</em>\", NAME=\"eth3\"</p>\n\n<h1>USB device 0x:0x (cdc_ether)</h1>\n\n<p>SUBSYSTEM==\"net\", ACTION==\"add\", DRIVERS==\"?<em>\", ATTR{address}==\"\", ATTR{dev_id}==\"0x0\", ATTR{type}==\"1\", KERNEL==\"eth</em>\", NAME=\"eth4\"</p>\n\ndmesg\n\n<p>[   16.941591] cdc_ether 3-1.2:1.0 eth0: register 'cdc_ether' at usb-0000:00:1a.0-1.2, CDC Ethernet Device, \n[   16.956628] cdc_ether 3-1.2:1.0 eth4: renamed from eth0\n[   16.970657] systemd-udevd[422]: renamed network interface eth0 to eth4\n[   26.574342] cdc_ether 3-1.2:1.0 eth4: kevent 12 may have been dropped (repeated 3 times)</p>\n\n#### wireless info END\n"},{"id":686312,"title":"Name resolution not working","body":"<p>Installed Ubuntu 14 desktop a few months ago, in a dual boot environment.\n Everything was working fine till yesterday: accessing shared folders/files on windows/linux, browsing, printers, etc.</p>\n\n<p>Then I installed frostwire and deluge. After that, no DNS resolution. I can access the windows shares, I can print on network printer. I can ping any IP address (8.8.8.8). But if I try to browse or ping using FQDN, DNS resolution failed.</p>\n\n<p>I have tried:  </p>\n\n<ol>\n<li>rebuild the link for resolv.conf <code>sudo dpkg-reconfigure resolvconf</code>.</li>\n<li>Commented out the <code>dns=dnsmasq</code> line in <code>/etc/NetworkManager/NetworkManager.conf</code>.  </li>\n<li>Added <code>8.8.8.8</code> and <code>8.8.4.4</code> in the resolver.  </li>\n<li><p>Verified <code>nmcli dev list iface eth0 | grep IP4.DNS</code>:  </p>\n\n<pre><code>IP4.DNS[1]: 192.168.1.1\nIP4.DNS[2]: 8.8.8.8\nIP4.DNS[3]: 8.8.4.4\n</code></pre></li>\n<li><p>In <code>/etc/network/interfaces</code>:</p>\n\n<pre><code>auto lo\niface lo inet loopback\n</code></pre></li>\n</ol>\n\n<p>I removed frostwire and deluge and rechecked everything.\nAnd rebooted every time to no avail. Other suggestions?</p>\n"},{"id":663096,"title":"Restricted internet access on 14.04. Teamviewer works, websites don&#39;t load","body":"<p>I now know it is not a DNS issue, because I can't even ping 8.8.8.8. I've added the output of tracepath 8.8.8.8.</p>\n\n<p>My machine running the most up-to-date version of 14.04 Trusty. The mobo has two ethernet ports and a Wi-Fi card. Both ethernet ports are plugged in. One goes directly into the router and has a static IP address. The other is plugged into a network switch and is DHCP. This machine was a fresh installation and has had DNS issues from the get-go. It's located in Texas, I'm in Denver, and I am controlling it remotely through Teamviewer so I know some outgoing/incoming traffic gets through. Other machines on the same network have no networking issues.</p>\n\n<p>Symptoms:</p>\n\n<ul>\n<li>Cannot load websites by name (google.com) or IP (64.233.177.103)</li>\n<li>Cannot use sudo apt-get, times out connecting to servers</li>\n<li>Cannot ping WAN IPs. Pinging 8.8.8.8 gets no response and 100% packet loss.</li>\n<li>Can ping LAN IPs.</li>\n<li>Can load router config page in web browser through LAN IP.</li>\n<li>Allows Teamviewer remote connection. UDP does not seem to work, TCP works ok but I get kicked out regularly.</li>\n</ul>\n\n<p>Troubleshooting steps taken so far:</p>\n\n<ul>\n<li>Power cycled machine</li>\n<li>Unplugged/Replugged both network cables</li>\n<li>Changed connection type to DHCP, and back to static, for both ports through network settings GUI. Currently one is static and the other is DHCP.</li>\n<li>Factory defaulted router and upgraded to latest firmware (Luxul XBR-4400)</li>\n<li>Restarted Networking Service</li>\n<li>Restarted network-manager</li>\n<li>Tried adding static IP manually through /etc/network/interfaces. Made it match what I had set through GUI.</li>\n<li>Bypassed local nameservers per this answer: <a href=\"http://askubuntu.com/questions/201603/should-i-edit-my-resolv-conf-file-to-fix-wrong-dns-problem\">Should I edit my resolv.conf file to fix wrong DNS problem?</a>\n\n<ul>\n<li>This involved commenting out the dns=dnsmasq line in /etc/NetworkManager/NetworkManager.conf.</li>\n<li>Running Sudo restart network-manager changed my /etc/resolv.conf file </li>\n</ul></li>\n</ul>\n\n<p>from this:</p>\n\n<pre><code># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)\n#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN\nnameserver 127.0.0.1\nsearch lan\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)\n#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN\nnameserver 192.168.8.1\nnameserver 75.75.75.75\nnameserver 8.8.8.8\nsearch lan\n</code></pre>\n\n<ul>\n<li>I still get the same exact symptoms. DNS and static IP's have been configured through GUI.</li>\n</ul>\n\n<p>Running nslookup www.google.com gets me a normal looking output, so nslookup seems to work (along with Teamviewer). However loading www.google.com or a direct IP for www.google.com (64.233.177.147) does not work.</p>\n\n<p>Output of nslookup www.google.com:</p>\n\n<pre><code>Server:     192.168.8.1\nAddress:    192.168.8.1#53\n\nNon-authoritative answer:\nName:   www.google.com\nAddress: 64.233.177.147\nName:   www.google.com\nAddress: 64.233.177.104\nName:   www.google.com\nAddress: 64.233.177.99\nName:   www.google.com\nAddress: 64.233.177.105\nName:   www.google.com\nAddress: 64.233.177.103\nName:   www.google.com\nAddress: 64.233.177.106\n</code></pre>\n\n<p>Output of /etc/network/interfaces:</p>\n\n<pre><code># interfaces(5) file used by ifup(8) and ifdown(8)\nauto lo\niface lo inet loopback\n</code></pre>\n\n<p>Output of nmcli dev list iface eth0 (eth0 is static)</p>\n\n<pre><code>GENERAL.DEVICE:                         eth0\nGENERAL.TYPE:                           802-3-ethernet\nGENERAL.VENDOR:                         Realtek Semiconductor Co., Ltd.\nGENERAL.PRODUCT:                        Motherboard\nGENERAL.DRIVER:                         r8169\nGENERAL.DRIVER-VERSION:                 2.3LK-NAPI\nGENERAL.FIRMWARE-VERSION:               rtl8168g-2_0.0.1 02/06/13\nGENERAL.HWADDR:                         FC:AA:14:E5:55:DD\nGENERAL.STATE:                          100 (connected)\nGENERAL.REASON:                         0 (No reason given)\nGENERAL.UDI:                            /sys/devices/pci0000:00/0000:00:1c.3/0000:04:00.0/net/eth0\nGENERAL.IP-IFACE:                       eth0\nGENERAL.NM-MANAGED:                     yes\nGENERAL.AUTOCONNECT:                    yes\nGENERAL.FIRMWARE-MISSING:               no\nGENERAL.CONNECTION:                     /org/freedesktop/NetworkManager/ActiveConnection/3\nCAPABILITIES.CARRIER-DETECT:            yes\nCAPABILITIES.SPEED:                     1000 Mb/s\nCONNECTIONS.AVAILABLE-CONNECTION-PATHS: /org/freedesktop/NetworkManager/Settings/{0}\nCONNECTIONS.AVAILABLE-CONNECTIONS[1]:   29935289-bf46-4dcf-89a0-b282fa8b3f69 | Wired connection 2\nWIRED-PROPERTIES.CARRIER:               on\nIP4.ADDRESS[1]:                         ip = 192.168.8.99/24, gw = 192.168.8.1\nIP4.DNS[1]:                             192.168.8.1\nIP4.DNS[2]:                             75.75.75.75\nIP4.DNS[3]:                             8.8.8.8\n</code></pre>\n\n<p>Output of nmcli dev list iface eth1 (eth1 is DHCP)</p>\n\n<pre><code>GENERAL.DEVICE:                         eth1\nGENERAL.TYPE:                           802-3-ethernet\nGENERAL.VENDOR:                         Intel Corporation\nGENERAL.PRODUCT:                        Ethernet Connection I217-V\nGENERAL.DRIVER:                         e1000e\nGENERAL.DRIVER-VERSION:                 2.3.2-k\nGENERAL.FIRMWARE-VERSION:               0.13-4\nGENERAL.HWADDR:                         FC:AA:14:E5:55:DB\nGENERAL.STATE:                          100 (connected)\nGENERAL.REASON:                         0 (No reason given)\nGENERAL.UDI:                            /sys/devices/pci0000:00/0000:00:19.0/net/eth1\nGENERAL.IP-IFACE:                       eth1\nGENERAL.NM-MANAGED:                     yes\nGENERAL.AUTOCONNECT:                    yes\nGENERAL.FIRMWARE-MISSING:               no\nGENERAL.CONNECTION:                     /org/freedesktop/NetworkManager/ActiveConnection/2\nCAPABILITIES.CARRIER-DETECT:            yes\nCAPABILITIES.SPEED:                     1000 Mb/s\nCONNECTIONS.AVAILABLE-CONNECTION-PATHS: /org/freedesktop/NetworkManager/Settings/{2}\nCONNECTIONS.AVAILABLE-CONNECTIONS[1]:   117aa4b3-1265-468e-b07d-d3c8998b14ea | Wired connection 1\nWIRED-PROPERTIES.CARRIER:               on\nIP4.ADDRESS[1]:                         ip = 192.168.8.141/24, gw = 192.168.8.1\nIP4.DNS[1]:                             192.168.8.1\nIP4.DOMAIN[1]:                          lan\nDHCP4.OPTION[1]:                        host_name = nimbus-NS150\nDHCP4.OPTION[2]:                        domain_name = lan\nDHCP4.OPTION[3]:                        expiry = 1439959400\nDHCP4.OPTION[4]:                        broadcast_address = 192.168.8.255\nDHCP4.OPTION[5]:                        dhcp_message_type = 5\nDHCP4.OPTION[6]:                        dhcp_lease_time = 43200\nDHCP4.OPTION[7]:                        ip_address = 192.168.8.141\nDHCP4.OPTION[8]:                        subnet_mask = 255.255.255.0\nDHCP4.OPTION[9]:                        dhcp_renewal_time = 21600\nDHCP4.OPTION[10]:                       routers = 192.168.8.1\nDHCP4.OPTION[11]:                       dhcp_rebinding_time = 37800\nDHCP4.OPTION[12]:                       domain_name_servers = 192.168.8.1\nDHCP4.OPTION[13]:                       network_number = 192.168.8.0\nDHCP4.OPTION[14]:                       dhcp_server_identifier = 192.168.8.1\n</code></pre>\n\n<p>Output of ifconfig -a:</p>\n\n<pre><code>eth0      Link encap:Ethernet  HWaddr fc:aa:14:e5:55:dd  \n          inet addr:192.168.8.99  Bcast:192.168.8.255  Mask:255.255.255.0\n          inet6 addr: fe80::feaa:14ff:fee5:55dd/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:331544 errors:0 dropped:2390 overruns:0 frame:0\n          TX packets:132548 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:43753936 (43.7 MB)  TX bytes:67745643 (67.7 MB)\n\neth1      Link encap:Ethernet  HWaddr fc:aa:14:e5:55:db  \n          inet addr:192.168.8.141  Bcast:192.168.8.255  Mask:255.255.255.0\n          inet6 addr: fe80::feaa:14ff:fee5:55db/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:839361 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:1113669 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:85882847 (85.8 MB)  TX bytes:427516880 (427.5 MB)\n          Interrupt:20 Memory:f7e00000-f7e20000 \n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:2373781 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:2373781 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:623910191 (623.9 MB)  TX bytes:623910191 (623.9 MB)\n\nwlan0     Link encap:Ethernet  HWaddr ac:fd:ce:47:1e:77  \n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p>Pinging my router:</p>\n\n<pre><code>PING 192.168.8.1 (192.168.8.1) 56(84) bytes of data.\n64 bytes from 192.168.8.1: icmp_seq=1 ttl=64 time=0.308 ms\n64 bytes from 192.168.8.1: icmp_seq=2 ttl=64 time=0.227 ms\n64 bytes from 192.168.8.1: icmp_seq=3 ttl=64 time=0.220 ms\n^C\n--- 192.168.8.1 ping statistics ---\n3 packets transmitted, 3 received, 0% packet loss, time 1999ms\nrtt min/avg/max/mdev = 0.220/0.251/0.308/0.043 ms\n</code></pre>\n\n<p>Pinging 8.8.8.8:</p>\n\n<pre><code>nimbus@nimbus-NS150:~$ ping 8.8.8.8\nPING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.\n^C\n--- 8.8.8.8 ping statistics ---\n4 packets transmitted, 0 received, 100% packet loss, time 3022ms\n</code></pre>\n\n<p>tracepath 8.8.8.8</p>\n\n<pre><code>1?: [LOCALHOST]                            pmtu 1500\n1: Luxul.lan                                 0.485ms\n1: Luxul.lan                                 0.502ms\n2: no reply\n3: no reply\n</code></pre>\n\n<p>To sum it up: LAN DNS seems to work fine. DNS settings look correct (as far as I can tell). WAN DNS does not work. However remote desktop software such as Teamviewer is semi-functional.</p>\n\n<p>Thanks for your help,\nJeff</p>\n"},{"id":631810,"title":"getting openconnect vpn to work through network-manager","body":"<p>this is the same issue as here: <a href=\"http://askubuntu.com/questions/529441/getting-openconnect-vpn-to-work-through-gui/631509\">Getting openconnect vpn to work through gui</a> , but my additions to it were deleted and i was asked to create a new question.</p>\n\n<p>in fact, there are a number of folks asking similar questions here, all with 0 responses.</p>\n\n<p><strong>software versions:</strong> ubuntu 14.04, openconnect 5.02</p>\n\n<p><strong>main issue:</strong> i'm trying to add a vpn connection into network-manager, using openconnect. when i supply my vpn username and password, it connects successfully, but i can't resolve dns.</p>\n\n<p>if i run openconnect in the terminal via sudo, dns works.</p>\n\n<pre><code>sudo openconnect -u &lt;username&gt; https://&lt;vpn concentrator name&gt;\n</code></pre>\n\n<p><strong>more details:</strong></p>\n\n<p>1a. when connecting via openconnect and network-manager even though i've explicitly added dns and a search domain under the ipv4 tab, only the search domain ends up in /etc/resolv.conf. even if i don't supply dns and search domains, i can see in the logs that it's getting that information from the vpn concentrator. again, the search domain is updated properly. [log below]</p>\n\n<p>1b. when connecting via sudo on in a terminal, resolv.conf is populated properly with dns and search domains even though i haven't added that information in the command line or provided a path to a vpnc-script. it must be getting it from the vpn concentrator. [log also below]</p>\n\n<p>2a. when connecting via openconnect and network-manager, a new interface 'vpn0' is created.</p>\n\n<p>2b. when connecting via sudo and command line, a new interface 'tun0' is created.</p>\n\n<p><strong>log when connecting via network-manager:</strong></p>\n\n<pre><code>NetworkManager[784]: &lt;info&gt; Starting VPN service 'openconnect'...\nNetworkManager[784]: &lt;info&gt; VPN service 'openconnect' started (org.freedesktop.NetworkManager.openconnect), PID 4513\nNetworkManager[784]: &lt;info&gt; VPN service 'openconnect' appeared; activating connections\nNetworkManager[784]: &lt;info&gt; VPN plugin state changed: init (1)\n</code></pre>\n\n<p>this is where it asks for my password</p>\n\n<pre><code>NetworkManager[784]: &lt;info&gt; VPN plugin state changed: starting (3)\nNetworkManager[784]:    SCPlugin-Ifupdown: devices added (path: /sys/devices/virtual/net/vpn0, iface: vpn0)\nNetworkManager[784]:    SCPlugin-Ifupdown: device added (path: /sys/devices/virtual/net/vpn0, iface: vpn0): no ifupdown configuration found.\nNetworkManager[784]: &lt;warn&gt; /sys/devices/virtual/net/vpn0: couldn't determine device driver; ignoring...\nNetworkManager[784]: &lt;info&gt; VPN connection '&lt;connection name&gt;' (Connect) reply received.\nopenconnect[4544]: Attempting to connect to server &lt;ip address&gt;:443\nopenconnect[4544]: SSL negotiation with &lt;correctly identified vpn server&gt;\nopenconnect[4544]: Connected to HTTPS on &lt;correctly identified vpn server&gt;\nopenconnect[4544]: Got CONNECT response: HTTP/1.1 200 OK\nopenconnect[4544]: CSTP connected. DPD 30, Keepalive 20\nNetworkManager[784]: &lt;info&gt; VPN connection '&lt;connection name&gt;' (IP Config Get) reply received.\nNetworkManager[784]: &lt;info&gt; VPN connection '&lt;connection name&gt;' (IP4 Config Get) reply received.\nNetworkManager[784]: &lt;info&gt; VPN connection '&lt;connection name&gt;' (IP6 Config Get) reply received.\nNetworkManager[784]: &lt;info&gt; VPN Gateway: &lt;ip address&gt;\nNetworkManager[784]: &lt;info&gt; Tunnel Device: vpn0\nNetworkManager[784]: &lt;info&gt; IPv4 configuration:\nNetworkManager[784]: &lt;info&gt;   Internal Address: 10.xxx.xxx.xxx\nNetworkManager[784]: &lt;info&gt;   Internal Prefix: 19\nNetworkManager[784]: &lt;info&gt;   Internal Point-to-Point Address: 10.xxx.xxx.xxx\nNetworkManager[784]: &lt;info&gt;   Maximum Segment Size (MSS): 0\nNetworkManager[784]: &lt;info&gt;   Forbid Default Route: no\nNetworkManager[784]: &lt;info&gt;   Internal DNS: &lt;ip address&gt;\nNetworkManager[784]: &lt;info&gt;   Internal DNS: &lt;ip address&gt;\nNetworkManager[784]: &lt;info&gt;   DNS Domain: '(none)'\nNetworkManager[784]: &lt;info&gt; IPv6 configuration:\nNetworkManager[784]: &lt;info&gt;   Internal Address: &lt;ipv6 ip&gt;\nNetworkManager[784]: &lt;info&gt;   Internal Prefix: 64\nNetworkManager[784]: &lt;info&gt;   Internal Point-to-Point Address: &lt;ipv6 ip&gt;\nNetworkManager[784]: &lt;info&gt;   Maximum Segment Size (MSS): 0\nNetworkManager[784]: &lt;info&gt;   Forbid Default Route: no\nNetworkManager[784]: &lt;info&gt;   DNS Domain: '(none)'\nopenconnect[4544]: Connected vpn0 as &lt;ip address&gt; + &lt;ipv6 ip&gt;, using SSL\nopenconnect[4544]: Established DTLS connection (using OpenSSL)\nNetworkManager[784]: &lt;info&gt; VPN connection '&lt;connection name&gt;' (IP Config Get) complete.\nNetworkManager[784]: &lt;info&gt; Policy set '&lt;connection name&gt;' (vpn0) as default for IPv4 routing and DNS.\nNetworkManager[784]: &lt;info&gt; Policy set '&lt;connection name&gt;' (vpn0) as default for IPv6 routing and DNS.\nNetworkManager[784]: &lt;info&gt; Writing DNS information to /sbin/resolvconf\ndnsmasq[1027]: setting upstream servers from DBus\ndnsmasq[1027]: using nameserver 127.0.0.1#53 for domain 10.in-addr.arpa\ndnsmasq[1027]: using nameserver 127.0.0.1#53 for domain &lt;home search domain&gt;\ndnsmasq[1027]: using nameserver 127.0.0.1#53 for domain &lt;vpn search domain&gt;\ndnsmasq[1027]: using nameserver &lt;ip address&gt;#53 for domain 10.in-addr.arpa\ndnsmasq[1027]: using nameserver &lt;ip address&gt;#53 for domain &lt;home search domain&gt;\ndnsmasq[1027]: using nameserver &lt;ip address&gt;#53 for domain &lt;vpn search domain&gt;\ndnsmasq[1027]: using nameserver &lt;ip address&gt;#53 for domain 10.in-addr.arpa\ndnsmasq[1027]: using nameserver &lt;ip address&gt;#53 for domain &lt;home search domain&gt;\ndnsmasq[1027]: using nameserver &lt;ip address&gt;#53 for domain &lt;vpn search domain&gt;\ndbus[471]: [system] Activating service name='org.freedesktop.nm_dispatcher' (using servicehelper)\nNetworkManager[784]: &lt;info&gt; VPN plugin state changed: started (4)\nNetworkManager[784]:    keyfile: updating /etc/NetworkManager/system-connections/&lt;connection name&gt;-6a503043-13b0-4ce7-9749-29cd3054cae3\ndbus[471]: [system] Successfully activated service 'org.freedesktop.nm_dispatcher'\n</code></pre>\n\n<p>despite all the noise in the log about updating resolv.conf it removes the nameservers but doesn't replace them with the ip addresses in the log. it does update the search domain correctly, so it's likely <strong>not</strong> a permissions issue.</p>\n\n<p><strong>log when connecting using sudo openconnect in terminal:</strong></p>\n\n<pre><code>NetworkManager[784]:    SCPlugin-Ifupdown: devices added (path: /sys/devices/virtual/net/tun0, iface: tun0)\nNetworkManager[784]:    SCPlugin-Ifupdown: device added (path: /sys/devices/virtual/net/tun0, iface: tun0): no ifupdown configuration found.\nNetworkManager[784]: &lt;warn&gt; /sys/devices/virtual/net/tun0: couldn't determine device driver; ignoring...\ndbus[471]: [system] Activating service name='org.freedesktop.hostname1' (using servicehelper)\nkernel: [ 3258.725774] systemd-hostnamed[4927]: Warning: nss-myhostname is not installed. Changing the local hostname might make it unresolveable. Please install nss-myhostname!\ndbus[471]: [system] Successfully activated service 'org.freedesktop.hostname1'\n</code></pre>\n\n<p>nothing about updating resolv.conf, and yet it properly updates the name servers and the search domain.</p>\n\n<p><strong>update</strong>\nif i ignore all the warnings in resolv.conf and add the vpn concentrator nameservers to it, i'm instantly able to browse. of course as soon as i disconnect, those changes are overwritten.</p>\n\n<p><a href=\"https://bugs.launchpad.net/ubuntu/+source/network-manager-openconnect/+bug/694425\" rel=\"nofollow\">there was a bug on this</a>, back in 2012, but it expired. the issue seems to be the vpnc script.</p>\n\n<p>i tried manually updating my vpnc-scripts to the latest versions, but to no avail.</p>\n\n<p>some <a href=\"https://www.stgraber.org/2012/02/24/dns-in-ubuntu-12-04/\" rel=\"nofollow\" title=\"further research\">further research</a> turns up that as of 12.04 resolv.conf is no longer where nameservers go for dns resolution when using network-manager. that's why it works when i use the command line, but not when using network-manager. rather the nameserver 127.0.1.1 [dnsmasq] is added and that nameserver is told the ip addresses of the actual nameservers.</p>\n\n<blockquote>\n  <p>The big advantage is that if you connect to a VPN, instead of having all your DNS traffic be routed through the VPN like in the past, you’ll instead only send DNS queries related to the subnet and domains announced by that VPN</p>\n</blockquote>\n\n<p><strong>update</strong>\ndisabling dnsmasq as explained in link above solves the issue because /etc/resolv.conf is populated.</p>\n\n<p>this is not a real solution though it's a fallback.</p>\n"},{"id":574433,"title":"Ethernet Lights Not On When Cable Connected And Not Working","body":"<p>I have two OS and second OS connects to internet easily, so it's not a hardware problem.</p>\n\n<p>The output of lspci is:</p>\n\n<pre><code>00:00.0 Host bridge: Intel Corporation 2nd Generation Core Processor Family DRAM Controller (rev 09)\n00:02.0 VGA compatible controller: Intel Corporation 2nd Generation Core Processor Family Integrated Graphics Controller (rev 09)\n00:16.0 Communication controller: Intel Corporation 6 Series/C200 Series Chipset Family MEI Controller #1 (rev 04)\n00:1a.0 USB controller: Intel Corporation 6 Series/C200 Series Chipset Family USB Enhanced Host Controller #2 (rev 04)\n00:1b.0 Audio device: Intel Corporation 6 Series/C200 Series Chipset Family High Definition Audio Controller (rev 04)\n00:1c.0 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 1 (rev b4)\n00:1c.1 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 2 (rev b4)\n00:1c.2 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 3 (rev b4)\n00:1c.3 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 4 (rev b4)\n00:1c.5 PCI bridge: Intel Corporation 6 Series/C200 Series Chipset Family PCI Express Root Port 6 (rev b4)\n00:1d.0 USB controller: Intel Corporation 6 Series/C200 Series Chipset Family USB Enhanced Host Controller #1 (rev 04)\n00:1f.0 ISA bridge: Intel Corporation HM65 Express Chipset Family LPC Controller (rev 04)\n00:1f.2 SATA controller: Intel Corporation 6 Series/C200 Series Chipset Family 6 port SATA AHCI Controller (rev 04)\n23:00.0 System peripheral: JMicron Technology Corp. SD/MMC Host Controller (rev 30)\n23:00.2 SD Host controller: JMicron Technology Corp. Standard SD Host Controller (rev 30)\n23:00.3 System peripheral: JMicron Technology Corp. MS Host Controller (rev 30)\n24:00.0 Network controller: Qualcomm Atheros AR9285 Wireless Network Adapter (PCI-Express) (rev 01)\n25:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 06)\n</code></pre>\n\n<p>lshw -C network:</p>\n\n<pre><code> *-network               \n       description: Wireless interface\n       product: AR9285 Wireless Network Adapter (PCI-Express)\n       vendor: Qualcomm Atheros\n       physical id: 0\n       bus info: pci@0000:24:00.0\n       logical name: wlan0\n       version: 01\n       serial: 74:de:2b:02:0b:da\n       width: 64 bits\n       clock: 33MHz\n       capabilities: pm msi pciexpress bus_master cap_list ethernet physical wireless\n       configuration: broadcast=yes driver=ath9k driverversion=3.18.2-031802-generic firmware=N/A latency=0 link=no multicast=yes wireless=IEEE 802.11bgn\n       resources: irq:19 memory:d4600000-d460ffff\n  *-network\n       description: Ethernet interface\n       product: RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller\n       vendor: Realtek Semiconductor Co., Ltd.\n       physical id: 0\n       bus info: pci@0000:25:00.0\n       logical name: eth0\n       version: 06\n       serial: 10:1f:74:e3:50:5a\n       size: 10Mbit/s\n       capacity: 1Gbit/s\n       width: 64 bits\n       clock: 33MHz\n       capabilities: pm msi pciexpress msix vpd bus_master cap_list ethernet physical tp mii 10bt 10bt-fd 100bt 100bt-fd 1000bt 1000bt-fd autonegotiation\n       configuration: autonegotiation=on broadcast=yes driver=r8169 driverversion=2.3LK-NAPI duplex=half firmware=rtl_nic/rtl8168e-2.fw ip=192.168.0.100 latency=0 link=no multicast=yes port=MII speed=10Mbit/s\n       resources: irq:29 ioport:2000(size=256) memory:d4404000-d4404fff memory:d4400000-d4403fff\n</code></pre>\n\n<p>ifup eth0 </p>\n\n<pre><code>Internet Systems Consortium DHCP Client 4.2.4\nCopyright 2004-2012 Internet Systems Consortium.\nAll rights reserved.\nFor info, please visit https://www.isc.org/software/dhcp/\n\nListening on LPF/eth0/10:1f:74:e3:50:5a\nSending on   LPF/eth0/10:1f:74:e3:50:5a\nSending on   Socket/fallback\nDHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 3 (xid=0x78a08d03)\nDHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 8 (xid=0x78a08d03)\nDHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 21 (xid=0x78a08d03)\nDHCPDISCOVER on eth0 to 255.255.255.255 port 67 interval 19 (xid=0x78a08d03)\n...\n(infinite, continue for ever)\n</code></pre>\n\n<p>ifconfig -a</p>\n\n<pre><code>eth0      Link encap:Ethernet  HWaddr 10:1f:74:e3:50:5a  \n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:298 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:298 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:23133 (23.1 KB)  TX bytes:23133 (23.1 KB)\n\nwlan0     Link encap:Ethernet  HWaddr 74:de:2b:02:0b:da  \n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\nvim /etc/network/interfaces\nauto lo\niface lo inet loopback\n\nauto eth0\niface eth0 inet dhcp\n</code></pre>\n\n<p>cat /etc/resolv.conf</p>\n\n<pre><code># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)\n#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN\nnameserver 127.0.1.1\n</code></pre>\n\n<p>route -n</p>\n\n<pre><code>Kernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n</code></pre>\n\n<p>I'm also try static IP address but still have the problem. Please help me, I really do not have any other idea!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>When I run ifup eth0, syslog output is</p>\n\n<pre><code>Jan 16 22:42:34 DEMON kernel: [16477.474586] r8169 0000:25:00.0 eth0: link down\nJan 16 22:42:34 DEMON avahi-daemon[1167]: Joining mDNS multicast group on interface eth0.IPv4 with address 192.168.1.100.\nJan 16 22:42:34 DEMON avahi-daemon[1167]: New relevant interface eth0.IPv4 for mDNS.\nJan 16 22:42:34 DEMON avahi-daemon[1167]: Registering new address record for 192.168.1.100 on eth0.IPv4.\nJan 16 22:42:34 DEMON kernel: [16477.475316] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready\n</code></pre>\n\n<p>So I try Linux kernel version 14 and 18, but both have same problem.\nAny idea?\n<strong>UPDATE2</strong></p>\n\n<p>I try to use static IP adress so change interfaces:</p>\n\n<pre><code>auto lo\niface lo inet loopback\n\nauto dsl-provider\niface dsl-provider inet ppp\npre-up /sbin/ifconfig eth1 up # line maintained by pppoeconf\ndns-nameservers 8.8.8.8 8.8.4.4\nprovider dsl-provider\n\nauto eth0\niface eth0 inet static\naddress 192.168.1.100\nnetmask 255.255.255.0\ngateway 192.168.1.1\ndns-nameservers 8.8.8.8 8.8.4.4\n</code></pre>\n\n<p>Then ifconfig -a</p>\n\n<pre><code>eth0      Link encap:Ethernet  HWaddr 10:1f:74:e3:50:5a  \n          inet addr:192.168.1.100  Bcast:192.168.1.255  Mask:255.255.255.0\n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:439 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:439 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:34837 (34.8 KB)  TX bytes:34837 (34.8 KB)\n\nppp0      Link encap:Point-to-Point Protocol  \n          inet addr:37.254.165.125  P-t-P:37.254.128.1  Mask:255.255.255.255\n          UP POINTOPOINT RUNNING NOARP MULTICAST  MTU:1492  Metric:1\n          RX packets:7259 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:8600 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:3 \n          RX bytes:4900816 (4.9 MB)  TX bytes:1303955 (1.3 MB)\n\nwlan0     Link encap:Ethernet  HWaddr 74:de:2b:02:0b:da  \n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n</code></pre>\n\n<p>sudo ethtool eth0</p>\n\n<pre><code>Settings for eth0:\n    Supported ports: [ TP MII ]\n    Supported link modes:   10baseT/Half 10baseT/Full \n                            100baseT/Half 100baseT/Full \n                            1000baseT/Half 1000baseT/Full \n    Supported pause frame use: No\n    Supports auto-negotiation: Yes\n    Advertised link modes:  100baseT/Full \n    Advertised pause frame use: Symmetric Receive-only\n    Advertised auto-negotiation: Yes\n    Speed: 10Mb/s\n    Duplex: Half\n    Port: MII\n    PHYAD: 0\n    Transceiver: internal\n    Auto-negotiation: on\n    Supports Wake-on: pumbg\n    Wake-on: d\n    Current message level: 0x00000033 (51)\n                   drv probe ifdown ifup\n    Link detected: no\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>My laptop have problem so I connect laptop to pc (rather than laptop to ADSL modem) for now every thing is OK. But how can I connect laptop to ADSL modem?\nThis problem related to Ubuntu because I check several time on Windows 8 and have no problem.\nI reset ADSL modem router but still have the same problem. </p>\n\n<p><strong>UPDATE3</strong></p>\n\n<p>I can detect Ethernet for once and every think was OK, but when I restart still have the same problem. Should be a command to fix this issue :( </p>\n"},{"id":558184,"title":"dig doesn&#39;t work in Ubuntu 14.10, works in 12.04 in the same network","body":"<p>I'm having an issue when trying to use dig at one of my computers running Ubuntu 14.10 Desktop 64 bit. The same works in Ubuntu 12.04 both at separate physical machine and running inside VMWare (utopic being the host).</p>\n\n<pre><code>dig ubuntu.com\n; &lt;&lt;&gt;&gt; DiG 9.9.5-4.3-Ubuntu &lt;&lt;&gt;&gt; ubuntu.com\n;; global options: +cmd\n;; connection timed out; no servers could be reached\n</code></pre>\n\n<p>I thought that maybe this has something to do with dnsmasq, so I disabled it in NetworkManager's config file (and restarted service). Finally I found out, that </p>\n\n<pre><code>dig @192.168.1.1 ubuntu.com\n</code></pre>\n\n<p>(192.168.1.1 being router's IP) doesn't work either in utopic, while it's working in precise. nslookup, browser, various programmes using Internet and e.g. dig @8.8.8.8 work without any issues. However, when I connect to other network (like using AndroidAP from my phone) everything works in utopic too.</p>\n\n<p>Is there a way in which I could find what's making my Ubuntu 14.10 installation not compatible with my router's DNS?</p>\n"},{"id":476720,"title":"Host is unreacheble with static networking configuration via /etc/network/interfaces while GUI NetworkManager is ok","body":"<p>I have some trouble setting-up the network interface using the static IP configuration. I run ubuntu 12.04 kernel 3.11.0-22 with the back-ports enabled.</p>\n\n<p>I followed these <a href=\"https://help.ubuntu.com/12.04/serverguide/network-configuration.html\" rel=\"nofollow\">instructions from help.ubuntu.com</a> but there seems to exist some conflict between the GUI approach (NetworkManager) and the command line approach. </p>\n\n<pre><code>$ sudo nano /etc/network/interfaces\n\nauto lo\niface lo inet loopback\n\nauto eth0\niface eth0 inet static\naddress 10.1.1.50\ngateway 10.1.1.10\nnetmask 255.255.255.0\ndns-nameservers 192.168.3.45 192.168.8.10\n\n$ sudo /etc/init.d/networking restart\n</code></pre>\n\n<p>I than try to ping for example google.com <code>ping -c 3 www.google.com</code> the response is that the <code>host is unreachable</code>. The icon on the top right of the desktop says: wired network disconnected.</p>\n\n<p>If I work using the GUI approach (Edit Connections and so on...) all works great. </p>\n\n<p>Can same one explain to me where I wrong?</p>\n\n<pre><code>$ ifconfig eth0\neth0      Link encap:Ethernet  HWaddr 90:e6:ba:07:4a:77  \n          inet addr:10.1.1.50  Bcast:10.1.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::92e6:baff:fe07:4a77/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:39619 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:18520 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:19030895 (19.0 MB)  TX bytes:2768769 (2.7 MB)\n\n$ netstat -rn\nKernel IP routing table\nDestination     Gateway         Genmask         Flags   MSS Window  irtt Iface\n10.1.1.0        0.0.0.0         255.255.255.0   U         0 0          0 eth0\n169.254.0.0     0.0.0.0         255.255.0.0     U         0 0          0 eth0\n</code></pre>\n"},{"id":217532,"title":"dig @server doesn&#39;t work","body":"<p>I have Ubuntu 12.04 with BIND9, working just as a caching server (forwarding to 8.8.8.8).</p>\n\n<p>When I use, for example, <code>dig +norecurse @l.root-servers.net www.uniroma1.it</code>, I obtain the following output:</p>\n\n<pre><code>; &lt;&lt;&gt;&gt; DiG 9.8.1-P1 &lt;&lt;&gt;&gt; +norecurse @l.root-servers.net www.uniroma1.it\n; (1 server found)\n;; global options: +cmd\n;; connection timed out; no servers could be reached\n</code></pre>\n\n<p>Using Wireshark I discovered that the outgoing queries are correct, but there aren't any incoming answers. Why?</p>\n\n<p>P.S. Using simply <code>dig www.uniroma1.it</code> I obtain the correct answers.</p>\n"}]}]