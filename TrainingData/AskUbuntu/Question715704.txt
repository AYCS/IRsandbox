[{"id":715704,"title":"Ubuntu 15.10 does not boot on Intel NUC6i3 with Samsung 950 Pro PCIe NVME SSD","body":"<p>I tried to installed Ubuntu 15.10 on the NUC6i3 using a Samsung 950 Pro PCIe NVME SSD.\nBooting USB drive in UEFI mode was possible and the system runs ok. Installation itself also without problem. After restart the NUC can't find a boot device.\nBooting the USB drive again I looked up some details:\n(1) Partitions seem to be ok on the /dev/nvme0n1\n(2) EFI boot entries do NOT look ok, somehow destroid</p>\n\n<p>Installing Ubuntu 15.04 on the other hand has been posible without problems. Everything but wifi works out of the box.</p>\n\n<p>What excactly is the difference between 15.10 and 15.04 concerning GRUB, EFI and NVME?</p>\n","related_questions":[{"id":702959,"title":"Boot Ubuntu 15.10 on Surface Pro 3 from external SSD","body":"<p>I'm trying to get Ubuntu to boot from an external SSD on my Surface Pro 3.</p>\n\n<p>No luck so far. That's what I did:</p>\n\n<ol>\n<li>Flashed the image on a USB drive using <a href=\"http://www.pendrivelinux.com/universal-usb-installer-easy-as-1-2-3/\" rel=\"nofollow\">Universal USB Installer</a></li>\n<li>Booted into the USB drive</li>\n<li>Installed Linux on the external SSD using the following settings:\n\n<ul>\n<li>200MB efi4 partition</li>\n<li>EXT4 root partition</li>\n<li>swap partition</li>\n</ul></li>\n</ol>\n\n<p>However, when I tried booting from the USB, the surface bootloader said that \"the signature was invalid\". I thought Ubuntu 15.10 would work with UEFI, but as there apparently was a problem I disabled secure boot. Tried again - this time every time I get into Bitlocker recovery. Do I need to disable bitlocker for it to work? Bitlocker doesn't have anything to do with that drive, so I find it strange...</p>\n\n<p>Any ideas what I might be doing wrong?</p>\n"},{"id":698799,"title":"After Ubuntu 15.10 installation from LiveUSB in UEFI mode, I need to navigate in the UEFI files to locate the grub file in order to boot","body":"<p>I have a new HP Elitebook 840 G1 that was pre-installed with Windows 7. I got rid of it and installed Ubuntu 15.10 using a LiveUSB. I installed it in UEFI mode (hard disk drive). I used the manual installation option (something else) and, in the <code>/dev/sda</code> disk, set a typical ext4 (<code>/dev/sda3</code>) partition to locate the root (<code>/</code>) and created an efi (<code>/dev/sda1</code>) partition (fat32, mounted in <code>/boot/efi</code>), flagged as \"boot\" and \"esp\". I've also created a SWAP (6 GB) partition (<code>/dev/sda2</code>). The installation process ran well, no problems were detected apparently. However, I needed, obviously, to restart the laptop. </p>\n\n<p><strong><em>I'm NOT dual-booting, I just have Ubuntu installed on it right now.</em></strong></p>\n\n<p>Problem: The laptop, after installation, does not recognize an operating system.</p>\n\n<p>Details:\nI revised for the laptop to boot in UEFI mode. The only way I can boot Ubuntu is by pressing the F9 key for boot options and navigating through the UEFI files to locate the grub file. Once I locate it I select it and it is able to boot (no problems in the system). </p>\n\n<p>The message shown if I do not follow the previous steps is \"No bootable image found, computer will shut down\". After that it just shoots down.</p>\n\n<p>I disabled secureboot, and fastboot, but still the problem is present. I have run the command </p>\n\n<pre><code>[ -d /sys/firmware/efi ] &amp;&amp; echo \"Installed in UEFI mode\" || echo \"Installed in Legacy mode\"\n</code></pre>\n\n<p>to make sure I've installed it in UEFI mode, and it evidently is, showing the result: <strong>installed in UEFI mode</strong></p>\n\n<p>I've also run the command  </p>\n\n<pre><code>[ -d /sys/firmware/efi ] &amp;&amp; echo \"EFI boot on HDD\" || echo \"Legacy boot on HDD\"\n</code></pre>\n\n<p>to make sure I'm booting in UEFI mode, and evidently it is, showing: <strong>\"EFI boot on HDD\".</strong></p>\n\n<p>Finally, I don't know if it might help, I run the following command:  </p>\n\n<pre><code>sudo efibootmgr -v\n</code></pre>\n\n<p>and it showed: </p>\n\n<pre><code>BootCurrent: 0000\nTimeout: 0 seconds\nNo BootOrder is set; firmware will attempt recovery\n</code></pre>\n\n<p>I went once again to the BIOS options (F10) and tried running it on:</p>\n\n<ol>\n<li>Legacy mode (doesn't allow me even to locate the grub file)</li>\n<li>UEFI mode (with CSM) allows me to locate the file, but doesn't recognize OS</li>\n<li>UEFI mode (without CSM) allows me to locate the file, but doesn't recognize OS (recall the message previously specified \"No bootable image found\")</li>\n</ol>\n\n<p>It is all I know until and tried until now, the Elitebook runs well, pretty smooth, no problems when working with it (indeed, I'm writing this using it).\nI could just live it as it is, but it is pathetic to be selecting the boot options and navigating on the UEFI files just to boot. Any help will be appreciated, thank you. </p>\n"},{"id":689282,"title":"Ubuntu 15.10 on MacBook Pro","body":"<p>I'm looking to test (or, with luck, to install) Ubuntu 15.10 from live USB on a MacBook Pro 8,2 with Radeon HD 6770M. Currently, the machine has installed Ubuntu 15.04 with Radeon disabled in grub and works well. I have installed the 15.04 booting the live USB of Ubuntu 15.04 through a 'nomodeset' command in grub options. I'm looking to do the same to testing live the 15.10, but it seems not work.</p>\n\n<p>If I boot the USB normally, the boot stopped at [6.9] with \"i8042: No controller found\" issue.\nIf I boot removing \"quite splash\" from grub, the boot stopped at [7.3] with \"fb: switching radeonfmfb from EFI VGA\" issue.\nIf I boot removing \"quite splash\" and adding \"nomodeset\" in grub, the boot stopped after a couple of minutes on \"[ OK ] Started WPA supplicant\".</p>\n\n<p>Any idea to proceed?</p>\n"},{"id":655792,"title":"Dual Booting Windows 10 and Ubuntu 14.04.2 on Lenovo Yoga 2 Pro","body":"<p>as a preface - my only experience with Ubuntu is playing around on VM's, so I apologize in advance for any naivety.</p>\n\n<p>I've just updated my Yoga 2 Pro from Windows 8.1 to 10, and am trying to install Ubuntu 14.04.2 along side. I created a UEFI bootable USB with Ubuntu 14.04.2 using rufus <a href=\"http://iseborn.eu/2014/08/14/installing-windows-8-1-and-ubuntu-14-04-on-the-lenovo-yoga-2/\" rel=\"nofollow\">as described</a>.</p>\n\n<p>I disabled secure boot and fast boot and enabled USB boot in the BIOS menu. I was able to get 'try Ubuntu' running, but when I go to install, I get errors with the grub install.</p>\n\n<p>When I select <code>/dev/sda</code> as the pointer for the boot loader, I get the error:</p>\n\n<pre><code>The 'grub-efi-amd64-signed' package failed to install into /target/. Without the GRUB boot loader, the installed system will not boot.\n</code></pre>\n\n<p>This is followed by the installation crashing.</p>\n\n<p>Looking online, it seems like others had this issue, but it was resolved when they pointed the boot loader to <code>/dev/sda2</code> (which is where the Windows Boot Manager is). Unfortunately, I get another error when I do this:</p>\n\n<pre><code>Executing 'grub-install /dev/sda2' failed. This is a fatal error.\n</code></pre>\n\n<p>If it matters, I elected to not have separate root and home partitions due to a smaller SSD. So I have a partition, sda8, that is a 8gb swap partition and a ~25gb root partition, sda9, formated in Ext4 and mounted at <code>/</code>.</p>\n\n<p>EDIT: I've tried going through <a href=\"/q/221835\">the suggested steps</a> to no avail. I tried to install 15.04 as well (the above link seems to indicate that alone could resolve some UEFI related issues) but got the same errors. Ubuntu seems to be installing (the installer sees a previous install in the correct partition), but crashes at the boot loader.</p>\n\n<p>EDIT 2 - SOLUTION: I'm not sure what solved it, but here is what I did in case anyone else has the same issue. Some how the EFI partition corrupted. I deleted the ubuntu partitions using a live USB, then deleted /EFI/boot/Ubuntu. This lead to a failure to boot windows as well, so I used a windows recovery USB to repair windows boot manager. Then, in windows, I created the partitions for a clean ubuntu install. Finally, I reinstalled with no problem. </p>\n"},{"id":653915,"title":"Ubuntu Server Fails to boot from USB with External Drive","body":"<p>I recently installed Ubuntu Server 14.04 onto a 32GB pen drive. This is used as the main drive for an Intel NUC.</p>\n\n<p>-System-</p>\n\n<p>Intel Nuc (i3 D34010WYK) - Headless</p>\n\n<p>Sandisk USB3 micro pen drive (used instead of internal Msata HD)</p>\n\n<p>WD 3TB USB external Drive</p>\n\n<p>Wifi to ethernet bridge (for now)</p>\n\n<hr>\n\n<p>Install was no problem, initially it ran great. </p>\n\n<p>I am having a unique problem (I can't find similar scenarios through my searches).\nI have a 3TB WD external drive also plugged in via USB. I have FSTAB set up using UUID to mount but when ubuntu boots, it looks as though it is trying to boot from the 3TB drive to boot and then failing.</p>\n\n<p>If I try to boot without the 3TB drive plugged in it fails, as the drive could not be detected when fstab goes to mount it.</p>\n\n<p>My initial thought was GRUB, but I'm not sure what the various settings in are. I can see HD1 in a comma separated page that has things about floppy disks (pressed E for \"edit commands\") and thought maybe I need to take that out and make it USBXXX. I'm a bit worried about this as I have never had good luck with GRUB.</p>\n\n<p>To add a bit more weirdness, after this has happened, the nuc will not boot to the USB pen drive. It instead goes to the network boot and the uefi doesn't show it as a boot option. If I remove and plug back in, it works.\nI really don't want to get an MSATA drive as they are expensive. The NUC was cheap, is small, and low energy.</p>\n\n<p>Any help would be awesome, I'm very new to linux, only played with a few VM's and a raspberry pi as a file server (samba).</p>\n"},{"id":244703,"title":"Dual-boot Windows 7 and Ubuntu on two SSDs with UEFI","body":"<p>I recently built a new system with (Asus)UEFI and two SSDs for boot drives, and an HDD for storage. I installed Windows on the first SSD through the UEFI, and it works fine, I've been using it for a couple of weeks now. When I enter the UEFI setting, however, it did not give me the option to set the second SSD as the boot device, even in advanced mode. I instead booted into the live CD (which worked with no problems) and installed ubuntu to the second SSD from there (which also seemed to work with no problems). </p>\n\n<p>The problem is, now I can't figure out how to boot into Ubuntu, only Windows. The UEFI still only lets me choose the Windows SSD or the DVD drive to boot from, and neither Grub nor the Windows bootloader appears when I turn on the machine. Do I need to set the device for boot loader installation to be my Windows drive?</p>\n\n<p>Does anyone who has set up a similar system know what might be causing this? Any help is appreciated.</p>\n\n<p>EDIT: I used <a href=\"http://neosmart.net/EasyBCD/\" rel=\"nofollow\">EasyBCD</a> to add my \"/boot\" partition to the Windows bootloader, and now it gives me the option to boot to ubuntu--but when I try, it just gives me the Grub rescue prompt without actually loading the kernel.</p>\n\n<p>EDIT2: I followed the procedure in the first section of the <a href=\"https://help.ubuntu.com/community/UEFI\" rel=\"nofollow\">UEFI Community Documentation</a>. I ran the boot-repair twice, and now I get the Grub menu on booting--but when I choose any \"Ubuntu\" option, all I get is a blinking underscore. No prompt or anything, just a black screen with a white underscore. I tried entering several commands, but nothing produced any feedback.</p>\n"},{"id":431930,"title":"Installing Ubuntu GNOME dual boot on Sony VAIO Pro, EFI problems","body":"<p>I recently bought a Sony VAIO Pro 13 and after witnessing the horror that in Windows 8, I decided to attempt to install Ubuntu GNOME 13.10 as a dual boot option.</p>\n\n<p>During the install process I partitioned 2 drives: for the Ubuntu root mount and the swap area. The installation went fine and I restarted without the LiveUSB, however tHe laptop booted directly into Win 8. The install guide said I should see a GRUB menu but I didn't. After restarting back into the LiveUSB I ran the boot-repair utility using the recommended settings and then restarted. Now the laptop will not even boot into Windows, I get an \"Operating system not found error\" in both UEFI and Legacy modes.</p>\n\n<p>Here is my boot-repair log:\n<a href=\"http://paste.ubuntu.com/7064164/\" rel=\"nofollow\">http://paste.ubuntu.com/7064164/</a></p>\n\n<p>I know there are some issues with the SSD and I have found info on how to fix this, providing you can at least boot to Grub, which I can't?! </p>\n\n<p>Any help is appreciated, I am worried I have bricked this brand new laptop.</p>\n\n<p>Thanks!</p>\n"},{"id":425261,"title":"Surface Pro, install Ubuntu on Flash drive Problem","body":"<p>I have spent a few days and can't seem to find a clear answer for this.</p>\n\n<p><em><strong>Goal: Install Ubuntu onto a USB 3 flash drive (not Live/Persistent) FOR my Surface Pro WITHOUT touching any of my Surface Pro partitions.</em></strong></p>\n\n<p>So when I first attempt to install Ubuntu (12.04), the installer did not bother asking me where I want to install the bootloader, I assume it automatically wrote over my Surface Pro EFI boot because after I rebooted without the flash drive (where I installed my Ubuntu to) attached I'm greeted with \"Grub Minimal Bash like System\", so it basically couldn't find where Grub was installed to. I was still able to get into Windows through Grub when I have my Ubuntu USB attached so I can access grub's Windows 8 entry. But this is NOT want I want. I prefer not to have USB in at all if I want to boot into windows.</p>\n\n<p>After hours of searching for a resolution to this, I ended up wiping my Surface Pro completely because no one seems to be able to explain UEFI boot other than the fact it's \"different than BIOS\". </p>\n\n<p>After restoring everything, upgrading back to Windows 8.1, I'm making a second attempt at this and same thing happens when I create my own partitions on the Flash Drive, it still seems to just overwrite the default bootloader. </p>\n\n<p>First Question: How can I restore the default bootloader so it would boot directly into Windows 8?</p>\n\n<p>Second Question: How can I install Grub on the flash drive so that whenever I want to boot into Ubuntu I would use this workflow: Boot to Windows -> PC Settings -> Advanced Restart -> Reboot from Media/USB/CD Devices -> Boot from my Ubuntu USB</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>P.S I tried Ubuntu 13.10 livecd and it would not boot on my surface pro.</p>\n"},{"id":372970,"title":"13.10 doesn&#39;t boot on Vaio Pro 13","body":"<p>I just installed Ubuntu 13.10 on my new Vaio Pro 13, disabled safe mode, but used UEFI and not legacy mode.\nI did an encrypted LVM installation and erased the complete SSD.\nIt booted just fine from USB, but after installation it doesn't boot.\nThe Vaio failed boot screen appears.</p>\n\n<p>I then tried this advice here: <a href=\"http://askubuntu.com/questions/360285/13-10-on-vaio-pro-with-uefi\">13.10 on vaio pro with UEFI</a>\nsadly it fails for me with </p>\n\n<blockquote>\n  <p>\"/usr/sbin/grub-probe: error: failed to get canonical path of /cow.\"</p>\n</blockquote>\n\n<p>I then tried mounted the encrypted partition with Nautilus and tried this: <a href=\"http://askubuntu.com/questions/207663/cannot-update-grub-with-paramters-on-live-usb\">Cannot update grub with paramters on live USB</a>\nWith /dev/sda2 and then to install GRUB to /dev/sda.\nDidn't succeed and warned me that the </p>\n\n<blockquote>\n  <p>\"GPT partition label contains no BIOS Boot Partition; embedding won't\n  be possible\"</p>\n</blockquote>\n\n<p>What do i have to do, go fix GRUB and be able to boot my finished install?\nHere's my Boot Repair Log: <a href=\"http://paste.ubuntu.com/6386598/\" rel=\"nofollow\">http://paste.ubuntu.com/6386598/</a></p>\n\n<p>I would really appreciate any help, \nI'm so happy to finally be able to ditch my big fat Macbook Pro and use Ubuntu on my new, light Vaio Pro, if only I could fix GRUB.</p>\n\n<p>best,\nx</p>\n"},{"id":265962,"title":"Ubuntu + Windows 8 pro dual boot - Grub can&#39;t find command &#39;Drive Map&#39;","body":"<p>I have the following setup:</p>\n\n<ul>\n<li><p>Samsung 840 Series SSD drive with three partitions: </p>\n\n<ol>\n<li>EFI Boot Partition (200 MB)</li>\n<li>Linux Swap Space (2 GB)</li>\n<li>Primary Ubuntu Drive (490 GB)</li>\n</ol></li>\n<li><p>Crucial M4 SSD with one partition: </p>\n\n<ol>\n<li>Windows 8 Pro Drive (250GB)</li>\n</ol></li>\n</ul>\n\n<p>The SSD drives are new, and the Windows 8 was installed before Ubuntu.</p>\n\n<p>I set the boot on my BIOS (AsRock Extreme4) to go to the Ubuntu GRUB loader, which lists a couple options for booting ubuntu as well as an option for booting Windows 8. Ubuntu loads without any problem.</p>\n\n<p>Whenever I try to load the Windows 8 OS, I get the following error:</p>\n\n<blockquote>\n  <p>Grub Can't find command 'Drive Map'</p>\n</blockquote>\n\n<p>I have tried accessing the M4 drive from Ubuntu to see if I can find the boot location on the NTFS windows drive, but I can't mount the Windows drive to Ubuntu, because it gives this error:</p>\n\n<blockquote>\n  <p>Failed to mount '/dev/sdb1': Operation not permitted<br>\n  The NTFS partition is hibernated. </p>\n</blockquote>\n\n<p>Is there an easier way to fix the grub boot commands that involves not mounting the Windows 8 drive to Ubuntu?</p>\n\n<p><strong>EDIT:</strong>  I tried using the Ubuntu Boot Repiar tool from a LinuxLive USB loader.  The \"Recommended\" fix didn't fix anything, but it gave me this paste file, detailing my boot setup, if it helps:\n<a href=\"http://paste.ubuntu.com/5600941/\" rel=\"nofollow\">http://paste.ubuntu.com/5600941/</a></p>\n\n<p>I think the major problem lay in that the Windows partition is on another disk, which can't be mounted in Ubuntu, hence I can't use grub probe without getting errors.</p>\n\n<p><strong>EDIT 2: [SOLUTION]</strong>  I ended up just reformatting the Ubuntu drive again, and installing Ubuntu via LiveUSB with the LinuxSecureRemix Ubuntu ISO <a href=\"https://help.ubuntu.com/community/LinuxSecureRemix\" rel=\"nofollow\">found here</a>.  This was installed across two partitions on the drive - one for Swap and one for Ubuntu.</p>\n\n<p>Then I loaded Ubuntu on the new partition, and used GParted to create an EFI partition alongside the Ubuntu and Swap partitions, making sure the EFI partition was created first and then flagged boot_EFI second.  Then I ran Boot-Repair, and used recommended settings.</p>\n\n<p>Boot-Repair was finally able to detect the now-blank boot_EFI partition, and install Grub.  For whatever reason before, it was not able to use EFI partition created with the Ubuntu install.  </p>\n\n<p>Now Ubuntu Grub works with windows 8.</p>\n\n<p><strong>IF you are having trouble with Windows 8 and Ubuntu grub, boot-repair, or burg</strong> I would recommend <a href=\"http://askubuntu.com/questions/221835/installing-ubuntu-on-a-pre-installed-uefi-supported-windows-8-system\">reading here first</a> before you try the reformat that I did.</p>\n"}]}]