[{"id":715056,"title":"dependency error while installing openssh client","body":"<p>As you can see from the image I am unable to install <code>openssh-client</code> because of dependency error, I have tried this process on a different machine and it worked but it doesn't work on my machine can anyone tell me why?\n<img src=\"http://i.stack.imgur.com/8hnNl.png\" alt=\"image\"></p>\n","related_questions":[{"id":705621,"title":"openssh version 6.9+ upstart problems","body":"<p>I'm on trusty (14.04.2 LTS). current version of openssh=6.6\n(OpenSSH_6.6.1p1 Ubuntu-2ubuntu2.3, OpenSSL 1.0.1f 6 Jan 2014)</p>\n\n<p>Was told to upgrade to openssh=6.9 or greater.</p>\n\n<p>Why does the ssh daemon now not properly start/stop via upstart?</p>\n\n<p>Here is what I did...</p>\n\n<p>Downloaded 6.9 tarball (openssh-6.9p1.tar.gz).</p>\n\n<p>processed thusly (all as root):</p>\n\n<pre>\ncd openssh-6.9p1\n./configure --prefix=/usr --sysconfdir=/etc/ssh --with-pam --libexecdir=/usr/lib/openssh\nmake\nstop ssh  ;(stopped properly)\nmake install\n</pre>\n\n<p>Hangs during upstart launch...</p>\n\n<pre>\nstart ssh  ;(control-c to escape)\n</pre>\n\n<p>I can see the NEW daemon is running, and I can actually ssh into the box.\nThe new version nows...</p>\n\n<pre>\nssh -V\nOpenSSH_6.9p1, OpenSSL 1.0.1f 6 Jan 2014\n</pre>\n\n<p>Also tried:  <pre>initctl --system start ssh</pre></p>\n\n<p>Rebooted.\nssh into box OK.\nCan see service running via: ps aux | grep ssh</p>\n\n<p>The process ID in /var/run/sshd.pid matches what I saw in the above ps.</p>\n\n<pre>\nstop ssh  ; hangs - control-c to escape.\n</pre>\n\n<p>I actually went thru the trouble of downloading a debian 6.9 package and extracting the contents. The upstart script in there is the same as what\nversion 6.6 is using (I've not mucked w/ it).</p>\n\n<p>Current /etc/init/ssh.conf content:</p>\n\n<pre>\n# ssh - OpenBSD Secure Shell server\n#\n# The OpenSSH server provides secure shell access to the system.\n\ndescription \"OpenSSH server\"\n\nstart on runlevel [2345]\nstop on runlevel [!2345]\n\nrespawn\nrespawn limit 10 5\numask 022\n\nenv SSH_SIGSTOP=1\nexpect stop\n\n# 'sshd -D' leaks stderr and confuses things in conjunction with 'console log'\nconsole none\n\npre-start script\n    test -x /usr/sbin/sshd || { stop; exit 0; }\n    test -e /etc/ssh/sshd_not_to_be_run && { stop; exit 0; }\n\n    mkdir -p -m0755 /var/run/sshd\nend script\n\n# if you used to set SSHD_OPTS in /etc/default/ssh, you can change the\n# 'exec' line here instead\nexec /usr/sbin/sshd -D\n</pre>\n"},{"id":639799,"title":"Connection refused even after installing openssh-server","body":"<p>I have been spending the last 4 hours trying to get my VNC connection to work. Eventually, I realized it was because my Ubuntu remote host was unable to host SSH connections- <strong>even though I had already installed openssh-server</strong>.</p>\n\n<p>I then tried some basic tests to verify that <code>sshd</code> was working on my machine, and found that <code>ssh localhost</code> gives a <code>Connection refused on port 22</code> error. Also, <code>sudo service ssh start</code> and <code>sudo start ssh</code> both give a <code>start: Unknown job: ssh</code> error. I tried purging and reinstalling <code>openssh-server</code>, but no luck. Why can't I receive clients?</p>\n\n<p><strong>EDIT:</strong> When I try to connect via the local machines (the VNC viewers) they give me a <code>Connection timed out</code> error.</p>\n\n<p><strong>EDIT_2:</strong> As requested, here is the output of <code>apt-cache policy openssh-server</code>:</p>\n\n<pre><code>openssh-server:\n  Installed: 1:6.6p1-2ubuntu2\n  Candidate: 1:6.6p1-2ubuntu2\n  Version table:\n *** 1:6.6p1-2ubuntu2 0\n        500 http://ports.ubuntu.com/ubuntu-ports/ trusty-updates/main armhf Packages\n        100 /var/lib/dpkg/status\n     1:6.6p1-2ubuntu1 0\n        500 http://ports.ubuntu.com/ubuntu-ports/ trusty/main armhf Packages\n</code></pre>\n"},{"id":461494,"title":"Update OpenSSH Server in 12.04?","body":"<p>I'm having hard time updating openssh-server in ubuntu 12.04, I stupidly downloaded .deb file for 14.04 and of course it didn't work :/</p>\n\n<p>I've tried sudo apt-get -f install, it just removed my openssh</p>\n\n<p><strong>Here's the output installing openssh 6.6</strong></p>\n\n<pre><code>vagrant@precise64:~$ sudo dpkg -i openssh-server_6.6p1-2ubuntu1_amd64.deb \nSelecting previously unselected package openssh-server.\n(Reading database ... 84054 files and directories currently installed.)\nUnpacking openssh-server (from openssh-server_6.6p1-2ubuntu1_amd64.deb) ...\ndpkg: dependency problems prevent configuration of openssh-server:\n openssh-server depends on libc6 (&gt;= 2.17); however:\n  Version of libc6 on system is 2.15-0ubuntu10.5.\n openssh-server depends on libck-connector0 (&gt;= 0.2.1); however:\n  Package libck-connector0 is not installed.\n openssh-server depends on init-system-helpers (&gt;= 1.13~); however:\n  Package init-system-helpers is not installed.\n openssh-server depends on openssh-client (= 1:6.6p1-2ubuntu1); however:\n  Version of openssh-client on system is 1:5.9p1-5ubuntu1.3.\n openssh-server depends on sysv-rc (&gt;= 2.88dsf-24) | file-rc (&gt;= 0.8.16); however:\n  Version of sysv-rc on system is 2.88dsf-13.10ubuntu11.1.\n  Package file-rc is not installed.\n openssh-server depends on lsb-base (&gt;= 4.1+Debian3); however:\n  Version of lsb-base on system is 4.0-0ubuntu20.3.\n openssh-server depends on openssh-sftp-server; however:\n  Package openssh-sftp-server is not installed.\ndpkg: error processing openssh-server (--install):\n dependency problems - leaving unconfigured\nProcessing triggers for man-db ...\nProcessing triggers for ureadahead ...\nProcessing triggers for ufw ...\n</code></pre>\n"},{"id":622916,"title":"OpenSSH client not connecting after deleting id_rsa","body":"<p>So I stupidly overwrote my id_rsa and id_rsa.pub files earlier, and I just decied to rm -rf the whole .ssh folder because it was all corrupted/broken after tinkering with it. Ever since that when I try to connect to ssh servers my client just hangs. Here is the output for -v</p>\n\n<pre><code>huoy@huoy:~$ ssh -v xxxx@xxxxx.xx -p xx\nOpenSSH_6.7p1 Ubuntu-5ubuntu1, OpenSSL 1.0.1f 6 Jan 2014\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: /etc/ssh/ssh_config line 19: Applying options for *\ndebug1: Connecting to xxxx@xxxxx.xx [xx.xx.xx.xx] port xx.\n</code></pre>\n\n<p>Anyone have any idea what would cause this?</p>\n\n<p>Thanks</p>\n\n<p>Edit: I just realised I can connect to other servers via ssh. I think it's something to do with the server, though I'm not sure what. Shouldn't it just reject me if I don't have the right keys?</p>\n"},{"id":53976,"title":"SSH Connection Error: No route to host","body":"<p>There are three machines in this scenario:</p>\n\n<ul>\n<li>Desktop A : user@1.23.x.x</li>\n<li>Laptop A : user@1.23.y.y</li>\n<li>Machine B : user@192.168.z.z</li>\n</ul>\n\n<p>All the machines have Ubuntu 11.04 (Desktop A is a 64bit one) and have both openssh-server and openssh-client.</p>\n\n<p>Now when I try to connect Desktop A to Laptop A or vice-versa by <code>ssh user@1.23.y.y</code> I get an error as </p>\n\n<pre><code>port 22: No route to host\n</code></pre>\n\n<p>in both the cases. </p>\n\n<p>I own both the machines, now if I try same commands from my friend's machine, i.e. via Desktop B, I can access both my Laptop and Desktop. But if I try to access Desktop B from my Laptop or by Desktop I get</p>\n\n<pre><code>port 22: Connection timed out\n</code></pre>\n\n<p>I even tried changing ssh port no. in <code>ssh_config</code> file but no success.</p>\n\n<p><strong>Note</strong>: that 'Laptop A' uses WiFi connection while 'Machine A' uses Ethernet Connection and 'Machine B' is on an entirely different network.</p>\n\n<p><strong>@Lekensteyn</strong> Here it is -></p>\n\n<p>Laptop A &amp;&amp; Desktop A -> Router/Nano_Rcvr provided to me by ISP. So to one Router two Machines are connected and can be accessed at the same time.\nhere is my ifconfig output for both the machines :-\n<strong>Laptop</strong> </p>\n\n<p><code>wlan0</code></p>\n\n<pre><code>      Link encap:Ethernet  HWaddr X:X:X:X:00:bc  \n      inet addr:1.23.73.111  Bcast:1.23.95.255  Mask:255.255.224.0\n      inet6 addr: fe80::219:e3ff:fe04:bc/64 Scope:Link\n      UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n      RX packets:108409 errors:0 dropped:0 overruns:0 frame:0\n      TX packets:82523 errors:0 dropped:0 overruns:0 carrier:0\n      collisions:0 txqueuelen:1000 \n      RX bytes:44974080 (44.9 MB)  TX bytes:22973031 (22.9 MB)\n</code></pre>\n\n<p><strong>Desktop</strong></p>\n\n<p><code>eth0</code></p>\n\n<pre><code>      Link encap:Ethernet  HWaddr X:X:X:X:c5:78  \n      inet addr:1.23.68.209  Bcast:1.23.95.255  Mask:255.255.224.0\n      inet6 addr: fe80::227:eff:fe04:c578/64 Scope:Link\n      UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n      RX packets:10380 errors:0 dropped:0 overruns:0 frame:0\n      TX packets:4509 errors:0 dropped:0 overruns:0 carrier:0\n      collisions:0 txqueuelen:1000 \n      RX bytes:1790366 (1.7 MB)  TX bytes:852877 (852.8 KB)\n      Interrupt:43 Base address:0x2000 \n</code></pre>\n\n<p><strong>Output of</strong> <code>ip route show</code></p>\n\n<pre><code>      1.23.64.0/19 dev wlan0  proto kernel  scope link  src 1.23.73.111  metric 2 \n\n      169.254.0.0/16 dev wlan0  scope link  metric 1000 \n</code></pre>\n\n<p><strong>Output of</strong> <code>traceroute -n 1.23.73.111</code></p>\n\n<pre><code>       traceroute to 1.23.73.111 (1.23.73.111), 30 hops max, 60 byte packets\n       1  1.23.68.209  3008.787 ms !H  3008.786 ms !H  3008.784 ms !H\n</code></pre>\n"},{"id":561552,"title":"installing openssh-server without an internet connection","body":"<p>Currently we have been given an old server with the OS ubuntu. To work at it without always physically being there I wanted to access it with the software putty, but I haven't installed \"openssh-server\" and can't get it with the usual command because there is no internet connection. Is it possible to download the file on a usb stick and then somehow install it? By the way I can only work woth the terminal. If anyone knows how to solve this, I'd be really grateful.</p>\n"},{"id":485123,"title":"Installing openssh-server on a virtual machine","body":"<p>I am unable to install openssh-server on an Ubuntu 13.10 virtual machine. Here is the command I used and it's output:</p>\n\n<pre><code>sudo apt-get install openssh-server\n[sudo] password for mohamed:\nReading package lists... Done\nBuilding dependency tree      \nReading state information... Done\nPackage openssh-server is not available, but is referred to by another package.\nThis may mean that the package is missing, has been obsoleted, or\nis only available from another source\n\nE: Package 'openssh-server' has no installation candidate\n</code></pre>\n"},{"id":468995,"title":"Can not install openssh server","body":"<pre><code>sudo apt-get install openssh-server\n</code></pre>\n\n<p>I got this error:</p>\n\n<pre><code>Err mirror://mirrors.ubuntu.com/mirrors.txt/ precise-updates/main openssh-server i386 1:5.9p1-5ubuntu1.4\n  No mirror file '/var/lib/apt/mirrors/mirrors.ubuntu.com_mirrors.txt' found  [Mirror: ]\nErr mirror://mirrors.ubuntu.com/mirrors.txt/ precise/main ssh-import-id all 2.10-0ubuntu1\n  No mirror file '/var/lib/apt/mirrors/mirrors.ubuntu.com_mirrors.txt' found  [Mirror: ]\nFailed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/pool/main/o/openssh/openssh-server_5.9p1-5ubuntu1.4_i386.deb  No mirror file '/var/lib/apt/mirrors/mirrors.ubuntu.com_mirrors.txt' found  [Mirror: ]\nFailed to fetch mirror://mirrors.ubuntu.com/mirrors.txt/pool/main/s/ssh-import-id/ssh-import-id_2.10-0ubuntu1_all.deb  No mirror file '/var/lib/apt/mirrors/mirrors.ubuntu.com_mirrors.txt' found  [Mirror: ]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n</code></pre>\n\n<p>My <code>/etc/apt/sources.list</code> content is:</p>\n\n<pre><code>deb mirror://mirrors.ubuntu.com/mirrors.txt precise main restricted universe\ndeb mirror://mirrors.ubuntu.com/mirrors.txt precise-updates main restricted universe multiverse\ndeb mirror://mirrors.ubuntu.com/mirrors.txt precise-backports main restricted universe multiverse\ndeb mirror://mirrors.ubuntu.com/mirrors.txt precise-security main restricted universe multiverse\n</code></pre>\n\n<p>Why and how to fix it ?</p>\n"},{"id":300732,"title":"OpenSSH Two Factor Authentication","body":"<p>I'm using Ubuntu Server 13.04 and want to use OpenSSH for sftp.\nI have everything set up and the only thing not working is the Two Factor Authentication.\nCurrently it asks for a password or the public key but I need it to ask for a password AND a public key. </p>\n\n<p>It seams that there is a parameter in the sshd_config for that:</p>\n\n<pre><code>RequiredAuthentications{1,2} \n</code></pre>\n\n<p>It is listed here: <a href=\"http://linux.die.net/man/5/sshd_config\" rel=\"nofollow\">linux.die.net</a></p>\n\n<p>So I added this line to the <code>/etc/sshd_config</code></p>\n\n<pre><code>RequiredAuthentications2 publickey,password\n</code></pre>\n\n<p>But sshd -t would always give this error</p>\n\n<pre><code>/etc/ssh/sshd_config: line 26: Bad configuration option: RequiredAuthentications2\n</code></pre>\n\n<p>My version of OpenSSH is <code>6.1.p1-4</code>.\nFrom this post I figured that it is only available in openssh-6.2:\n(The last post): <a href=\"https://bugzilla.mindrot.org/show_bug.cgi?id=983\" rel=\"nofollow\">bugzilla.mindrot.org</a></p>\n\n<p>To test this on another computer with Linux Mint i tried to compile this version from source as it is not available for Ubuntu stable. </p>\n\n<p>I did this using auto-apt as suggested in these tutorials<br>\n<a href=\"http://www.howtogeek.com/105413/how-to-compile-and-install-from-source-on-ubuntu/\" rel=\"nofollow\">www.howtogeek.com -1</a><br>\n<a href=\"http://www.howtogeek.com/106526/how-to-resolve-dependencies-while-compiling-software-on-ubuntu/\" rel=\"nofollow\">www.howtogeek.com -2</a></p>\n\n<p>The result is the same on the Linux Mint Computer.</p>\n\n<p>So I'm stuck for the moment.</p>\n\n<p>P.S.: Somewhere else I found you could use a second authentication script but I'm not sure if this is a good and secure solution. I want to use the server with normal ftp programs like WinSCP or Filezilla from Windows. I don't know if they would understand that way of authentication.</p>\n"},{"id":449552,"title":"How to install openssh-server, tcsh, autofs and ypbind on Ubuntu 14.04 Desktop version?","body":"<p>How to install openssh-server, tcsh, autofs and ypbind on Ubuntu 14.04 Desktop version?\nI'd like to modify the source.list to use apt-get for similar packages.\nThey are all in trusty/main or trusty/universe...\nThanks a lot.</p>\n"}]}]