[{"id":715558,"title":"files list file for package missing","body":"<p>I want to install Open JDK or Oracle JDK to my machine but i got an error during installion. The error is:</p>\n\n<pre><code>Selecting previously unselected package oracle-java8-installer.\ndpkg: warning: files list file for package 'unity-scope-gourmet' missing; assuming package has no files currently installed\ndpkg: warning: files list file for package 'unity-scope-guayadeque' missing; assuming package has no files currently installed\ndpkg: warning: files list file for package 'unity-scope-gmusicbrowser' missing; assuming package has no files currently installed\ndpkg: warning: files list file for package 'unity-scope-manpages' missing; assuming package has no files currently installed\ndpkg: warning: files list file for package 'unity-scope-firefoxbookmarks' missing; assuming package has no files currently installed\ndpkg: warning: files list file for package 'unity-scope-gdrive' missing; assuming package has no files currently installed\ndpkg: warning: files list file for package 'unity-scope-home' missing; assuming package has no files currently installed\nE: Sub-process /usr/bin/dpkg returned an error code (2)\n</code></pre>\n\n<p>I searched on Google and try to something for install/reinstall this packages. Finally i try to remove Unity. I faced this error for my every tries. I am using Xmonad. How can i fix this issue?</p>\n","related_questions":[{"id":699411,"title":"Ubuntu 15.10 The installation or removal of a software package failed","body":"<p>I'm using ubuntu 15.10 and when I try to install application from software center after installation I got this error.when I click Ok I can see that application on my pc but I can't open it.Help me</p>\n\n<pre>installArchives() failed: Selecting previously unselected package libkeybinder-3.0-0:amd64.\n(Reading database ... \n(Reading database ... 5%\n(Reading database ... 10%\n(Reading database ... 15%\n(Reading database ... 20%\n(Reading database ... 25%\n(Reading database ... 30%\n(Reading database ... 35%\n(Reading database ... 40%\n(Reading database ... 45%\n(Reading database ... 50%\n(Reading database ... 55%\n(Reading database ... 60%\n(Reading database ... 65%\n(Reading database ... 70%\n(Reading database ... 75%\n(Reading database ... 80%\n(Reading database ... 85%\n(Reading database ... 90%\n(Reading database ... 95%\n(Reading database ... 100%\n(Reading database ... 231567 files and directories currently installed.)\nPreparing to unpack .../libkeybinder-3.0-0_0.3.0-1_amd64.deb ...\nUnpacking libkeybinder-3.0-0:amd64 (0.3.0-1) ...\nSelecting previously unselected package libopencore-amrnb0:amd64.\nPreparing to unpack .../libopencore-amrnb0_0.1.3-2.1_amd64.deb ...\nUnpacking libopencore-amrnb0:amd64 (0.1.3-2.1) ...\nSelecting previously unselected package libopencore-amrwb0:amd64.\nPreparing to unpack .../libopencore-amrwb0_0.1.3-2.1_amd64.deb ...\nUnpacking libopencore-amrwb0:amd64 (0.1.3-2.1) ...\nSelecting previously unselected package gir1.2-keybinder-3.0.\nPreparing to unpack .../gir1.2-keybinder-3.0_0.3.0-1_amd64.deb ...\nUnpacking gir1.2-keybinder-3.0 (0.3.0-1) ...\nSelecting previously unselected package gstreamer1.0-plugins-ugly-amr:amd64.\nPreparing to unpack .../gstreamer1.0-plugins-ugly-amr_1.6.0-1ubuntu1_amd64.deb ...\nUnpacking gstreamer1.0-plugins-ugly-amr:amd64 (1.6.0-1ubuntu1) ...\nSelecting previously unselected package libsidplay1v5.\nPreparing to unpack .../libsidplay1v5_1.36.59-8_amd64.deb ...\nUnpacking libsidplay1v5 (1.36.59-8) ...\nSelecting previously unselected package gstreamer1.0-plugins-ugly:amd64.\nPreparing to unpack .../gstreamer1.0-plugins-ugly_1.6.0-1ubuntu1_amd64.deb ...\nUnpacking gstreamer1.0-plugins-ugly:amd64 (1.6.0-1ubuntu1) ...\nSelecting previously unselected package kazam.\nPreparing to unpack .../archives/kazam_1.4.5-2_all.deb ...\nUnpacking kazam (1.4.5-2) ...\nProcessing triggers for gnome-menus (3.13.3-6ubuntu1) ...\nProcessing triggers for desktop-file-utils (0.22-1ubuntu3) ...\nProcessing triggers for bamfdaemon (0.5.2~bzr0+15.10.20150627.1-0ubuntu1) ...\nRebuilding /usr/share/applications/bamf-2.index...\nProcessing triggers for mime-support (3.58ubuntu1) ...\nProcessing triggers for man-db (2.7.4-1) ...\nProcessing triggers for hicolor-icon-theme (0.15-0ubuntu1) ...\nSetting up runit (2.1.2-3ubuntu1) ...\nstart: Job is already running: runsvdir\ndpkg: error processing package runit (--configure):\n subprocess installed post-installation script returned error exit status 1\ndpkg: dependency problems prevent configuration of git-daemon-run:\n git-daemon-run depends on runit; however:\n  Package runit is not configured yet.\n\ndpkg: error processing package git-daemon-run (--configure):\n dependency problems - leaving unconfigured\nSetting up libkeybinder-3.0-0:amd64 (0.3.0-1) ...\nNo apport report written because the error message indicates its a followup error from a previous failure.\nSetting up libopencore-amrnb0:amd64 (0.1.3-2.1) ...\nSetting up libopencore-amrwb0:amd64 (0.1.3-2.1) ...\nSetting up gir1.2-keybinder-3.0 (0.3.0-1) ...\nSetting up gstreamer1.0-plugins-ugly-amr:amd64 (1.6.0-1ubuntu1) ...\nSetting up libsidplay1v5 (1.36.59-8) ...\nSetting up gstreamer1.0-plugins-ugly:amd64 (1.6.0-1ubuntu1) ...\nSetting up kazam (1.4.5-2) ...\nProcessing triggers for libc-bin (2.21-0ubuntu4) ...\nErrors were encountered while processing:\n runit\n git-daemon-run\nError in function: \ndpkg: dependency problems prevent configuration of git-daemon-run:\n git-daemon-run depends on runit; however:\n  Package runit is not configured yet.\n\ndpkg: error processing package git-daemon-run (--configure):\n dependency problems - leaving unconfigured</pre>\n"},{"id":670823,"title":"dpkg: warning: files list file for package &#39;liba52-0.7.4&#39; missing","body":"<p>I'm trying to run </p>\n\n<pre><code>$ sudo apt-get upgrade\n</code></pre>\n\n<p>and here is the output</p>\n\n<pre><code>$ Reading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nCalculating upgrade... Done\nThe following packages have been kept back:\n  linux-generic-lts-utopic linux-headers-generic-lts-utopic\n  linux-image-generic-lts-utopic linux-tools-virtual-lts-vivid\nThe following packages will be upgraded:\n  apparmor apport apport-gtk bash-completion bind9-host\n  chromium-codecs-ffmpeg-extra dnsutils firefox firefox-locale-en\n  flashplugin-installer gir1.2-gdkpixbuf-2.0 gir1.2-gtk-3.0 libapparmor-perl\n  libapparmor1 libbind9-90 libdns100 libexpat1 libexpat1:i386 libgail-3-0\n  libgdk-pixbuf2.0-0 libgdk-pixbuf2.0-common libgtk-3-0 libgtk-3-bin\n  libgtk-3-common libisc95 libisccc90 libisccfg90 liblwres90\n  libnautilus-extension1a libnss-winbind libpam-winbind libsmbclient\n  libsnmp-base libsnmp30 libvdpau1 libwbclient0 linux-firmware linux-libc-dev\n  linux-tools-common nautilus-data oneconf oneconf-common openssh-client\n  oracle-java8-installer python-oneconf python-samba python3-apport\n  python3-oneconf python3-problem-report samba samba-common samba-common-bin\n  samba-dsdb-modules samba-libs samba-vfs-modules smbclient ssh-askpass-gnome\n  tlp tlp-rdw tzdata winbind xul-ext-ubufox\n62 upgraded, 0 newly installed, 0 to remove and 4 not upgraded.\nNeed to get 0 B/81.5 MB of archives.\nAfter this operation, 6,653 kB of additional disk space will be used.\nDo you want to continue? [Y/n] y\nExtracting templates from packages: 100%\nPreconfiguring packages ...\ndpkg: warning: files list file for package 'liba52-0.7.4' missing; assuming package has no files currently installed\nE: Sub-process /usr/bin/dpkg returned an error code (2)\n</code></pre>\n"},{"id":648736,"title":"I get this error: dpkg: unrecoverable fatal error, aborting: files list file for package `fonts-tlwg-kinnari&#39; contains empty filename","body":"<p>When I try to install I get this error:</p>\n\n<pre><code>dpkg: unrecoverable fatal error, aborting:  files list file for package `fonts-tlwg-kinnari' contains empty filename\nE: Sub-process /usr/bin/dpkg returned an error code (2)\n</code></pre>\n\n<p>And the installation is aborted.</p>\n\n<p>I'm using Ubuntu 14.04</p>\n"},{"id":378650,"title":"Write List of Packages installed via Manual Invocation of apt-get to File","body":"<p>I'm trying to install a new version of Ubuntu from scratch, but I would like a list of the packages which I manually installed (as opposed to installed as a dependency or that came with the system). </p>\n\n<p>I can get a reasonable approximation on Synaptic by looking at only my <code>Installed (manual)</code> packages and then only looking at those packages <em>not</em> supported by Ubuntu (i.e. all those files without the Ubuntu Unity symbol next to them). However, I cannot seem to get Synaptic to export a list of these packages.</p>\n\n<p>Hence my question is whether it is possible to generate a list of packages that were installed manually via the <code>apt-get install</code> command?</p>\n\n<p>The following do <em>not</em> work:</p>\n\n<ul>\n<li>Using <code>apt-mark showmanual</code>. It yields all packages deemed essential as well as manually installed packages. I only want my manually installed packages. </li>\n<li><code>aptitude search '!~M ~i'</code>. There are <em>way</em> too many packages that are being shown (no way I manually installed > 1000 packages). </li>\n<li>The Python script given by @txwikinger in <a href=\"http://askubuntu.com/questions/2389/generating-list-of-manually-installed-packages-and-querying-individual-packages\">Generating list of manually installed packages and querying individual packages</a>. There are packages (such as <code>bsdgames</code>) which I installed, but do not show up in the output of that script. </li>\n<li>The bash script given by @Johan in <a href=\"http://serverfault.com/questions/133681/generating-a-list-of-installed-packages-in-ubuntu\">http://serverfault.com/questions/133681/generating-a-list-of-installed-packages-in-ubuntu</a>. Once again too many packages are shown. </li>\n</ul>\n\n<p>This question is similar in flavor to other questions that have been asked both on Stack Exchange sites and elsewhere (such as <a href=\"http://askubuntu.com/questions/2389/generating-list-of-manually-installed-packages-and-querying-individual-packages\">Generating list of manually installed packages and querying individual packages</a>, <a href=\"http://serverfault.com/questions/133681/generating-a-list-of-installed-packages-in-ubuntu\">http://serverfault.com/questions/133681/generating-a-list-of-installed-packages-in-ubuntu</a>, and <a href=\"http://ubuntuforums.org/showthread.php?t=947865&amp;page=2\">http://ubuntuforums.org/showthread.php?t=947865&amp;page=2</a>). </p>\n\n<p>David Kalnischkies on <a href=\"http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=727799\">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=727799</a> gives some perspective as to why pinning down exactly what \"manually installed\" means is difficult (e.g. do programs which you ran which installed packages count as \"manually installed\"?). Therefore I have specifically limited this question (unlike the others that I listed) to only invocations of <code>apt-get install</code>.</p>\n\n<p>Edit: <a href=\"http://askubuntu.com/questions/195782/how-to-view-a-list-of-packages-that-were-manually-installed-without-their-depend?rq=1\">How to view a list of packages that were manually installed without their dependancies</a> has a nice idea for using the log files of apt-get to do this. Unfortunately this doesn't keep track of which packages have been removed. And even if I were to simply <code>grep 'apt-get purge'</code> and take the <code>diff</code> of the two lists that I get it still wouldn't account for the edge case that I've installed a package, uninstalled it, and then reinstalled it. </p>\n"},{"id":638687,"title":"Installing Blackmagic Mini Monitor fails","body":"<p>I have a Blackmagic card which has the following instructions </p>\n\n<blockquote>\n  <p>The Desktop Video packages require some additional libraries and packages:</p>\n  \n  <ul>\n  <li>dkms</li>\n  <li>Linux kernel headers/source (for currently running kernel version)</li>\n  <li>Qt 4.5 or later\n  Ubuntu and Debian based distributions\n  The deb packages are located in the deb/i386 and deb/amd64\n  directories. Installation from Command Line\n      At the command prompt type:\n       # sudo dpkg -i desktopvideo_<em>.deb\n       Or, to also install the control panel and Media Express, type:\n       # sudo dpkg -i desktopvideo_</em>.deb desktopvideo-gui_<em>.deb \\\n         mediaexpress_</em>.deb\n      Then fix up any missing dependencies with:\n       # sudo apt-get install -f</li>\n  </ul>\n</blockquote>\n\n<p>So I ran the following command</p>\n\n<p>sudo apt-get install dkms</p>\n\n<p>which seemed to work- as I now get the following when I run the command</p>\n\n<blockquote>\n  <p>Building dependency tree<br>\n  Reading state information... Done\n  dkms is already the newest version.\n  0 to upgrade, 0 to newly install, 0 to remove and 18 not to upgrade.</p>\n</blockquote>\n\n<p>So I then made a mistake by going to the i386 instead of the amd64 subdirectory - as I have an Intel.  The problem I had was that it could not find the dkms dependancy - finally I realized  </p>\n\n<blockquote>\n  <p>dpkg --printarchtecure gives me amd64</p>\n</blockquote>\n\n<p>So I swapped to the amd64 directory and tried again but the problem I now have is that when I run </p>\n\n<blockquote>\n  <p>sudo dpkg -i desktopvideo_<em>.deb desktopvideo-gui_</em>.deb mediaexpress_*.deb</p>\n</blockquote>\n\n<p>I get</p>\n\n<blockquote>\n  <p>.... lots of stuff followed by</p>\n  \n  <p>cleaning build area....</p>\n  \n  <p>make KERNELRELEASE=3.13.0-55-generic KERNELRELEASE=3.13.0-55-generic....(bad exit status: 2)</p>\n  \n  <p>Error! Bad return status for module build on kernel: 3.13.0-55-generic (x86_64)</p>\n  \n  <p>Consult /var/lib/dkms/blackmagic/10.4.1a9/build/make.log for more information.</p>\n  \n  <p>dkms build -m blackmagic-io -v 10.4.1a9 </p>\n</blockquote>\n\n<p>So the file reffered to has a lot of stuff but in particular the following lines</p>\n\n<hr>\n\n<blockquote>\n  <p>ld: Relocatable linking with relocations from format elf64-x86-64 (/var/lib/dkms\n  /blackmagic-io/10.4.1a9/build/blackmagic.a) to format elf32-i386 (/var/lib/dkms/\n  blackmagic-io/10.4.1a9/build/blackmagic-io.o) is not supported</p>\n  \n  <h2>make[2]: *** [/var/lib/dkms/blackmagic-io/10.4.1a9/build>/blackmagic-io.o] Error</h2>\n</blockquote>\n\n<p>So I think I've got some old i386 packages causing a problem - \nBut I cant work out how to remove them - I've tried various forms of apt-get purge - but as this is my first Linux system I'm not really sure where I should be looking.  I'm looking for packages left behind that I need to cleanup . So some hints as to what I commands I should be using and output I should look at to work out what to do  be appreciated</p>\n\n<p>Thanks </p>\n"},{"id":634217,"title":"File missing or incomplete package installed","body":"<p>Ubuntu 14.04 64-bit terminal tells me the following: </p>\n\n<pre><code>dpkg: warning: Missing file from the list of files xserver-input-vmmouse xorg- package;\n</code></pre>\n\n<p>It is assuming package has no files currently installed. How can I correct or resolve this situation?</p>\n"},{"id":477721,"title":"Package management system corrupted. Cannot install or remove packages. U12.04LTS","body":"<p>Having read other posts, I believe that this may be less about samba than about update system.<br></p>\n\n<p>Below is the log file of the failed installation of Samba. I have been trying without success to install/outstall samba so that I could install anything else ...<br>\nI cannot either install or remove samba using either update-manager or apt-get (nor indeed Software Centre).<br>\nOne of the errors that I have had to correct is the presence after \"removal\" (failed) of /usr/share/system-config-samba directory which finally allowed itself to be deleted. That, however was then ...<br> <br>\nI have U12.04LTS. running on release 63 because I allowed the upgrade to 64 this morning which fell over - no output to monitor - obviously even less support for my graphic chip than I am suffering already (see <a href=\"http://askubuntu.com/questions/468205/video-works-with-try-me-but-not-after-install-what-is-the-difference-u12-04l\">other posts in this forum</a>).<br><br>\nAccording to my interpretation of the dpkg returned errors there may be some problem with the package files, but if this is the case then it is on servers 'main', 'nantes uni fr' and 'best fr' at the very least if not everywhere. <br><br>\nThe suggestions offered at <a href=\"http://askubuntu.com/questions/213818/package-operation-failed\">Package operation failed</a> and elsewhere have not worked for me. This linked post suggests that a similar error is present in other packages, or that the error is in the 'update system'\n<br>\nI have tried ...<br>\n  sudo apt-get remove samba<br>\n  ... autoremove<br>\n  ... install samba<br>\n  ... clean<br>\n  ... update<br>\n  -f all of the above<br>\nIn update-manager I have tried the \"reload packages list\" which fails to terminate\nbecause of the error.<br>\nI have tried to install and remove samba from the software centre ... :( <br>\nI am at a loss ...<br>\nI need help, please! Firstly to recover my apt-get/update-manager/Software Centre so that I can at least carry on with my continuing installation - up to communicating with home network hence need for samba - which brings me to my second requirement ... samba.</p>\n\n<p>PS is the issue about \"MaxReports\" associated or apart?<br></p>\n\n<p><br>Thanks for any and all help!!<br></p>\n\n<hr>\n\n<p>installArchives() failed:<br> \nPreconfiguring packages ...<br>\n... snip<br>\n(Reading database ... <br>\n... snip<br>\n(Reading database ... 184858 files and directories currently installed.)<br>\nUnpacking samba (from .../samba_2%3a3.6.3-2ubuntu2.10_i386.deb) ...<br>\ndpkg-deb (subprocess): data: internal gzip read error: ': data error'<br>\ndpkg-deb: error: subprocess  returned error exit status 2<br>\ndpkg: error processing /var/cache/apt/archives/samba_2%3a3.6.3-2ubuntu2.10_i386.deb (--unpack):<br>\n subprocess dpkg-deb --fsys-tarfile returned error exit status 2<br>\nNo apport report written because MaxReports is reached already<br>\nSelecting previously unselected package system-config-samba.<br>\nUnpacking system-config-samba (from .../system-config-samba_1.2.63-0ubuntu5_all.deb) ...<br>\nProcessing triggers for ureadahead ...<br>\nureadahead will be reprofiled on next reboot<br>\nProcessing triggers for ufw ...<br>\nProcessing triggers for man-db ...<br>\nProcessing triggers for bamfdaemon ...<br>\nRebuilding /usr/share/applications/bamf.index...<br>\nProcessing triggers for desktop-file-utils ...<br>\nProcessing triggers for gnome-menus ...<br>\nProcessing triggers for hicolor-icon-theme ...<br>\nErrors were encountered while processing:<br>\n /var/cache/apt/archives/samba_2%3a3.6.3-2ubuntu2.10_i386.deb<br>\nError in function: <br>\ndpkg: dependency problems prevent configuration of system-config-samba:<br>\n system-config-samba depends on samba; however:<br>\n  Package samba is not installed.<br>\ndpkg: error processing system-config-samba (--configure):<br>\n dependency problems - leaving unconfigured<br></p>\n\n<p>UPDATE<br>\nAfter failed Chromium-browser install yesterday I got an update of chromium-browser in update-manager. This errored too but following the instructions Everything (EVERYTHING!!) cleared up - have finished install of wine and samba. I cannot use Chrome due to my graphics card problem no doubt, but I shall pursue that elsewhere. Too the problem with 3.2.0-64-generic-pae has not gone away but again, elsewhere ...</p>\n"},{"id":460658,"title":"BOTH available-old &amp; available missing from dpkg - &quot;dpkg: error: failed to open package info file `/var/lib/dpkg/available&#39; for reading&quot;","body":"<p>Issue : Many threads try to solve the broken packages problem using the options as below. However my main problem is that BOTH the available &amp; available-old do not exist . I have no clue how I ended up deleting them(if it wasnt because of a corrupt package, instead)</p>\n\n<pre><code>sudo dpkg --clear-avail &amp;&amp; sudo apt-get update\nsudo dpkg-reconfigure -a \nekta@superwomen:~$ sudo apt-get dselect-upgrade\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following packages will be upgraded:\n  bluez bluez-alsa bluez-cups bluez-gstreamer cython dpkg dpkg-dev firefox\n  firefox-globalmenu firefox-locale-en flashplugin-installer\n  gnome-settings-daemon libbluetooth3 libdpkg-perl liblcms2-2 thunderbird\n  thunderbird-gnome-support thunderbird-locale-en thunderbird-locale-en-us\n  unity-greeter\n20 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\nNeed to get 0 B/72.5 MB of archives.\nAfter this operation, 15.7 MB of additional disk space will be used.\nDo you want to continue [Y/n]? y\nPreconfiguring packages ...\ndpkg: error: failed to open package info file `/var/lib/dpkg/available' for reading: No such file or directory\nE: Sub-process /usr/bin/dpkg returned an error code (2)\n\n\nsudo do-release-upgrade\n\ndpkg: error: failed to open package info file `/var/lib/dpkg/available' for reading: No such file or directory\nE: Sub-process /usr/bin/dpkg returned an error code (2)\n\n\n--- from update manager ---\n    installArchives() failed: perl: warning: Setting locale failed.\n    perl: warning: Please check that your locale settings:\n        LANGUAGE = (unset),\n        LC_ALL = (unset),\n        LANG = \"en_IN.ISO8859-1\"\n        are supported and installed on your system.\n    perl: warning: Falling back to the standard locale (\"C\").\n    locale: Cannot set LC_CTYPE to default locale: No such file or directory\n    locale: Cannot set LC_MESSAGES to default locale: No such file or directory\n    locale: Cannot set LC_ALL to default locale: No such file or directory\n    Preconfiguring packages ...\n    perl: warning: Setting locale failed.\n    perl: warning: Please check that your locale settings:\n        LANGUAGE = (unset),\n        LC_ALL = (unset),\n        LANG = \"en_IN.ISO8859-1\"\n        are supported and installed on your system.\n    perl: warning: Falling back to the standard locale (\"C\").\n    locale: Cannot set LC_CTYPE to default locale: No such file or directory\n    locale: Cannot set LC_MESSAGES to default locale: No such file or directory\n    locale: Cannot set LC_ALL to default locale: No such file or directory\n    Preconfiguring packages ...\n    perl: warning: Setting locale failed.\n    perl: warning: Please check that your locale settings:\n        LANGUAGE = (unset),\n        LC_ALL = (unset),\n        LANG = \"en_IN.ISO8859-1\"\n        are supported and installed on your system.\n    perl: warning: Falling back to the standard locale (\"C\").\n    locale: Cannot set LC_CTYPE to default locale: No such file or directory\n    locale: Cannot set LC_MESSAGES to default locale: No such file or directory\n    locale: Cannot set LC_ALL to default locale: No such file or directory\n    Preconfiguring packages ...\n    perl: warning: Setting locale failed.\n    perl: warning: Please check that your locale settings:\n        LANGUAGE = (unset),\n        LC_ALL = (unset),\n        LANG = \"en_IN.ISO8859-1\"\n        are supported and installed on your system.\n    perl: warning: Falling back to the standard locale (\"C\").\n    locale: Cannot set LC_CTYPE to default locale: No such file or directory\n    locale: Cannot set LC_MESSAGES to default locale: No such file or directory\n    locale: Cannot set LC_ALL to default locale: No such file or directory\n    Preconfiguring packages ...\n    dpkg: error: failed to open package info file `/var/lib/dpkg/available' for reading: No such file or directory\n</code></pre>\n\n<p>dpkg: error: failed to open package info file `/var/lib/dpkg/available' for reading: No such file or directory\nE: Sub-process /usr/bin/dpkg returned an error code (2)</p>\n\n<p>I am on ubuntu 12.04 LTS &amp; here's the contents of /var/lib/dpkg</p>\n\n<pre><code>ekta@superwomen:/var/lib/dpkg$ ls -l \ntotal 9932\ndrwxr-xr-x 2 root root    4096 Apr 29 15:23 alternatives\ndrwxr-xr-x 2 root root  372736 May  4 20:08 info\n-rw-r--r-- 1 root root       0 May  4 22:31 lock\ndrwxr-xr-x 2 root root    4096 Apr 13  2012 parts\n-rw-r--r-- 1 root root 1975559 May  4 22:32 status\n-rw-r--r-- 1 root root 1947927 May  4 21:39 status-bad\n-rw-r--r-- 1 root root 1947932 May  4 20:48 status-old\n-rw-r--r-- 1 root root 1947932 May  4 21:48 status_ekta\n-rw-r--r-- 1 root root 1948728 May  4 20:48 status~\ndrwxr-xr-x 2 root root    4096 Apr 29 15:23 triggers\ndrwxr-xr-x 2 root root    4096 May  4 21:39 updates\n</code></pre>\n\n<p>status_ekta is a manually created backup &amp; status-bad reflects that I did this manipulation to the \"main\" status file before taking the backup (in a different folder)  . Status file, thus should be fine. </p>\n\n<p>I also tried purge, autoremove - which basically removed the corrupt packages, but does not solve the main problem of not having the \"list\" of available packages. </p>\n\n<p><strong>My question :</strong> </p>\n\n<p><strong>1.</strong> What does the available file have anyway ? can I update this manually using dpkg -l somehow? </p>\n\n<p><strong>2.</strong> How do I solve this without complete re-install, and if there are stable alternatives to apt-get (apt-get is ONLY for dpkg I assume ?) What else will I have to live without, if I do not fix this ?  </p>\n\n<p>I also deselected the ppa repos from update manager &amp; selected the \"Main Server\" , as a part of Canonical troubleshooting <a href=\"https://help.ubuntu.com/community/PackageManagerTroubleshootingProcedure\" rel=\"nofollow\">here</a>, but it did not help.</p>\n\n<p>Here's what I have in my \"status\" file -</p>\n\n<pre><code>ekta@superwomen:/var/lib/dpkg$ cat status | grep \"Status:\" | sort -u \nStatus: deinstall ok config-files\nStatus: install ok installed\n</code></pre>\n"},{"id":456114,"title":"Remove .deb package from ubuntu","body":"<p>I installed a debian package  libncurses5-dev:i386.deb using \"sudo dpkg -i libncurses5-dev:i386.deb\".</p>\n\n<p>However i realized that i needed another package libncurses5-dev_5.7+20100313-5_amd64.deb. </p>\n\n<p>When i tried to install this one i got an error \" libncurses5-dev: 5.7+20100313-5 (Multi-Arch: no) is not co-installable with libncurses5-dev:i386 5.9-4 (Multi-Arch: no) which is currently installed\nErrors were encountered while processing:\". </p>\n\n<p>I tried to remove libncurses5-dev:i386.deb. I went to /var/lib/dpkg/info and then sudo rm libncurses* to remove all the packages. I tried to install my amd64 package again but i get the same error message saying it cant install with libncurses5-dev:i386 5.9-4</p>\n\n<p>Also when i do dpkg --list | grep -i libncur*, i dont see any results, so i am a bit confused\nCan someone please help me?</p>\n\n<p>Thanks</p>\n"},{"id":367922,"title":"What can cause &quot;Missing Package: header, Problem with MergeList, The package lists or status file could not be parsed or opened&quot; errors?","body":"<p>I write tests for my company's application. One of these tests tries to upgrade the application from a previous version to a new version to make sure nothing breaks. When I am installing an old version of the application, some weird stuff starts to happen.</p>\n\n<p><em>Sometimes</em> everything goes Okay, and nothing is wrong, other times when trying to install I get this message (company app name censored):</p>\n\n<pre><code>E: Encountered a section with no Package: header\nE: Problem with MergeList /var/lib/apt/lists/XXX-amd64_Packages\nE: The package lists or status file could not be parsed or opened.\n</code></pre>\n\n<p>Using the solutions provided in the questions similar to this one (like <a href=\"http://askubuntu.com/questions/30072/how-do-i-fix-a-problem-with-mergelist-or-status-file-could-not-be-parsed-err\">this</a>). Do not help, and the problem keeps repeating itself once it happens the first time.</p>\n\n<p>This has led me to believe something is wrong on the apt server where the package is being created, but searching these errors yields no information on anything beyond the \"fix\" suggested in the question I linked, the only other source of information I could find also did not help (<a href=\"http://linux.ittoolbox.com/groups/technical-functional/linuxadmin-l/ubuntu-error-the-package-lists-or-status-file-could-not-be-parsed-or-opened-3653005\" rel=\"nofollow\">here</a>):</p>\n\n<p>So I am asking for information;</p>\n\n<ul>\n<li>What <em>is</em> the actual problem?</li>\n<li>What <em>causes</em> the problem?</li>\n<li>What can <em>fix</em> the problem?</li>\n<li>This is not a duplicate of: <a href=\"http://askubuntu.com/questions/30072/how-do-i-fix-a-problem-with-mergelist-or-status-file-could-not-be-parsed-err\">How do I fix a &quot;Problem with MergeList&quot; or &quot;status file could not be parsed&quot; error when trying to do an update?</a> I am trying to find the root cause of the problem to prevent that error from occurring. </li>\n</ul>\n\n<p><strong>Edit:</strong> Thanks to <a href=\"http://askubuntu.com/a/367947/150309\">this great answer</a> by <a href=\"http://askubuntu.com/users/2369/florian-diesch\">Florian Diesch</a> I was able to solve my problem. By tracing back the reason to being an actual malformation in the package, I then started trying to find out <em>why</em> it was malformed. The reason was that as part of our vigorous testing, I was doing many simultaneous operations, and it seems the file was being written into <strong>twice</strong> which was causing it sometimes to have bad sections.</p>\n"}]}]