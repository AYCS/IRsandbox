[{"id":715893,"title":"Ubuntu Shell Script Problem. Help Me!~","body":"<p>original ▼</p>\n\n<p>@echo off &amp; color 0\n@@java -Xms512m -Xmx1024m -Xincgc -cp l1jserver.jar;lib\\xmlapi;lib\\c3p0-0.9.1.2.jar;lib\\mysql-connector-java-5.1.7-bin.jar;lib\\javolution.jar;lib\\JTattoo-1.6.10.jar;lib\\netty.jar;lib\\org.eclipse.swt.win32.win32.x86_64_3.100.1.v4234e.jar -Dcom.sun.management.jmxremote newManager.LinAllManager\n@pause</p>\n\n<p>Help the conversion...</p>\n","related_questions":[{"id":631996,"title":"Bash shell for loop process with two paired variable names","body":"<p>It's common to use bash shell for example to bulk rename plenty files. Usually I used the following structure,</p>\n\n<pre><code>for file in ./*.short\ndo\n# do command\ndone\n</code></pre>\n\n<p>That's for filename with .short extension. But, now how to process with two or more variable names (in this case file extension) in command? I would like to do bulk process for the following command,</p>\n\n<pre><code>( x2x +sf &lt; data.short | frame -l 400 -p 80 | \\\nbcut +f -l 400 -s 65 -e 65 |\\\nwindow -l 400 -L 512 | spec -l 512 |\\\nglogsp -l 512 -x 8 -p 2 ;\\\n\\\nbcut +f -n 20 -s 65 -e 65 &lt; data.mcep |\\\nmgc2sp -m 20 -a 0.42 -g 0 -l 512 | glogsp -l 512 -x 8 ) | xgr\n</code></pre>\n\n<p>In that case I have .short and .mcep that I want to process concurrently. I use the <strong>and</strong> logic (&amp;&amp;) but it didn't works,</p>\n\n<pre><code>for file1 in ./*.short &amp;&amp; ./*.mcep\ndo\n# $file1 and file2 process\ndone\n</code></pre>\n\n<p>Any experienced and skilled shell programmer want to share how to solve this? I have idea to used nested loops, but I don't know how to implemented in Bash.</p>\n"},{"id":618260,"title":"script sh syntax error","body":"<p>I have this script:</p>\n\n<pre><code>#!/bin/bash\nIP='192.168.1.1'\nfping -c1 -t300 $IP 2&gt;/dev/null 1&gt;/dev/null\nif [ \"$?\" = 0 ]\nthen\n    echo \"Host found\"\nelse\n    echo \"Host not found\"\nfi\n</code></pre>\n\n<p>When I try to run it, this is the outcome:</p>\n\n<pre><code>$ sh /home/pi/sh/test.sh         \n/home/pi/sh/test.sh: 9: /home/pi/sh/test.sh: Syntax error: \"fi\" unexpected (expecting \"then\")\n</code></pre>\n\n<p>Where is the problem?</p>\n"},{"id":481250,"title":"Permission denied error while creating file by using script file","body":"<p>I have created a script file called <strong>black_list.sh</strong>.</p>\n\n<pre><code>#!/bin/bash\n\ndefault_card=`head -1 /proc/asound/modules`\necho $default_card\n\nif [ ! -e /etc/modprobe.d/sound.blacklist.conf ] &amp;&amp; [[ \"$default_card\" =~ \"snd_hda_intel\" ]]; then\n        echo \"blacklist snd_hda_intel\" &gt; /etc/modprobe.d/sound.blacklist.conf ---&gt; not working            \nelse\n        echo \"Default sound card(snd_hda_intel) is already added in black list\";\nfi\n</code></pre>\n\n<p>from this script file I am creating <strong>sound.blacklist.conf</strong> file in <code>/etc/modprobe.d</code> but I got <code>/etc/modprobe.d/sound.blacklist.conf: Permission denied</code> error.</p>\n\n<p>So tried </p>\n\n<p><code>echo itsme | sudo -S echo \"blacklist snd_hda_intel\" &gt; /etc/modprobe.d/sound.blacklist.conf</code></p>\n\n<p>but it also not worked so how can create a file in <code>/etc/modprobe.d</code> directory from my <strong>script file</strong>.</p>\n"},{"id":547842,"title":"Start program after login in Ubuntu","body":"<p>I try to run Jira after Ubuntu start. In <code>/etc/rc.local</code> I wrote this: </p>\n\n<pre><code>cd atlassian/jira/bin; ./start-jira.sh\n</code></pre>\n\n<p>(all directories wrote properly)\nWhere is my mistake?</p>\n\n<p>Full <code>rc.local</code>:</p>\n\n<p><a href=\"https://gist.github.com/NovikovViktor/9c1639a17f583b7baa36\" rel=\"nofollow\">gists</a></p>\n"},{"id":544186,"title":"Create a script that takes a word as an argument from the user","body":"<pre><code>echo \"Enter your string\"  \nread str;\n</code></pre>\n\n<p>How can I put in a check to make sure the user passed in a word, displaying\na usage statement if a word was not passed as an argument.</p>\n"},{"id":543046,"title":"How Can I Run an Shell Script With .desktop Config File?","body":"<p>I am trying to run a shell script with a <code>.desktop</code> file but it doesn't seem to work, producing an error of <code>There was an error launching the application</code> at each attempt. I have the sh and .desktop files set the executable.</p>\n\n<p><strong>.desktop file:</strong></p>\n\n<pre><code>[Desktop Entry]\nName=Craftbukkit Server\nComment=run server\nExec=\"/home/ubuntu-gnome/Documents/Craftbukkit/run.sh\"\nIcon=/home/ubuntu-gnome/Documents/Craftbukkit/craftbukkit.png\nTerminal=true\nType=Application\n</code></pre>\n\n<p><strong>The script:</strong></p>\n\n<pre><code>#!/bin/bash\n/usr/bin/java -Xmx1024M -Xms1024M -jar /home/ubuntu-gnome/Documents/Craftbukkit/craftbukkit.jar -o false\n</code></pre>\n\n<p>All paths are correct.</p>\n\n<p><strong>Methods I Have Tried:</strong></p>\n\n<ul>\n<li><code>Exec=\"/home/ubuntu-gnome/Documents/Craftbukkit/run.sh\"</code></li>\n<li><code>Exec='/home/ubuntu-gnome/Documents/Craftbukkit/run.sh'</code></li>\n<li><code>Exec=/home/ubuntu-gnome/Documents/Craftbukkit/run</code></li>\n<li><code>Exec=\"/home/ubuntu-gnome/Documents/Craftbukkit/run.sh\"</code></li>\n<li><code>Exec=gnome-terminal -e \"/home/ubuntu-gnome/Documents/Craftbukkit/run.sh\"</code></li>\n<li><code>Exec=bash -c 'cd /home/ubuntu-gnome/Documents/Craftbukkit/ &amp;&amp; ./run.sh'</code></li>\n</ul>\n\n<p>Conspicuously, I have tried many methods. Can anyone assist me with a resolution to this? </p>\n"},{"id":532757,"title":"Need Help Improving Script","body":"<p>I have a group of folders (L1N-L5N), in which I want to copy from my /home/michael/documents/XXX to my Dropbox folder. At present, I have used the following script:</p>\n\n<pre><code>#!/bin/sh\ncp -ra /home/michael/Documents/GeneralNetwork /GNI /home/michael/Dropbox/NetworkData\ncp -ra /home/michael/Documents/GeneralNetwork /L1N /home/michael/Dropbox/NetworkData\ncp -ra /home/michael/Documents/GeneralNetwork /L2N /home/michael/Dropbox/NetworkData\ncp -ra /home/michael/Documents/GeneralNetwork /L3N /home/michael/Dropbox/NetworkData\ncp -ra /home/michael/Documents/GeneralNetwork /L4N /home/michael/Dropbox/NetworkData\ncp -ra /home/michael/Documents/GeneralNetwork /L5N /home/michael/Dropbox/NetworkData\n</code></pre>\n\n<p>This works, but poorly. </p>\n\n<p>I am also unsure of the reasoning as to why it returns this:</p>\n\n<pre><code>cp: cannot stat ‘/GNI’: No such file or directory\ncp: cannot stat ‘/L1N’: No such file or directory\ncp: cannot stat ‘/L2N’: No such file or directory\ncp: cannot stat ‘/L3N’: No such file or directory\ncp: cannot stat ‘/L4N’: No such file or directory\ncp: cannot stat ‘/L5N’: No such file or directory\n</code></pre>\n\n<p>I have thought of shortening it down:</p>\n\n<pre><code>cp -ra /home/michael/Documents/GeneralNetwork/L*\n</code></pre>\n\n<p>Or some other wildcard to pickup all folders containing \"L\". What I want is to copy the files (and overwrite) to the folder in this directory, however I cannot be certain they will fall under the above Folder Name Scheme. </p>\n\n<p>What is the best way to create a .sh file to copy everythig from .../GeneralNetwork/* without copying hidden files etc? I have done the ../GeneralNetwork/. and it included boot, bin, sys etc. </p>\n"},{"id":508672,"title":"Use alias inside a script","body":"<p>One of the software tools I'm using requires \"sh\" to be a symlink to \"bash\" instead of \"dash\". Since I don't want to change the default shell to bash for the whole system and I can't change the tool itself, I'm trying to write a script that will alias sh to /bin/bash. Alias itself doesn't work because the call to sh is done by full path: <code>/bin/sh</code> rather than just <code>sh</code>.</p>\n\n<p>Is there a way to fool an executable that /bin/sh is actually another file, without having root privileges and without affecting other programs?</p>\n\n<p>Thanks</p>\n"},{"id":488988,"title":"Subshell in script wont print corectly","body":"<p>Why does my shell and subshell only print the first hour in my for loop? It's supposed to loop through all 24 hours in a day but only prints the first hour correctly.</p>\n\n<hr>\n\n<pre><code>{\nfor D in $(seq -f \"%02g\" 1 9); do\n\nFile=($(find -name \"PaloAlto_traffic_$M-$D-$Y.zip\"))\nunzip -j $File\nFiletmp=($(find -name \"traffic_$M-$D-$Y.total\"))\n\nD=$(echo $D | sed -e 's/^0*//')\n\nfor i in $(seq -f \"%02g\" 0 23); do\n\necho $i \n\n    grep -F -s \"$month  $D $i:\" $Filetmp &gt; TempOutput1.txt\n\n    countAllow=($(grep -F -c 'allow' TempOutput1.txt))\n    countDeny=($(grep -F -c 'deny' TempOutput1.txt))\n    #Add new 'variable=($(grep)) statement here'\n\n    echo -e \"$M/0$D/$Y $i:00,$countAllow,$countDeny\" &gt;&gt; AD-Results-$month-$Y\n    echo \"$((10#$i+1))/24       hours completed for $month $D\" \n    rm -f $Filetmp\ndone\ndone\n} &amp; #Subshell 2A\n{ \nfor D in $(seq -f \"%02g\" 10 18); do\n\nFile=($(find -name \"PaloAlto_traffic_$M-$D-$Y.zip\"))\nunzip -j $File\nFiletmp=($(find -name \"traffic_$M-$D-$Y.total\"))\n\nfor i in $(seq -f \"%02g\" 0 23); do\n\n    grep -F -s \"$month $D $i:\" $Filetmp &gt; TempOutput2.txt\n\n    countAllow=($(grep -F -c 'allow' TempOutput2.txt))\n    countDeny=($(grep -F -c 'deny' TempOutput2.txt))\n    #Add new 'variable=($(grep)) statement here'\n\n    echo -e \"$M/$D/$Y $i:00,$countAllow,$countDeny\" &gt;&gt; AD-Results-$month-$Y\n    echo \"$((10#$i+1))/24       hours completed for $month $D\" \n    rm -f $Filetmp\ndone\ndone\n}\nwait\n</code></pre>\n\n<hr>\n\n<p>Sample output data: (Date Time , Allow , Deny)</p>\n\n<pre><code>05/10/2014 00:00,3242,6758\n05/10/2014 01:00,0,0 #This should be the same as above line but outputs 0,0\n</code></pre>\n"},{"id":74113,"title":"help me problem in my shell script","body":"<p>I need back from 2 or 3 to 1 after print error ??</p>\n\n<pre><code> 1      echo -e \"program set defulte home dirctory /home/admin/$un\"\n        echo -e \"DO you want use defulte home dirctory? Yes=1 &amp; NO=2\"\n    read -a hd1\n    case $hd1 in\n            1)\n             hd=`/home/admin/$un` #40\n             echo -e \"your home dirctory $hd1 \" ;;\n            2)\n             echo -e \"Please insert name your home dirctory between 1 to 10 character:\"\n            read -a hda\n            len1=${#hda}\n            if [ \"$len1\" -eq \"$ze\" ];then\n             echo \"There is no Argument home dirctory\" # error message\n 2          exit\n            fi\n            if [ \"$len1\" -ge \"$te\" ];then #50\n             echo \"The argument home dirctory  maximum 10 alphanumeric\" # error message\n 3          exit     \n            fi\n            hd=`/home/admin/$hda`;;\n            *) echo \" You have selected wrong Choice!!!\" ;;\n    esac\n</code></pre>\n"}]}]