[{"id":663742,"title":"Where is the GVFS folder in 15.04","body":"<p>I can't seem to locate the GVFS folder in Ubuntu 15.04 has its location changed from 14.10?</p>\n\n<p>The old location:</p>\n\n<pre><code>/run/user/1000/gvfs/\n</code></pre>\n\n<p>Is always empty, no matter how many samba shares are mounted. <a href=\"http://i.stack.imgur.com/17Czh.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/17Czh.png\" alt=\"View of gvfs folders showing empty despite a samba share being mounted.\"></a></p>\n\n<p>So has the location moved? The reason that I ask is that I am having problems playing video and music files from Samba shares since upgrading from 14.10 to 15.04 and I am guessing that gvfs is the cause. </p>\n\n<p>I have tried another answer that suggested that I install gvfs-fuse, but this was already installed - a re-installation didn't help. </p>\n\n<p>I guess a second question would be if the location is the same, why isn't anything mounting there anymore?</p>\n","related_questions":[{"id":697842,"title":"Where is the smb mount point in 15.10 of shares mounted via the file manager?","body":"<p>From Ubuntu 15.10 I want to access movie files on a samba server for editing in Avidemux. I cannot open the files from within the file open dialog of Avidemx because the smb network share doesn't show up. Neither can I find the gvfs mount point to navigate to the files (it used to be in ~/home/.gvfs in 12.04, then it moved to /run/user/UID/gvfs, but now in 15.10 I cannot find it anywhere. The /proc/mounts shows only \"gvfsd-fuse /run/user/1001/gvfs ....\" but that directory appears empty. This means that I cannot use the command line at all to fix the problem by creating a link (as I used to do in 14.04).\nAny help?</p>\n\n<p>Thanks,\nMichael</p>\n"},{"id":194475,"title":"Slow gvfs SMB Performance","body":"<p>if I use/acces a SMB Share using Nautilus or manually using \"gvfs-mount smb://SERVER-IP/Share\" I get a poor Performance, only about 7 mb/s on my 100 Mbit Network.</p>\n\n<p>If I access the same Share on Windows I get Fullspeed 100 Mbit (About 11 mb/s), also if I mount using <code>sudo mount -t cifs //SERVER-IP/Share /mountpount</code> which uses cifs instead of gvfs I get fullspeed too, so can anyone tell me if there is a Performance Problem/Bug in gvfs or how gvfs is using SMB Shares differerently ?</p>\n\n<p>I tested read Performance (From my Network SMB Share) with multiples files and always, the cifs-Version is fullspeed and the GVFS-Version has some mb/s less.</p>\n\n<p>After some research I found some tips to optimize the SMB Settings of my Ubuntu Installation and some network tuning tips, but as the CIFS mounted share gets the full Network Speed I don't believe its that kind of problem.</p>\n"},{"id":667419,"title":"How do I pass SMB/CIFS nobrl (or other mount) option to gvfs-mount?","body":"<p>I'd like to mount a dedicated NAS box SMB share from userland (no sudo or root access) via gvfs-mount, and specify various mount.cifs options such as <code>nobrl</code> (no byte-range locking) for compatibility purposes.</p>\n\n<p>For example, I need to mount a share from userland -- this works to get the share mounted:</p>\n\n<pre><code>$ gvfs-mount smb://user@server/share\n</code></pre>\n\n<p>But I don't know how to specify other smbclient-specific options.  I have been able to mount using the <code>nobrl</code> option via <code>sudo mount -t cifs //server/share/ /mnt/foo -o username=$USER,nobrl</code> so I'm hoping there's some way to do the same via <code>gvfs-mount</code>.</p>\n\n<p>I've searched in all the usual places, so far unable to find the magic incantation.  </p>\n\n<p>(Running Ubuntu 15.04 X64.)</p>\n"},{"id":453387,"title":"Where &quot;.gvfs&quot; has gone in 14.04","body":"<p>My question is \"simple\".</p>\n\n<p>Where can I find a local mount point for the Samba shares I'm connected to. In 12.04 it was located under <code>*home/.gvfs*</code>.</p>\n\n<p>Thanks in advance for your help.</p>\n\n<p>Here is my smb.conf file :</p>\n\n<pre><code>#======================= Global Settings =======================\n\n[global]\nworkgroup = mshome\nserver string = %h server (Samba, Ubuntu)\ndns proxy = no\nlog file = /var/log/samba/log.%m\nmax log size = 1000\n    syslog = 0\n    panic action = /usr/share/samba/panic-action %d\nencrypt passwords = no\nobey pam restrictions = yes\nunix password sync = yes\npasswd program = /usr/bin/passwd %u\npasswd chat = *Enter\\snew\\s*\\spassword:* %n\\n *Retype\\snew\\s*\\spassword:* %n\\n *password\\supdated\\ssuccessfully* .\npam password change = yes\n    map to guest = bad user\n    usershare allow guests = yes\n    comment = Home Directories\n    browseable = no\n    read only = no\nsecurity = user\nusername map = /etc/samba/smbusers\n\n[printers]\n    comment = All Printers\n    browseable = no\n    path = /var/spool/samba\n    printable = yes\n;   guest ok = no\n;   read only = yes\n    create mask = 0700\n# Windows clients look for this share name as a source of downloadable\n# printer drivers\n\n[print$]\n    comment = Printer Drivers\n    path = /var/lib/samba/printers\n;   browseable = yes\n;   read only = yes\n;   guest ok = no\n# Uncomment to allow remote administration of Windows print drivers.\n# You may need to replace 'lpadmin' with the name of the group your\n# admin users are members of.\n# Please note that you also need to set appropriate Unix permissions\n# to the drivers directory for these users to have write rights in it\n;   write list = root, @lpadmin\n# A sample share for sharing your CD-ROM with others.\n\n;[cdrom]\n;   comment = Samba server's CD-ROM\n;   read only = yes\n;   locking = no\n;   path = /cdrom\n;   guest ok = yes\n# The next two parameters show how to auto-mount a CD-ROM when the\n#   cdrom share is accesed. For this to work /etc/fstab must contain\n#   an entry like this:\n#\n#       /dev/scd0   /cdrom  iso9660 defaults,noauto,ro,user   0 0\n#\n# The CD-ROM gets unmounted automatically after the connection to the\n#\n# If you don't want to use auto-mounting/unmounting make sure the CD\n#   is mounted on /cdrom\n#\n;   preexec = /bin/mount /cdrom\n;   postexec = /bin/umount /cdrom\n\n[RED]\n    comment = RED USB Disk\n    path = /media/laurent06000/RED\n    writeable = yes\n;   browseable = yes\n    guest ok = yes\n\n[flareGet]\n    path = /home/laurent06000/flareGet\n    writeable = yes\n;   browseable = yes\n    guest ok = yes\n\n[windows]\n    comment = Windows Main drive\n    path = /media/windows\n    writeable = yes\n;   browseable = yes\n    guest ok = yes\n</code></pre>\n"},{"id":61196,"title":"Why do my gvfs mounts not show up under ~/.gvfs or /run/user/&lt;login&gt;/gvfs?","body":"<p>From what I read, when mounting a network share via nautilus or <code>gvfs-mount</code> the mount point should be in <code>~/.gvfs</code>. This seems not to be the case for me: I tried mounting both an FTP and SMB share via both nautilus and <code>gvfs-mount</code> under both Ubuntu Maverick and Natty and in none of the cases did I see any mount point under <code>~/.gvfs</code>. I can access the shares just find in nautilus, but I want to have access via the command line, which is why I need a mount point in the file system.</p>\n\n<p><strong>Edit:</strong> Debugging following James Henstridge's answer and enzotib's comment revealed that on my laptop <code>gvfs-fuse-daemon</code> is running and consequently gvfs mounts show up in <code>~/.gvfs</code>, whereas on the 2 workstations where <code>~/.gvfs</code> remained empty <code>gvfs-fuse-daemon</code> was not running. On all 3 machines there are other gvfs processes running: <code>gvfsd</code>, <code>gvfs-afc-volume-monitor</code>, ...</p>\n\n<p>On the laptop, <code>mount | fgrep gvfs</code> yields</p>\n\n<pre><code>gvfs-fuse-daemon on /home/xxx/.gvfs type fuse.gvfs-fuse-daemon (rw,nosuid,nodev,user=xxx)\n</code></pre>\n\n<p>That raises the questions:</p>\n\n<ul>\n<li>How are shares mounted without <code>gvfs-fuse-daemon</code> running? Is there no mount point created in that case and is every access to the share a gvfs library call? Which daemon is responsible? <code>gvfsd</code>?</li>\n<li>What's the role of <code>gvfs-fuse-daemon</code>? Does it only create a fuse mount point in <code>~/.gvfs</code>?</li>\n</ul>\n\n<p><strong>Update:</strong> On 12.10 and later, mounts are under <code>/run/user/&lt;login&gt;/gvfs</code>.</p>\n"},{"id":620584,"title":"Gvfs folder location in Ubuntu Mate 15.04","body":"<p>Despite this question <a href=\"http://askubuntu.com/questions/453387/where-gvfs-has-gone-in-14-04\">Where &quot;.gvfs&quot; has gone in 14.04</a> , the folder I found in <code>/run/user/1000/gvfs</code> is empty, but I have 3 mounted samba shares.</p>\n\n<p>Even <code>locate .gvfs</code> gives no results and all <code>locate gvfs</code> results don't have any of the mounted samba shares inside.</p>\n"},{"id":513319,"title":"Gvfs / samba lookup slow since update to 14.04","body":"<p>Ever since I moved from 13.10 to 14.04, I observe an annoying effect whenever a samba share is mounted to my work station. When I open Nautilus, or when I look up /run/user/1000/gvfs it freezes for several seconds. This is also the case when I choose \"save as\" from a program, as the file save dialog includes shortcuts to the mounted shares.</p>\n\n<p>Have you also observed such behavior? Is there a way to debug it?</p>\n"},{"id":211414,"title":"Where did ~/.gvfs go on ubuntu 12.10?","body":"<p>where did ~/.gvfs go on ubuntu 12.10. How can I find the locaton of the mounted through samba folders?</p>\n\n<p>I share a folder with a ubuntu 12.10 machine. I am trying to find the location of the mount point on another ubuntu 12.10 machine that I've mounted it. It is mounted successfully. It is on the nautilus sidebar. But I can not find the location as on 12.04 which was ~/.gvfs/blabla to use the folder in an app.</p>\n\n<p>thank's</p>\n"},{"id":412882,"title":"Unmount gvfs samba share with open file","body":"<p>I have a samba share mounted. I'm trying to unmount it on the commandline.</p>\n\n<pre><code>$ gvfs-mount -u smb://server/root/\nError unmounting mount: Filesystem is busy\n</code></pre>\n\n<p>I ran <code>lsof</code> to find open files, but I can't figure out what PID I need to kill. It doesn't say <code>smb://server/root/my-open-file</code>. How do I find out which PID to kill?</p>\n"},{"id":74070,"title":"Remount NAS drive with GVFS and user rights when network re-connects?","body":"<p>I use gvfs script to mount my SAMBA share when my system starts. I run it at autostart.\nHere is the script:</p>\n\n<pre><code>#!/bin/bash\n\nsleep 4\n\n   wifi=\"'$(/sbin/iwconfig eth1 | egrep ESSID | cut -d '\"' -f 2)'\"\n\n      if [ $wifi = \"'deckoff'\" ]; then \n\n gvfs-mount smb://192.168.1.106/public\n\n      fi\nend script\n</code></pre>\n\n<p>It works great, but when network is down I have to manually re-connect. I added the same script to <code>/etc/network/ifup.d</code>, and as I expected, I am getting a warning </p>\n\n<pre><code>Could not change permissions for\n/home/deckoff/MyBookLive/GVFS-mount\n</code></pre>\n\n<p>I suspect the reason is that the script that re-mounts at reconnect is run as sudo. So, ideally, I want a solution that runs the script every time network is connected as user. I will be happy if I get rid if the warning at the very least.</p>\n"}]}]