[{"id":684559,"title":"How to get a working UEFI / GRUB Boot - install process goes wrong","body":"<p>I have been experiencing great difficulty in simply getting pinguy ,mint or any of the other ubuntu based distros I have tried to complete the install process. I have read around the issue but the problem is that I am going around in circles.</p>\n\n<p>I am pasting in the <strong><a href=\"http://paste.ubuntu.com/12762569/\" rel=\"nofollow\">output from boot repair</a></strong> to see is anyone can spot where I am going wrong and possible offer a solution. </p>\n\n<p><strong>All I want is a working UEFI /GRUB Boot.</strong></p>\n","related_questions":[{"id":304484,"title":"&quot;Reboot and select proper boot device&quot; error after clean Ubuntu 13.04 install","body":"<p>I am having the same problem as <a href=\"http://askubuntu.com/questions/304144/\">Clean Install of Ubuntu won&#39;t boot [reboot and select proper boot device]</a> where a fresh Ubuntu install completes but will not boot. </p>\n\n<p>I get a <code>Reboot and select proper boot device</code> error, first with Xubuntu 13.10, later with Xubuntu 13.04, and finally also with Ubuntu 13.04. Asus motherboard Z77, Intel chipset. Standard internal SATA 500GB HD. 64-bit. It was running Ubuntu 12.04LTC until I tried this upgrade.</p>\n\n<p>I have re-installed Ubuntu 13.04 from scratch different ways:</p>\n\n<ul>\n<li>with LVM, </li>\n<li>without LVM, </li>\n<li>with the default partitions, </li>\n<li>with my own partitions, </li>\n<li>with ext3 or ext4, </li>\n<li>alongside, </li>\n<li>replace, </li>\n<li>run <code>boot-repair</code> from USB installation media</li>\n<li>upgrade,</li>\n<li>run <code>boot-repair</code> again </li>\n</ul>\n\n<p>No difference.</p>\n\n<p>This starts from the ubuntu-13.04-desktop-amd64.iso and UNetbootin as suggested on the official instructions for USB thumb drive creation from OS X. That part all works fine (booting the USB on the PC and trying Ubuntu and/or installing from there on the PC HD.) I have no CD drive on this PC, but I suppose I could get one.  I would rather find some Linux install that works from USB like I've always done.</p>\n\n<p>After running boot-repair twice, in the Asus BIOS I now see three different UEFI boot options in the priority list, and they are all labelled exactly the same:</p>\n\n<p><strong>ubuntu (P6: WDC WD5000AAKX-00U6AA0)</strong> </p>\n\n<p>Then there's a non-UEFI option:</p>\n\n<p><strong>P6: WDC WD5000AAKX-00U6AA0 (476940MB)</strong></p>\n\n<p>And a fifth option appeared after the first boot-repair:</p>\n\n<p><strong>Windows Boot Manager (P6: WDC WD5000AAKX-00U6AA0)</strong></p>\n\n<p>I have tried all 5 of these, and I get exactly the same error.</p>\n\n<p>I have never had Windows installed on this HD. Asus is calling it Windows Boot Manager but I presume that's a mistaken label for whatever boot-repair did.</p>\n\n<p>I can boot on USB and run GParted and it looks great. The partitions all look normal.</p>\n\n<p>Needs a master boot record wipe/redo?</p>\n"},{"id":680042,"title":"Fresh install of Ubuntu doesnt boot, UEFI. boot-repair doesn&#39;t help","body":"<p>I just freshly installed Ubuntu 15.04 from an USB pendrive to my Toshiba Satellite U940.</p>\n\n<p>Normally this works great, but this time it was a real struggle.<br>\nI had several issues regarding grub2, installation failed due to grub and so on. Now I finally managed to get it working but my EFI doesn't boot from the SDD. I also tried <code>boot-repair</code> of course. Still no bootable device according to the EFI. I managed to get a few lines of output by my PC via a slowmotion video. It says: </p>\n\n<blockquote>\n  <p>Failed to open \\EFI\\BOOT\\grubx64.efi - Not Found</p>\n  \n  <p>Failed to load image \\EFI\\BOOT\\grubx64.efi - Not Found</p>\n</blockquote>\n\n<p>and a few lines I can't properly read. </p>\n\n<p>Boot-repair pastebin url is: <a href=\"http://paste.ubuntu.com/12623394/\" rel=\"nofollow\">http://paste.ubuntu.com/12623394/</a></p>\n\n<p>I'm booting in UEFI mode, all secure boot measures disabled. No dual-boot, all harddrives fully deleted before install. \nHowever I'm installing Ubuntu and grub on <code>/sdb</code> not <code>/sda</code>, as <code>sdb</code> is my SDD and <code>sda</code> my HDD. Can this cause problems? Boot order is set to boot first from SDD.</p>\n"},{"id":602026,"title":"UEFI boot hangs at grub with 82599ES 10-Gigabit SFI/SFP+ network adapter","body":"<p>I am using MAAS to commission and install machines.  When I attempt to commission a machine with a \"82599ES 10-Gigabit SFI/SFP+\" network adapter the following happens:<br>\n1) TFTP Request — bootx64.efi<br>\n2) TFTP Request — /grubx64.efi<br>\n3) Console hangs at grub prompt  </p>\n\n<p>If I go into bios and force the adapter above into legacy mode then the machine is able to network boot and run through the commission process.<br>\n1) TFTP Request — ubuntu/amd64/generic/trusty/release/boot-initrd<br>\n2) TFTP Request — ubuntu/amd64/generic/trusty/release/boot-kernel<br>\n3) TFTP Request — ifcpu64.c32<br>\n4) PXE Request — power off<br>\n5) TFTP Request — pxelinux.cfg/01-90-e2-ba-52-23-78<br>\n6) TFTP Request — pxelinux.cfg/71e3f102-bd8b-11e4-b634-3c18a001c80a<br>\n7) TFTP Request — pxelinux.0    </p>\n\n<p>Also, if I disconnect the cable to the adapter above and connect a cable to the integrated \"I210 Gigabit\" adapter which is configured for UEFI mode.  The machine is able to network boot grubx64.efi and run through the commission process.</p>\n\n<p>What if anything does MAAS do to build grubx64.efi?  How do I build and test the latest grubx64.efi?</p>\n"},{"id":580956,"title":"Dual Booting UEFI After bad Install, What happens to old Boot Loader?","body":"<p>The short: I accidentally installed 32bit 12.04, and choose to 'install boot loader' on the dev/sda (or 'main' the one that has all the memory) drive. Both windows and ubuntu work, only after changing BIOS/UEFI settings. But I want to redo the install and get 12.04 or 14 on the UEFI, will the previous installing of the 'bootloader' get in the way?</p>\n\n<p>The long: Due to the foolish misreading of the ISO versions (64-bit PC (AMD64) desktop CD made me choose the intel option without reading all the descriptions, my first mistake) I tried to install 32-bit 12.04 on a new laptop. After hours of trying different USB setups and UEFI adjustments, it finally booted from the USB drive when changing the settings to legacy mode support. I had done research (not enough though) on where to put the 'bootloader' so that I wouldn't have to modify the MBR or other bios stuff afterwards, they advised me to put it on the overarching dev/sda that encompasses the whole system. So I did just that, made a decent partition for ubuntu, ran the install. Found out that it would not boot windows even though windows boot loader appears in the GRUB list of bootable options. I got around that issue but going back to the UEFI/BIOS setup and changing the option back to UEFI. So apparently the computer tries to boot up any UEFI loaders first. This is a kindof shoddy work around since I don't want to be shutting down, changing Boot Setup to legacy/UEFI, then restarting to get to a different OS. Plus that can't be the best for the computer. </p>\n\n<p>I am aware if I re-install with 64bit ubuntu I will erase the partition with the 32bit, but I don't know what will happen to the GRUB/Bootloader thing I installed to the main partition. </p>\n\n<p>Can I just ignore it?</p>\n\n<p>Other details:\nLenovo ideapad Z710 laptop</p>\n"},{"id":577031,"title":"Any intuition into how I&#39;ve messed up? UEFI dual boot woes, Win7 and 14.10","body":"<p>there. New poster long time lurker.</p>\n\n<p>I haven't used Ubuntu since Natty; forgive me.</p>\n\n<p>I recently burned an ISO of Ubuntu x64, and thought I'd dual boot with Win 7; My system has a spare HDD, so, I didn't think it'd be any problem. Then, after the first installation, I couldn't boot to Windows or even use my install disk to repair the boot sector (given a \"wrong version\" error).</p>\n\n<p>No problem, wasn't that committed anyway, so I reinstalled Windows, then reinstalled Ubuntu, this time with my computer set to UEFI-only mode. Ubuntu, once again, installed flawlessly, and is working fine, but, despite actually showing up in Grub this time, Win 7 still won't boot. I have to assume I've damaged the boot sector, but now have no way to attempt to repair it; when I jump over from Grub, Windows asks me to start normally or repair startup, both of which take me back, in 2 seconds, to the same screen.</p>\n\n<p>Boot repair got me this: <a href=\"http://paste.ubuntu.com/9838106/\" rel=\"nofollow\">http://paste.ubuntu.com/9838106/</a></p>\n\n<p>Also, my system is a work in progress, so sdb is for Ubuntu, and sbc is for Windows.</p>\n\n<p>Anybody spot something I've done wrong?</p>\n"},{"id":499102,"title":"ubuntu will not boot from hard drive after installation","body":"<p>I made a live DVD with Ubuntu 14.04 for a new Toshiba laptop, Satellite C55-B5200.\nFirst I found that ubuntu booted easily, though slowly, from DVD.  Then I selected installation from the grub menu that offered no boot other than DVD.</p>\n\n<p>During installation, the installer claimed there was no operating system. (It did\nnot see Windows/8.)  It said that it was reformatting.</p>\n\n<p>After installation the system would not boot at all from hard drive.  It said to insert a bootable device and reboot (words not exact).</p>\n\n<p>I found info online about \"Boot-Repair\".</p>\n\n<p>I went through the Boot-Repair procedure.  During the installation of boot-repair there was a message \"/usr/share/boot-sav/gui-g2slaunch.sh line 29 5850 segmentation fault ...\"</p>\n\n<p>But boot-repair was installed, so I ran it.  It said \"EFI detected. Please check options.\" There was no clue what options or what to check.  But I clicked OK.  I then ran bootinfo summary.  That seemed to go ok.  So I re-ran boot-repair for the repair action.  The commands it asked me to paste and run seemed to go ok.  After the repair the URL is paste.ubuntu.com/7807769.  The machine will not boot anything from the hard drive.  While booted from DVD it looked as if ubuntu was on sda2 and that sda1 was vfat.</p>\n\n<p>Questions re bios:  (1) do I want \"secure boot\"?  (2) do I want UEFI?</p>\n\n<p>Should I try to install again?  Or are there possible repairs while booted from DVD?</p>\n\n<p>What should I do?</p>\n\n<p>Thanks.</p>\n"},{"id":403920,"title":"Windows 8.1 repeatedly corrupts GRUB UEFI boot manager","body":"<p>I am trying to get a dual boot Windows 8.1 / Ubuntu Precise installation.  My laptop is a Sony SVT1313Z9ES.  It seems to have a buggy UEFI implementation that always looks for <code>EFI/Microsoft/Boot/bootmgfw.efi</code> regardless of the configured UEFI boot manager.  I have installed Windows 8.1 and Ubuntu and have both EFI managers in my EFI filesystem.</p>\n\n<p>After extensive reading I have tried replacing <code>bootmgfw.efi</code> -- and also the bootmanager in <code>EFI/Boot</code> -- with the GRUB boot manager, <code>grubx64.efi</code>.  This works fine, until I boot Windows from GRUB.  Windows boots fine, but then after shutting down for the first time I find the bootmanager has been damaged.  It looks like Windows 8.1 has tried to replace the GRUB boot manager with its own, and failed to write it somehow.  The FAT32 filesystem that contains the EFI files is damaged.  <code>fsck.vfat</code> reports <code>Free cluster summary wrong</code>, and running <code>md5sum</code> on the EFI file reports <code>Input/output error</code>.  All other files on the EFI filesystem are undamaged, only the currently active boot manager is affected.</p>\n\n<p>FWIW, my EFI partition is a 512MB GPT partition at the very end of the disk -- but with a lot of free space, around 450MB.  Could the partition being so close to the end of the drive cause any problems?</p>\n\n<p>How can I prevent Windows from messing up the boot manager in this way?</p>\n"},{"id":349243,"title":"Selecting any of the UEFI entries in GRUB keeps me booting Windows 7, what to do?","body":"<p>Little problem with a newbie here, after a bunch of reinstalling, I've managed to make 7 + 8 + Ubuntu not crash on my new T430. 8 (pre)installed first, then 7, then Ubuntu (bootloader installed onto the root partition, not MBR I'm guessing?), then boot-repaired from a live CD Grub works, huzzah!</p>\n\n<p>Problem is, booting to windows comes in two options:</p>\n\n<ul>\n<li>Windows UEFI bkpbootmgfw.efi  </li>\n<li>Windows Boot UEFI loader</li>\n</ul>\n\n<p>Both of which send to me to the Windows 7 bootloader, which then gives me the choice to boot 7 or 8. Any way I can boot to both of them directly from grub?</p>\n\n<p>UPDATE: I tried to use easybcd to re-default the windows bootloader, but it somehow managed to screw things up when \"reset\"ing, and I ended up with 60 boot items. Windows would not boot at all afterwards. </p>\n\n<p>I have now completely reinstalled everything, so Ubuntu and Windows both have their own boots which I can select as devices by pressing F12, and I can adjust the default as well. However, I would still like to have all 3 options available from start up. </p>\n\n<p>I tried using easybcd to add Ubuntu to the windows bootloader, but it says that it's missing the /NST/AutoNeoGrud2.mbr file and won't boot from there.</p>\n"},{"id":281735,"title":"How to boot over multiple drives on a UEFI motherboard using Grub2","body":"<p>I have an SSD and a HDD, on a UEFI Motherboard. I can switch OS by changing boot order in BIOS, but I would prefer it if Grub2 simply listed Windows7 as a boot option.</p>\n\n<p>Solving should help anyone who has more than one drive on a UEFI motherboard. Have seen <a href=\"http://askubuntu.com/questions/231306/booting-multiple-oss-from-multiple-disks-with-uefi\">Booting multiple OSs from multiple disks with UEFI</a> and rEFInd looks to be a good alternative; this question is about how to correctly configure Grub2 to see the bootloader for Windows7 (or any OS), if at all possible - without using Grub-legacy or another tool such as rEFInd.</p>\n\n<p>I am using Ubuntu 12.10 with Grub2 is on the SSD, the primary boot device, and Windows7 is on the HDD, which it decided to split into three partitions as it installed.</p>\n\n<p>Boot info script gives a lengthy breakdown:</p>\n\n<pre><code>                  Boot Info Script 0.61      [1 April 2012]\n\n\n============================= Boot Info Summary: ===============================\n\n =&gt; Grub2 (v1.99) is installed in the MBR of /dev/sda and looks at sector 1 of \n    the same hard drive for core.img. core.img is at this location and looks \n    in partition 72 for .\n =&gt; No boot loader is installed in the MBR of /dev/sdb.\n\nsda1: __________________________________________________________________________\n\n    File system:       ext4\n    Boot sector type:  -\n    Boot sector info: \n    Operating System:  Ubuntu 12.10\n    Boot files:        /boot/grub/grub.cfg /etc/fstab\n\nsda2: __________________________________________________________________________\n\n    File system:       swap\n    Boot sector type:  -\n    Boot sector info: \n\nsdb1: __________________________________________________________________________\n\n    File system:       vfat\n    Boot sector type:  Windows 7: FAT32\n    Boot sector info:  No errors found in the Boot Parameter Block.\n    Operating System:  \n    Boot files:        /efi/Boot/bootx64.efi\n\nsdb2: __________________________________________________________________________\n\n    File system:       \n    Boot sector type:  -\n    Boot sector info: \n    Mounting failed:   mount: unknown filesystem type ''\n\nsdb3: __________________________________________________________________________\n\n    File system:       ntfs\n    Boot sector type:  Windows Vista/7: NTFS\n    Boot sector info:  No errors found in the Boot Parameter Block.\n    Operating System:  Windows 7\n    Boot files:        /Windows/System32/winload.exe\n\n============================ Drive/Partition Info: =============================\n\nDrive: sda _____________________________________________________________________\n\nDisk /dev/sda: 120.0 GB, 120034123776 bytes\n255 heads, 63 sectors/track, 14593 cylinders, total 234441648 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\n\nPartition  Boot  Start Sector    End Sector  # of Sectors  Id System\n\n/dev/sda1    *          2,048   218,439,679   218,437,632  83 Linux\n/dev/sda2         218,439,680   234,440,703    16,001,024  82 Linux swap / Solaris\n\n\nDrive: sdb _____________________________________________________________________\n\nDisk /dev/sdb: 1000.2 GB, 1000204886016 bytes\n256 heads, 63 sectors/track, 121126 cylinders, total 1953525168 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 4096 bytes\n\nPartition  Boot  Start Sector    End Sector  # of Sectors  Id System\n\n/dev/sdb1                   1 4,294,967,295 4,294,967,295  ee GPT\n\n/dev/sdb1 ends after the last sector of /dev/sdb\n\nGUID Partition Table detected.\n\nPartition    Start Sector    End Sector  # of Sectors System\n/dev/sdb1           2,048       206,847       204,800 EFI System partition\n/dev/sdb2         206,848       468,991       262,144 Microsoft Reserved Partition (Windows)\n/dev/sdb3         468,992 1,953,523,711 1,953,054,720 Data partition (Windows/Linux)\n\n\"blkid\" output: ________________________________________________________________\n\nDevice           UUID                                   TYPE       LABEL\n\n/dev/sda1        e20b187a-c3b0-45e1-98df-c955b3cffdde   ext4       \n/dev/sda2        7663b629-19c9-49fc-a744-2beb2dcdb317   swap       \n/dev/sdb1        F428-FB77                              vfat       \n/dev/sdb3        162C36632C363DD5                       ntfs       \n\n================================ Mount points: =================================\n\nDevice           Mount_Point              Type       Options\n\n/dev/sda1        /                        ext4       (rw,errors=remount-ro)\n\n\n=========================== sda1/boot/grub/grub.cfg: ===========================\n\n--------------------------------------------------------------------------------\n#\n# DO NOT EDIT THIS FILE\n#\n# It is automatically generated by grub-mkconfig using templates\n# from /etc/grub.d and settings from /etc/default/grub\n#\n\n### BEGIN /etc/grub.d/00_header ###\nif [ -s $prefix/grubenv ]; then\n  set have_grubenv=true\n  load_env\nfi\nset default=\"0\"\n\nif [ x\"${feature_menuentry_id}\" = xy ]; then\n  menuentry_id_option=\"--id\"\nelse\n  menuentry_id_option=\"\"\nfi\n\nexport menuentry_id_option\n\nif [ \"${prev_saved_entry}\" ]; then\n  set saved_entry=\"${prev_saved_entry}\"\n  save_env saved_entry\n  set prev_saved_entry=\n  save_env prev_saved_entry\n  set boot_once=true\nfi\n\nfunction savedefault {\n  if [ -z \"${boot_once}\" ]; then\n    saved_entry=\"${chosen}\"\n    save_env saved_entry\n  fi\n}\n\nfunction recordfail {\n  set recordfail=1\n  if [ -n \"${have_grubenv}\" ]; then if [ -z \"${boot_once}\" ]; then save_env recordfail; fi; fi\n}\n\nfunction load_video {\n  if [ x$feature_all_video_module = xy ]; then\n    insmod all_video\n  else\n    insmod efi_gop\n    insmod efi_uga\n    insmod ieee1275_fb\n    insmod vbe\n    insmod vga\n    insmod video_bochs\n    insmod video_cirrus\n  fi\n}\n\nterminal_input console\nterminal_output console\nif [ \"${recordfail}\" = 1 ]; then\n  set timeout=-1\nelse\n  set timeout=6\nfi\n### END /etc/grub.d/00_header ###\n\n### BEGIN /etc/grub.d/05_debian_theme ###\nset menu_color_normal=white/black\nset menu_color_highlight=black/light-gray\nif background_color 44,0,30; then\n  clear\nfi\n### END /etc/grub.d/05_debian_theme ###\n\n### BEGIN /etc/grub.d/10_linux ###\nfunction gfxmode {\n  set gfxpayload=\"${1}\"\n  if [ \"${1}\" = \"keep\" ]; then\n    set vt_handoff=vt.handoff=7\n  else\n    set vt_handoff=\n  fi\n}\nif [ \"${recordfail}\" != 1 ]; then\n  if [ -e ${prefix}/gfxblacklist.txt ]; then\n    if hwmatch ${prefix}/gfxblacklist.txt 3; then\n      if [ ${match} = 0 ]; then\n        set linux_gfx_mode=keep\n      else\n        set linux_gfx_mode=text\n      fi\n    else\n      set linux_gfx_mode=text\n    fi\n  else\n    set linux_gfx_mode=keep\n  fi\nelse\n  set linux_gfx_mode=text\nfi\nexport linux_gfx_mode\nif [ \"${linux_gfx_mode}\" != \"text\" ]; then load_video; fi\nmenuentry 'Ubuntu' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-simple-e20b187a-c3b0-45e1-98df-c955b3cffdde' {\nrecordfail\n  gfxmode $linux_gfx_mode\n  insmod gzio\n  insmod part_msdos\n  insmod ext2\n  set root='hd0,msdos1'\n  if [ x$feature_platform_search_hint = xy ]; then\n    search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  e20b187a-c3b0-45e1-98df-c955b3cffdde\n  else\n    search --no-floppy --fs-uuid --set=root e20b187a-c3b0-45e1-98df-c955b3cffdde\n  fi\n  linux /boot/vmlinuz-3.5.0-27-generic root=UUID=e20b187a-c3b0-45e1-98df-c955b3cffdde ro   quiet splash $vt_handoff\n  initrd  /boot/initrd.img-3.5.0-27-generic\n}\nsubmenu 'Advanced options for Ubuntu' $menuentry_id_option 'gnulinux-advanced-e20b187a-c3b0-45e1-98df-c955b3cffdde' {\n  menuentry 'Ubuntu, with Linux 3.5.0-27-generic' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-3.5.0-27-generic-advanced-e20b187a-c3b0-45e1-98df-c955b3cffdde' {\n  recordfail\n    gfxmode $linux_gfx_mode\n    insmod gzio\n    insmod part_msdos\n    insmod ext2\n    set root='hd0,msdos1'\n    if [ x$feature_platform_search_hint = xy ]; then\n      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  e20b187a-c3b0-45e1-98df-c955b3cffdde\n    else\n      search --no-floppy --fs-uuid --set=root e20b187a-c3b0-45e1-98df-c955b3cffdde\n    fi\n    echo  'Loading Linux 3.5.0-27-generic ...'\n    linux /boot/vmlinuz-3.5.0-27-generic root=UUID=e20b187a-c3b0-45e1-98df-c955b3cffdde ro   quiet splash $vt_handoff\n    echo  'Loading initial ramdisk ...'\n    initrd  /boot/initrd.img-3.5.0-27-generic\n  }\n  menuentry 'Ubuntu, with Linux 3.5.0-27-generic (recovery mode)' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-3.5.0-27-generic-recovery-e20b187a-c3b0-45e1-98df-c955b3cffdde' {\n  recordfail\n    insmod gzio\n    insmod part_msdos\n    insmod ext2\n    set root='hd0,msdos1'\n    if [ x$feature_platform_search_hint = xy ]; then\n      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  e20b187a-c3b0-45e1-98df-c955b3cffdde\n    else\n      search --no-floppy --fs-uuid --set=root e20b187a-c3b0-45e1-98df-c955b3cffdde\n    fi\n    echo  'Loading Linux 3.5.0-27-generic ...'\n    linux /boot/vmlinuz-3.5.0-27-generic root=UUID=e20b187a-c3b0-45e1-98df-c955b3cffdde ro recovery nomodeset \n    echo  'Loading initial ramdisk ...'\n    initrd  /boot/initrd.img-3.5.0-27-generic\n  }\n  menuentry 'Ubuntu, with Linux 3.5.0-26-generic' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-3.5.0-26-generic-advanced-e20b187a-c3b0-45e1-98df-c955b3cffdde' {\n  recordfail\n    gfxmode $linux_gfx_mode\n    insmod gzio\n    insmod part_msdos\n    insmod ext2\n    set root='hd0,msdos1'\n    if [ x$feature_platform_search_hint = xy ]; then\n      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  e20b187a-c3b0-45e1-98df-c955b3cffdde\n    else\n      search --no-floppy --fs-uuid --set=root e20b187a-c3b0-45e1-98df-c955b3cffdde\n    fi\n    echo  'Loading Linux 3.5.0-26-generic ...'\n    linux /boot/vmlinuz-3.5.0-26-generic root=UUID=e20b187a-c3b0-45e1-98df-c955b3cffdde ro   quiet splash $vt_handoff\n    echo  'Loading initial ramdisk ...'\n    initrd  /boot/initrd.img-3.5.0-26-generic\n  }\n  menuentry 'Ubuntu, with Linux 3.5.0-26-generic (recovery mode)' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-3.5.0-26-generic-recovery-e20b187a-c3b0-45e1-98df-c955b3cffdde' {\n  recordfail\n    insmod gzio\n    insmod part_msdos\n    insmod ext2\n    set root='hd0,msdos1'\n    if [ x$feature_platform_search_hint = xy ]; then\n      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  e20b187a-c3b0-45e1-98df-c955b3cffdde\n    else\n      search --no-floppy --fs-uuid --set=root e20b187a-c3b0-45e1-98df-c955b3cffdde\n    fi\n    echo  'Loading Linux 3.5.0-26-generic ...'\n    linux /boot/vmlinuz-3.5.0-26-generic root=UUID=e20b187a-c3b0-45e1-98df-c955b3cffdde ro recovery nomodeset \n    echo  'Loading initial ramdisk ...'\n    initrd  /boot/initrd.img-3.5.0-26-generic\n  }\n  menuentry 'Ubuntu, with Linux 3.5.0-17-generic' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-3.5.0-17-generic-advanced-e20b187a-c3b0-45e1-98df-c955b3cffdde' {\n  recordfail\n    gfxmode $linux_gfx_mode\n    insmod gzio\n    insmod part_msdos\n    insmod ext2\n    set root='hd0,msdos1'\n    if [ x$feature_platform_search_hint = xy ]; then\n      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  e20b187a-c3b0-45e1-98df-c955b3cffdde\n    else\n      search --no-floppy --fs-uuid --set=root e20b187a-c3b0-45e1-98df-c955b3cffdde\n    fi\n    echo  'Loading Linux 3.5.0-17-generic ...'\n    linux /boot/vmlinuz-3.5.0-17-generic root=UUID=e20b187a-c3b0-45e1-98df-c955b3cffdde ro   quiet splash $vt_handoff\n    echo  'Loading initial ramdisk ...'\n    initrd  /boot/initrd.img-3.5.0-17-generic\n  }\n  menuentry 'Ubuntu, with Linux 3.5.0-17-generic (recovery mode)' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-3.5.0-17-generic-recovery-e20b187a-c3b0-45e1-98df-c955b3cffdde' {\n  recordfail\n    insmod gzio\n    insmod part_msdos\n    insmod ext2\n    set root='hd0,msdos1'\n    if [ x$feature_platform_search_hint = xy ]; then\n      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,msdos1 --hint-efi=hd0,msdos1 --hint-baremetal=ahci0,msdos1  e20b187a-c3b0-45e1-98df-c955b3cffdde\n    else\n      search --no-floppy --fs-uuid --set=root e20b187a-c3b0-45e1-98df-c955b3cffdde\n    fi\n    echo  'Loading Linux 3.5.0-17-generic ...'\n    linux /boot/vmlinuz-3.5.0-17-generic root=UUID=e20b187a-c3b0-45e1-98df-c955b3cffdde ro recovery nomodeset \n    echo  'Loading initial ramdisk ...'\n    initrd  /boot/initrd.img-3.5.0-17-generic\n  }\n}\n\n### END /etc/grub.d/10_linux ###\n\n### BEGIN /etc/grub.d/20_linux_xen ###\n\n### END /etc/grub.d/20_linux_xen ###\n\n### BEGIN /etc/grub.d/30_os-prober ###\n### END /etc/grub.d/30_os-prober ###\n\n### BEGIN /etc/grub.d/30_uefi-firmware ###\n### END /etc/grub.d/30_uefi-firmware ###\n\n### BEGIN /etc/grub.d/40_custom ###\n# This file provides an easy way to add custom menu entries.  Simply type the\n# menu entries you want to add after this comment.  Be careful not to change\n# the 'exec tail' line above.\n### END /etc/grub.d/40_custom ###\n\n### BEGIN /etc/grub.d/41_custom ###\nif [ -f  ${config_directory}/custom.cfg ]; then\n  source ${config_directory}/custom.cfg\nelif [ -z \"${config_directory}\" -a -f  $prefix/custom.cfg ]; then\n  source $prefix/custom.cfg;\nfi\n### END /etc/grub.d/41_custom ###\n--------------------------------------------------------------------------------\n\n=============================== sda1/etc/fstab: ================================\n\n--------------------------------------------------------------------------------\n# /etc/fstab: static file system information.\n#\n# Use 'blkid' to print the universally unique identifier for a\n# device; this may be used with UUID= as a more robust way to name devices\n# that works even if disks are added and removed. See fstab(5).\n#\n# &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;\n# / was on /dev/sda1 during installation\nUUID=e20b187a-c3b0-45e1-98df-c955b3cffdde /               ext4    errors=remount-ro 0       1\n# swap was on /dev/sda2 during installation\nUUID=7663b629-19c9-49fc-a744-2beb2dcdb317 none            swap    sw              0       0\n--------------------------------------------------------------------------------\n\n=================== sda1: Location of files loaded by Grub: ====================\n\n           GiB - GB             File                                 Fragment(s)\n\n               =                boot/grub/grub.cfg                             1\n               =                boot/initrd.img-3.5.0-17-generic               1\n               =                boot/initrd.img-3.5.0-26-generic               1\n               =                boot/initrd.img-3.5.0-27-generic               1\n               =                boot/vmlinuz-3.5.0-17-generic                  1\n               =                boot/vmlinuz-3.5.0-26-generic                  1\n               =                boot/vmlinuz-3.5.0-27-generic                  2\n               =                initrd.img                                     1\n               =                initrd.img.old                                 1\n               =                vmlinuz                                        2\n               =                vmlinuz.old                                    2\n\n=============================== StdErr Messages: ===============================\n\nawk: cmd. line:36: Math support is not compiled in\nawk: cmd. line:36: Math support is not compiled in\nawk: cmd. line:36: Math support is not compiled in\nawk: cmd. line:36: Math support is not compiled in\nawk: cmd. line:36: Math support is not compiled in\nawk: cmd. line:36: Math support is not compiled in\nawk: cmd. line:36: Math support is not compiled in\nawk: cmd. line:36: Math support is not compiled in\nawk: cmd. line:36: Math support is not compiled in\nawk: cmd. line:36: Math support is not compiled in\nawk: cmd. line:36: Math support is not compiled in\n</code></pre>\n\n<p>In summary, Ubuntu has a swap partition (sda2) in addition to its root partition (sda1) where it resides. Everything is fine there. Windows7 made 3 partitions, the first (sdb1) being for EFI, the second (sdb2) being reserved for windows which is not relevant, the third (sdb3) being the actual windows installation.</p>\n\n<p>The file hierarchy of sdb1 is</p>\n\n<pre><code>&gt; ls -aR\n.:\n.  ..  EFI\n\n./EFI:\n.  ..  Boot  Microsoft\n\n./EFI/Boot:\n.  ..  bootx64.efi\n\n./EFI/Microsoft:\n.  ..  Boot\n\n./EFI/Microsoft/Boot:\n.   BCD      BCD.LOG1  bootmgfw.efi  BOOTSTAT.DAT  da-DK  el-GR  es-ES  Fonts  hu-HU  ja-JP  memtest.efi  nl-NL  pt-BR  ru-RU  tr-TR  zh-HK\n..  BCD.LOG  BCD.LOG2  bootmgr.efi   cs-CZ         de-DE  en-US  fi-FI  fr-FR  it-IT  ko-KR  nb-NO        pl-PL  pt-PT  sv-SE  zh-CN  zh-TW\netc\n</code></pre>\n\n<p>Through using</p>\n\n<pre><code>grub-mkdevicemap\n</code></pre>\n\n<p>The file \"device.map\" was generated in \"/boot/grub\" which identified that the SSD is (hd0) and the HDD is (hd1). hd0 is primary boot device, Grub2 lives here.</p>\n\n<p>In grub-customizer I tried to create an entry which would direct grub2 to the Windows7 bootloader:</p>\n\n<pre><code>set root='(hd1,1)'\nsearch-no-floppy-fs-uuid-set F428-FB77\ndrivemap -s (hd1) ${root}\nchainloader +1\n</code></pre>\n\n<p>However selecting it from grub on restart gave this error:</p>\n\n<pre><code>error: no such device: F428-FB77.\nerror: invalid signature.\n\nPress any key to continue..._\n</code></pre>\n\n<p>Am I close?</p>\n"}]}]