[{"id":539128,"title":"How to fix Ubuntu 14.04 LTS login screen hangs with &quot;logging in...&quot;","body":"<p>Anyone have suggestions for this:</p>\n\n<p>I upgraded my Ubuntu system to 14.04, and the upgrade failed miserably.  I was forced to restart the system in order to get to a login.  After following several suggestions on restarting an upgrade, I appear to have a system that is basically working, but I cannot log into the GUI, am forced to CTL-ALT-F1 (or F2-F6) to get a command line login.</p>\n\n<p>Th GUI reaction is to take the first attempt at entering a password, then responds with \"Logging in...\" directly below the user name that is logging in.  That's it, it just sits there.  If an attempt to use the mouse changes the name, the message goes away, but the GUI no longer accepts any more passwords.</p>\n\n<p>The clue I have (and am hoping that is not a red-herring) is that the following appears in the /var/log/auth.log (I've removed timestamp, system name and user id):</p>\n\n<p>lightdm: PAM unable to dlopen(pam_kwallet.so):  /lib/security/pam_kwallet.so:  cannot open shared object file: No such file or directory\nlightdm: PAM adding faulty module: pam_kwallet.so\nlightdm: pam_succeed_if(lightdm:auth): requirement \"user ingroup nopasswdlogin\" not met by user \"userid\"</p>\n\n<p>I've tried several update commands, restarts, reboots, and clean-ups.  Any suggestions?</p>\n","related_questions":[{"id":626701,"title":"How can I remove a specific user from the Ubuntu login screen?","body":"<p>I am using Ubuntu 14.04LTS. When I login, there is an extra user called 'Oracle' present. How can I hide this?</p>\n\n<p><img src=\"http://i.stack.imgur.com/QE2zc.jpg\" alt=\"Illustration of Problem\"></p>\n"},{"id":573580,"title":"Ubuntu login fail to start lightdm session","body":"<p>I have a nightmare with my Ubuntu account login. \nEverytime after  I typed my account password, the screen flashes and then back to login view.\nHowever,I  can login in terminal via Ctrl+Alt+F1. then in my xsession-error log:</p>\n\n<pre><code>Script for ibus started at run_im.\nScript for auto started at run_im.\nScript for default started at run_im.\n/usr/sbin/lightdm-session 5: exec :init: not found\n</code></pre>\n\n<p>I tried several suggestions I found on forums.\nMy home/username is under ownership of the account which i am attempting to login.\n.Xauthority is deleted or either renamed it to .Xauthoritybk , both not working.\n/usr/sbin is under system PATH.</p>\n\n<p>What could it be wrong and how can I deal with it?\n<br>Reinstall is not a good option as I had so many things built on this system.</p>\n"},{"id":493317,"title":"Ubuntu 12.04 login returns me to login manager, how to diagnose?","body":"<p>This started with me adding a graphics card to my system.  When I booted up, ubuntu complained that the graphics config had changed, and gave me a terminal session.  I copied /etc/X11/xorg.conf.failsafe to xorg.conf, and that gave me the standard graphical login manager.  </p>\n\n<p>Nw, when I try to log in the screen goes blank for a second, then returns me to the login manager.  It tells me when I give it a deliberately bad password, so I know I'm authenticating.  When I go across to a virtual terminal, I find that nothing in my homedir has been modified, except for ~/.dmrc if I've tried a different login mode. rAs a result, my usual resort of consulting ~/.xsession-errors is unavailable.</p>\n\n<p>Other accounts like \"Guest Session\" are able to log in without problems, just mine fails.  I have tried moving my ~/.xsession and ~/.xsessionrc to ~/xsession{,.rc}.bak, no effect.  I've looked at /var/log/{syslog,auth.log,kern.log,Xorg.0.log}, and nothing interesting appears there when I try to log in...  I've tried all the suggestions in the following earlier questions:</p>\n\n<p><a href=\"https://askubuntu.com/questions/128637/login-returns-to-login-screen\">Login returns to login screen</a>\n  <a href=\"https://askubuntu.com/questions/489888/where-should-i-look-to-diagnose-login-freezing\">Where should I look to diagnose login freezing?</a>\n  <a href=\"https://askubuntu.com/questions/139528/cant-log-in-to-ubuntu-12-04\">Can&#39;t log in to ubuntu 12.04</a></p>\n\n<p>What else can I try to diagnose this?  </p>\n\n<p>I think for now, I am going to work from a different account, but that is going to be a bit of a hassle.</p>\n"},{"id":446536,"title":"How do I rotate the login screen?","body":"<p>So I am trying out the 14.04 and I keep both of my monitors in portrait mode. But the login splash is in landscape. But I can't seem to figure out how to rotate my login splash or where the config is for it? It is no longer in <code>/etc/lightdm/lightdm.conf</code></p>\n\n<p>Can anyone help? </p>\n"},{"id":367650,"title":"After Upgrade from 13.04 to 13.10 missing user in login screen","body":"<p>I have upgraded to 13.10 from 13.04 now after booting (even after updates and rebooting) my user id is not listed.  It has a uid higher than the minimum in lightdm.conf.  I have the user light display manager , guest , and remote login options in the login screen but not my ususal user id that I have been using from ubuntu 9 something.  It is a normal user and an administrator so that I could authorize drivers, updates, etc...  I do not have any custom display manager setup. It has been standard unity since unity was available.  I can login to my account by logging in as guest opening a termial and using su - user  Any insight would be appreciated.  Thanks</p>\n"},{"id":359983,"title":"How to fix Ubuntu 12.04.3 boot to black screen full of errors in white text, after upgrading on dell inspiron 1501","body":"<p>I am running a Dell Inspiron 1501</p>\n\n<p>I use Linux only. No Microsoft or Apple operating systems (or really anything closed-source). I've only been using Linux for a little over a year but I'm starting to gain a comfortable level of familiarity with the system and terminology.</p>\n\n<p>I've been having some issues with Quantel Quetzal and Raring Ringtail, especially with older hardware, so I opted to install Ubuntu 12.04.3 Precise Pangolin on the Inspiron 1501. I checked my MD5 sum after downloading my ISO and all was good. I have in fact used this iso/dvd to install Precise Pangolin successfully on a few other systems (some of which are even older than this laptop).</p>\n\n<p>Install goes fine. The wireless card doesn't work out of the box but this is a known issue which is fairly easy to fix. So, first thing I did was open up a terminal and run</p>\n\n<pre><code>sudo apt-get update &amp;&amp; sudo apt-get upgrade\n</code></pre>\n\n<p>which, part way through, crashed (I assume lightdm and possibly X) and took me to a black screen filled with white lines of text that were either errors or just the ouputs of commands. The reason I say that is because I was unable to gleam any useful information from the output on the screen. I did take a picture however and will post a link. </p>\n\n<p>After that, every time I boot the system it goes right to that black screen posting all the error messages or output in white text. I never get a purple Ubuntu splash, so from what I can tell after reading this wiki article: \n<a href=\"https://wiki.ubuntu.com/X/Troubleshooting/BlankScreen\" rel=\"nofollow\">https://wiki.ubuntu.com/X/Troubleshooting/BlankScreen</a></p>\n\n<p>That means that after the kernel is selected, it is unable to correctly implement the settings it needs. If the purple splash never shows, the frame buffer was never set correctly right? This leads me to believe that it could be a kernel issue? The wiki suggested to try and pinpoint the issue by rolling back kernels until I find one that works. Is this my best option? I think I'm going to give it a try anyways and will let everyone know if I am able to solve the issue this way.</p>\n\n<p>I have since done a few reinstalls and some trouble-shooting including a couple hours scouring the net for anyone with any kind of similar issue. Most of the issues I could find involved getting a black screen after login and none of them said anything about any information output on this black screen.</p>\n\n<p>My reinstalls have taught me that there is no issue updating, but as soon as I run</p>\n\n<pre><code>sudo apt-get upgrade\n</code></pre>\n\n<p>my system goes to the black screen and every time I boot it up it does the same thing. The only way to fix is by reinstall. I never get any ability to log in. After a hard power off to the laptop (because I cannot use ctrl+alt+del to reboot) when it boots again it goes to the grub boot menu and I can select between regular boot, recovery mode and the two memtest options. I never tried the memtest options but the other two both lead to the same black screen.</p>\n\n<p>Some people having a black/blank screen issue claim to have fixed it by using 12.10 or 13.04 but I believe they were having a different issue where they got a black/blank screen after logging in. I think I will still give these images a try, but mostly figured I would just wait another day or two for 13.10.</p>\n\n<p>Other things I figured I would try from the following three articles:</p>\n\n<p><a href=\"http://askubuntu.com/questions/243043/after-logging-in-theres-a-black-screen-and-my-cursor-nothing-else-in-ubuntu\">After logging in, there&#39;s a black screen and my cursor, nothing else! in Ubuntu 12.10</a></p>\n\n<p><a href=\"http://askubuntu.com/questions/296163/black-screen-on-login\">Black Screen on Login</a></p>\n\n<p><a href=\"http://askubuntu.com/questions/126065/after-upgrading-to-12-04-i-cant-get-to-the-login-screen\">After Upgrading to 12.04 I can&#39;t get to the login screen</a></p>\n\n<p>include opening a terminal using ctrl+alt+f1 and trying a variety of reseting unity, x settings, lightdm (or switching to gdm); but I doubt this will work or that I will even be able to access a terminal. I'm pretty sure the whole system is stuck after it loads the last line on the black screen. </p>\n\n<p>I will try these things and post more information when I have. Hopefully someone has an idea in the meantime and I will keep checking back trying to find a solution. Thank you.</p>\n\n<p>Here are 3 different pictures of the error message. I had to take with my phone:\n<a href=\"http://ubuntuone.com/album/0TBBkxmVajJIQQtoN9mVdN\" rel=\"nofollow\">http://ubuntuone.com/album/0TBBkxmVajJIQQtoN9mVdN</a></p>\n"},{"id":114303,"title":"How-To limit user-names in LightDM login-screen when AccountsService is used","body":"<p>I have several \"user\" names in <em>passwd</em> that don't represent real people, and that should not appear on the LightDM login-screen. \nThe <em>lightdm-gtk-greeter</em> configuration file clearly says that if AccountsService is installed, the program uses that and ignores its owh configureation files.\nHOWEVER, there is less than nothing for documentation about how to configure AccountsService! \nPlease, can someone tell me how to configure the system so that only an explicitly specified group of users are shown on the greeter?\nI could uninstall AccountsService.  I did that before, but it comes back (dependencies, I suppose).</p>\n\n<p>TIA</p>\n"},{"id":158953,"title":"Ubuntu 12.04 login hangs on &quot;Checking Battery&quot; or &quot;SANED,&quot; then returns to login screen","body":"<p>Working earlier tonight, my mouse froze in the middle of the screen, and so I restarted my system. Upon trying to log back in, the screen flashes black, and something along the lines of <code>saned: edit /etc/default/sane</code> and <code>Checking battery state</code> before it flashes back to the login screen.</p>\n\n<p>I've scanned the askubuntu files which discuss a similar problem and I've purged and reinstalled: <code>nvidia-common</code>, <code>lightdm</code>, <code>ubuntu-desktop</code>, <code>gdm</code>, <code>gnome-power-manager</code>, <code>lightdm-gtk-greeter</code>, and <code>unity-greeter</code>. I've deleted <code>~/.Xauthority</code>.</p>\n\n<p>My graphics card is:</p>\n\n<pre><code>00:02.0 VGA compatible controller: Intel Corporation 2nd Generation Core Processor\nFamily Integrated Graphics Controller (rev 09) (prog-if 00 [VGA controller])\n</code></pre>\n\n<p>so it shouldn't be a problem with nvidia anything.</p>\n\n<p>I can log in as a guest user and with the TTY, but I just can't log in as my primary user.</p>\n"},{"id":158433,"title":"How to swap the language before login as per the old GDM login screen?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://askubuntu.com/questions/92297/how-do-i-set-the-login-manager-to-enable-change-languages-at-login\">How do I set the login manager to enable <code>change languages</code> at login?</a>  </p>\n</blockquote>\n\n\n\n<p>I used to run Ubuntu 10.04 on an computer.\nWhen upgarde to 12.04 I have got a totally new login screen.\nI'm lacking of the oppertumnity to easily swap the language before login I used to have in the old version.\nIs there any possibility to get that login screen back?\nAn alternative is how to get the possibilty to easily swap langauge before login?\nNote, the computer is located in a lobby where people with different native langauge will use it.</p>\n\n<p>best regards\nBosch</p>\n"},{"id":128628,"title":"Cannot log in into Ubuntu after an upgrade to 12.04","body":"<p>Today I cannot log into the GUI, but I can use the console (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F1</kbd>) to log in as a user or as root, and I can login via ssh.</p>\n\n<p>Under Natty, before the upgrade, I had set up Ubuntu to auto-login as a user.\nOn Friday autologin was working with 12.04. Today I am presented with the login screen for the first time. I am not prompted for the user id, just for a password.</p>\n\n<pre><code>    $ sudo cat /var/log/lightdm/lightdm.log\n    [+0.00s] DEBUG: Logging to /var/log/lightdm/lightdm.log\n    [+0.00s] DEBUG: Starting Light Display Manager 1.2.1, UID=0 PID=1421\n    [+0.00s] DEBUG: Loaded configuration from /etc/lightdm/lightdm.conf\n    [+0.00s] DEBUG: Using D-Bus name org.freedesktop.DisplayManager\n    [+0.00s] DEBUG: Registered seat module xlocal\n    [+0.00s] DEBUG: Registered seat module xremote\n    [+0.00s] DEBUG: Adding default seat\n    [+0.00s] DEBUG: Starting seat\n    [+0.00s] DEBUG: Starting new display for automatic login as user mslinn\n    [+0.00s] DEBUG: Starting local X display\n    [+0.02s] DEBUG: X server :0 will replace Plymouth\n    [+0.04s] DEBUG: Using VT 7\n    [+0.04s] DEBUG: Activating VT 7\n    [+0.04s] DEBUG: Logging to /var/log/lightdm/x-0.log\n    [+0.04s] DEBUG: Writing X server authority to /var/run/lightdm/root/:0\n    [+0.04s] DEBUG: Launching X Server\n    [+0.04s] DEBUG: Launching process 1452: /usr/bin/X :0 -auth /var/run/lightdm/root/:0 -nolisten tcp vt7 -novtswitch -background none\n    [+0.04s] DEBUG: Waiting for ready signal from X server :0\n    [+0.04s] DEBUG: Acquired bus name org.freedesktop.DisplayManager\n    [+0.04s] DEBUG: Registering seat with bus path /org/freedesktop/DisplayManager/Seat0\n    [+0.41s] DEBUG: Got signal 10 from process 1452\n    [+0.41s] DEBUG: Got signal from X server :0\n    [+0.41s] DEBUG: Stopping Plymouth, X server is ready\n    [+0.43s] DEBUG: Connecting to XServer :0\n    [+0.43s] DEBUG: Automatically logging in user mslinn\n    [+0.43s] DEBUG: Started session 1524 with service 'lightdm-autologin', username 'mslinn'\n    [+0.49s] DEBUG: Session 1524 authentication complete with return value 0: Success\n    [+0.49s] DEBUG: Autologin user mslinn authorized\n    [+0.49s] DEBUG: Autologin using session xterm\n    [+0.50s] DEBUG: Dropping privileges to uid 1000\n    [+0.50s] DEBUG: Restoring privileges\n    [+0.51s] DEBUG: Dropping privileges to uid 1000\n    [+0.51s] DEBUG: Writing /home/mslinn/.dmrc\n    [+0.53s] DEBUG: Restoring privileges\n    [+0.57s] DEBUG: Starting session xterm as user mslinn\n    [+0.57s] DEBUG: Session 1524 running command /usr/sbin/lightdm-session xterm\n    [+0.65s] DEBUG: New display ready, switching to it\n    [+0.65s] DEBUG: Activating VT 7\n    [+0.66s] DEBUG: Registering session with bus path /org/freedesktop/DisplayManager/Session0\n    [+0.89s] DEBUG: Session 1524 exited with return value 0\n    [+0.97s] DEBUG: User session quit\n    [+0.97s] DEBUG: Stopping display\n    [+0.97s] DEBUG: Sending signal 15 to process 1452\n    [+2.20s] DEBUG: Process 1452 exited with return value 0\n    [+2.20s] DEBUG: X server stopped\n    [+2.20s] DEBUG: Removing X server authority /var/run/lightdm/root/:0\n    [+2.20s] DEBUG: Releasing VT 7\n    [+2.20s] DEBUG: Display server stopped\n    [+2.20s] DEBUG: Display stopped\n    [+2.20s] DEBUG: Active display stopped, switching to greeter\n    [+2.20s] DEBUG: Switching to greeter\n    [+2.20s] DEBUG: Starting new display for greeter\n    [+2.20s] DEBUG: Starting local X display\n    [+2.20s] DEBUG: Using VT 7\n    [+2.20s] DEBUG: Logging to /var/log/lightdm/x-0.log\n    [+2.21s] DEBUG: Writing X server authority to /var/run/lightdm/root/:0\n    [+2.21s] DEBUG: Launching X Server\n    [+2.21s] DEBUG: Launching process 1758: /usr/bin/X :0 -auth /var/run/lightdm/root/:0 -nolisten tcp vt7 -novtswitch\n    [+2.21s] DEBUG: Waiting for ready signal from X server :0\n    [+2.43s] DEBUG: Got signal 10 from process 1758\n    [+2.43s] DEBUG: Got signal from X server :0\n    [+2.43s] DEBUG: Connecting to XServer :0\n    [+2.43s] DEBUG: Starting greeter\n    [+2.43s] DEBUG: Started session 1766 with service 'lightdm', username 'lightdm'\n    [+2.61s] DEBUG: Session 1766 authentication complete with return value 0: Success\n    [+2.61s] DEBUG: Greeter authorized\n    [+2.61s] DEBUG: Logging to /var/log/lightdm/x-0-greeter.log\n    [+2.66s] DEBUG: Session 1766 running command /usr/lib/lightdm/lightdm-greeter-session /usr/sbin/unity-greeter\n    [+3.12s] DEBUG: Greeter connected version=1.2.1\n    [+3.12s] DEBUG: Greeter connected, display is ready\n    [+3.12s] DEBUG: New display ready, switching to it\n    [+3.12s] DEBUG: Activating VT 7\n    [+3.12s] DEBUG: Stopping greeter display being switched from\n    [+3.91s] DEBUG: Greeter start authentication for mslinn\n    [+3.91s] DEBUG: Started session 2219 with service 'lightdm', username 'mslinn'\n    [+3.99s] DEBUG: Session 2219 got 1 message(s) from PAM\n    [+3.99s] DEBUG: Prompt greeter with 1 message(s)\n</code></pre>\n\n<p>I tried deinstalling and reinstalling <code>lightdm</code>, but that did not help.</p>\n\n<p>I have 3 virtualized Ubuntu systems; two of them have this problem. What should I do?</p>\n"}]}]