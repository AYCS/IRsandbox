[{"id":715445,"title":"Ubuntu 15.10 apparently stuck on kernel 3.16.0-38 generic","body":"<p>Yesterday, I have run my Ubuntu partition for the first time in atleast 5 months. I have ran  </p>\n\n<pre><code>sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade\n</code></pre>\n\n<p>Which took about 2 hours to run. This morning, I ran the command again, as I normally do. It didn't give me any updates, but once I changed from the MA servers to the US servers, it gave me a few updates. I then ran</p>\n\n<pre><code>uname -r\n</code></pre>\n\n<p>which gave me the following result:</p>\n\n<pre><code>3.16.0-38-generic\n</code></pre>\n\n<p>indicating that the kernel did not upgrade to 4.2 or 4.1.<br>\nMy question is: How do I upgrade the kernel to the following releases?<br>\nThanks!</p>\n","related_questions":[{"id":682512,"title":"How do kernel updates differ from kernel upgrades?","body":"<p>Today I ran:</p>\n\n<pre><code>apt-get update\napt-get dist-upgrade\n</code></pre>\n\n<p>And noticed that the following packages were upgraded:</p>\n\n<pre><code>linux-headers-3.13.0-65-generic:i386\nlinux-image-3.13.0-65-generic:i386\nlinux-image-extra-3.13.0-65-generic:i386\nlinux-headers-3.13.0-65:i386\n</code></pre>\n\n<p>I know that these are updates to the kernel, and checked the <code>/var/log/apt/history</code> file, finding these lines:</p>\n\n<pre><code>linux-headers-3.13.0-65-generic:i386 (3.13.0-65.105, 3.13.0-65.106)\nlinux-image-3.13.0-65-generic:i386 (3.13.0-65.105, 3.13.0-65.106)\nlinux-image-extra-3.13.0-65-generic:i386 (3.13.0-65.105, 3.13.0-65.106)\nlinux-headers-3.13.0-65:i386 (3.13.0-65.105, 3.13.0-65.106)\n</code></pre>\n\n<p>I figure that this is telling me it's upgraded from the 105 to the 106 build, and assume it's in relation to <a href=\"http://people.canonical.com/~ubuntu-security/cve/2015/CVE-2015-7613.html\">CVE-2015-7613</a>.</p>\n\n<p>Why does this get released as an upgrade rather than becoming 3.13.0-66?\nI noticed some very quick jumps in kernel (minor?) releases a couple of weeks ago, and am curious as to how this is governed.</p>\n"},{"id":689358,"title":"Ubuntu kernel not updating with 15.10","body":"<p>I just upgraded from Ubuntu 15.04 64bit to Ubuntu 15.10 64bit. I read that 15.10 was using the 4.1 or 4.2 kernel, but I noticed that my kernel didn't upgrade.</p>\n\n<p>When I type in the terminal <code>uname -r</code>, I get <code>3.19.0-18-generic</code></p>\n\n<p>Same thing in Grub: the only kernel I can choose is the <code>3.19.0-18</code></p>\n\n<p>Can someone explain me how to upgrade the kernel?</p>\n"},{"id":701471,"title":"kernel 3.18.24 crashes on Ubuntu 15.10","body":"<p>Hi we are facing kernel crashes after 4-5 days.\nWe are using 3.18.24 kernel because of lacking drivers on BlackMagic devices (which are not ready for 4.2.0) - we suspected if the problem isnt coming from this driver which is not opensource.</p>\n\n<p>We are using also AMD external graphics card with OSS radeon driver.\nFirst crash was something about network card 8192 - I think some DNS </p>\n\n<p>I can provide only image of backtrace of kernel panic(in logs there is nothing):\nFirst crash:\n<a href=\"http://i.stack.imgur.com/80F5w.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/80F5w.jpg\" alt=\"kernel panic1\"></a></p>\n\n<p>Second crash:</p>\n\n<p><a href=\"http://i.stack.imgur.com/VQ109.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/VQ109.jpg\" alt=\"kernel panic2\"></a></p>\n\n<p>I hope someone can help with narrowing down what could be the problem - if its possible on given informations.</p>\n\n<p>Could it be HW problem?\nCould it be some faulty driver?\nWhy is it always exception in interrupt?\nCould it be some problem in OS-CPU communication(we use intel i7)?</p>\n\n<p>lsmod:</p>\n\n<pre>\nModule                  Size  Used by\nnls_utf8               12557  0\nbtrfs                 933945  0\nxor                    21411  1 btrfs\nraid6_pq               97812  1 btrfs\nufs                    74682  0\nqnx4                   13315  0\nhfsplus               102898  0\nhfs                    54678  0\nminix                  36140  0\nntfs                  101408  0\nmsdos                  17332  0\njfs                   185313  0\nxfs                   927132  0\nlibcrc32c              12644  1 xfs\nintel_rapl             18783  0\nx86_pkg_temp_thermal    14205  0\nintel_powerclamp       18786  0\neeepc_wmi              13151  0\ncoretemp               13441  0\nasus_wmi               24131  1 eeepc_wmi\nsparse_keymap          13948  1 asus_wmi\nkvm                   470678  0\nsnd_hda_codec_realtek    84373  1\nsnd_hda_codec_generic    68949  1 snd_hda_codec_realtek\nsnd_hda_codec_hdmi     51974  1\nsnd_hda_intel          30520  5\nsnd_hda_controller     31093  1 snd_hda_intel\nsnd_hda_codec         139458  5 snd_hda_codec_realtek,snd_hda_codec_hdmi,snd_hda_codec_generic,snd_hda_intel,snd_hda_controller\ncrct10dif_pclmul       14307  0\ncrc32_pclmul           13133  0\nghash_clmulni_intel    13230  0\nsnd_hwdep              17698  1 snd_hda_codec\naesni_intel           169590  0\nsnd_pcm               105384  4 snd_hda_codec_hdmi,snd_hda_codec,snd_hda_intel,snd_hda_controller\nblackmagic            582869  0\naes_x86_64             17131  1 aesni_intel\nmei_me                 19662  0\nlrw                    13287  1 aesni_intel\nshpchp                 37040  0\nmei                    87928  1 mei_me\nserio_raw              13434  0\nsoc_button_array       12722  0\nlpc_ich                21093  0\ngf128mul               14951  1 lrw\nglue_helper            13944  1 aesni_intel\nsnd_seq_midi           13564  0\nsnd_seq_midi_event     14899  1 snd_seq_midi\nsnd_rawmidi            30876  1 snd_seq_midi\nsnd_seq                67224  2 snd_seq_midi_event,snd_seq_midi\nsnd_seq_device         14497  3 snd_seq,snd_rawmidi,snd_seq_midi\nsnd_timer              29513  2 snd_pcm,snd_seq\nsnd                    87611  21 snd_hda_codec_realtek,snd_hwdep,snd_timer,snd_hda_codec_hdmi,snd_pcm,snd_seq,snd_rawmidi,snd_hda_codec_generic,snd_hda_codec,snd_hda_intel,snd_seq_device\nablk_helper            13597  1 aesni_intel\ncryptd                 20360  3 ghash_clmulni_intel,aesni_intel,ablk_helper\n8250_fintek            12925  0\nmac_hid                13227  0\nsoundcore              15052  2 snd,snd_hda_codec\nparport_pc             32741  0\nppdev                  17671  0\nlp                     17759  0\nparport                42299  3 lp,ppdev,parport_pc\nautofs4                38830  2\nhid_generic            12559  0\nusbhid                 52607  0\nhid                   110155  2 hid_generic,usbhid\nradeon               1570544  3\ni2c_algo_bit           13406  1 radeon\nttm                    97523  1 radeon\ndrm_kms_helper         98487  1 radeon\npsmouse               111660  0\ndrm                   317482  6 ttm,drm_kms_helper,radeon\nahci                   34099  2\nr8169                  80568  0\nlibahci                32190  1 ahci\nmii                    13934  1 r8169\nwmi                    19193  1 asus_wmi\nvideo                  20256  1 asus_wmi\n</pre>\n\n<p>lspci:</p>\n\n<pre>\n00:00.0 Host bridge: Intel Corporation 4th Gen Core Processor DRAM Controller (rev 06)\n    Subsystem: ASUSTeK Computer Inc. Device 8534\n    Kernel driver in use: hsw_uncore\n00:01.0 PCI bridge: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor PCI Express x16 Controller (rev 06)\n    Kernel driver in use: pcieport\n00:14.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB xHCI (rev 05)\n    Subsystem: ASUSTeK Computer Inc. Device 8534\n    Kernel driver in use: xhci_hcd\n00:16.0 Communication controller: Intel Corporation 8 Series/C220 Series Chipset Family MEI Controller #1 (rev 04)\n    Subsystem: ASUSTeK Computer Inc. Device 8534\n    Kernel driver in use: mei_me\n00:1a.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #2 (rev 05)\n    Subsystem: ASUSTeK Computer Inc. Device 8534\n    Kernel driver in use: ehci-pci\n00:1b.0 Audio device: Intel Corporation 8 Series/C220 Series Chipset High Definition Audio Controller (rev 05)\n    Subsystem: ASUSTeK Computer Inc. Device 8576\n    Kernel driver in use: snd_hda_intel\n00:1c.0 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #1 (rev d5)\n    Kernel driver in use: pcieport\n00:1c.1 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #2 (rev d5)\n    Kernel driver in use: pcieport\n00:1c.2 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #3 (rev d5)\n    Kernel driver in use: pcieport\n00:1c.3 PCI bridge: Intel Corporation 82801 PCI Bridge (rev d5)\n00:1c.4 PCI bridge: Intel Corporation 8 Series/C220 Series Chipset Family PCI Express Root Port #5 (rev d5)\n    Kernel driver in use: pcieport\n00:1d.0 USB controller: Intel Corporation 8 Series/C220 Series Chipset Family USB EHCI #1 (rev 05)\n    Subsystem: ASUSTeK Computer Inc. Device 8534\n    Kernel driver in use: ehci-pci\n00:1f.0 ISA bridge: Intel Corporation H87 Express LPC Controller (rev 05)\n    Subsystem: ASUSTeK Computer Inc. Device 8534\n    Kernel driver in use: lpc_ich\n00:1f.2 SATA controller: Intel Corporation 8 Series/C220 Series Chipset Family 6-port SATA Controller 1 [AHCI mode] (rev 05)\n    Subsystem: ASUSTeK Computer Inc. Device 8534\n    Kernel driver in use: ahci\n00:1f.3 SMBus: Intel Corporation 8 Series/C220 Series Chipset Family SMBus Controller (rev 05)\n    Subsystem: ASUSTeK Computer Inc. Device 8534\n03:00.0 Multimedia video controller: Blackmagic Design Intensity Pro\n    Subsystem: Blackmagic Design Intensity Pro\n    Kernel driver in use: blackmagic_driver\n04:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 0c)\n    Subsystem: ASUSTeK Computer Inc. Device 8554\n    Kernel driver in use: r8169\n05:00.0 PCI bridge: ASMedia Technology Inc. ASM1083/1085 PCIe to PCI Bridge (rev 03)\n07:00.0 VGA compatible controller: Advanced Micro Devices, Inc. [AMD/ATI] Pitcairn PRO [Radeon HD 7850 / R7 265 / R9 270 1024SP]\n    Subsystem: ASUSTeK Computer Inc. Device 3011\n    Kernel driver in use: radeon\n07:00.1 Audio device: Advanced Micro Devices, Inc. [AMD/ATI] Cape Verde/Pitcairn HDMI Audio [Radeon HD 7700/7800 Series]\n    Subsystem: ASUSTeK Computer Inc. Device aab0\n    Kernel driver in use: snd_hda_intel\n</pre>\n\n<p>Ubuntu 15.10 64bit</p>\n\n<p>Kernel 3.18.24-031824-generic installed from <a href=\"http://kernel.ubuntu.com/~kernel-ppa/mainline/v3.18.24-vivid/\" rel=\"nofollow\">Ubuntu kernel server</a></p>\n"},{"id":690964,"title":"Kernel isn&#39;t upgraded since 3.19.0-25","body":"<p>I noticed yesterday, that my kernel wasn't up-to-date, even though I installed updates.</p>\n\n<p>I checked the installed packages and all newer linux-header* packages were installed up to the current 4.2 kernel in Ubuntu 15.10.</p>\n\n<p>I checked my /boot folder and there were no newer kernel images. After seeing that, I removed all but the current kernel which, interestingly, didn't clean up my /boot folder [old kernel images were still there, I deleted them by hand now], then installed the newest kernel, but again with no success.</p>\n\n<p>I also tried to just run <code>apt-get install --reinstall</code> on the kernel packages, but no dice either.</p>\n\n<p>I checked all logs (dmesg, dpkg, syslog) I could think of but couldn't find any errors or warnings.</p>\n\n<p>So with no further information about what is happening, I hope that someone here can help me figure out what's going on with my system.</p>\n\n<p>History of this system:</p>\n\n<p>Original 14.04, was upgraded to 14.10, then to 15.04, then to 15.10. Kernel updates, apparently, stopped working while Ubuntu 15.04 was installed.</p>\n\n<p>Partitions:</p>\n\n<ul>\n<li>/boot is a seperate partition. GRUB is installed here (already re-installed it with no change). (SSD)</li>\n<li>/home is a seperate partition. (SSD)</li>\n<li>/ is a sperate partition (SSD)</li>\n<li>/var and /tmp are seperate partitions on my second harddrive</li>\n</ul>\n\n<p>SSD is /dev/sdb, harddrive is /dev/sda.</p>\n"},{"id":683271,"title":"Ran out of memory on /boot during kernel update - corrupted kernel","body":"<p>I ran apt-get upgrade to update my kernel yesterday (ubuntu 15.04) and /boot ran out of memory (usually if there isn't enough space it prevents the upgrade task running)</p>\n\n<p>I accidentally deleted the active kernel leading me to follow these steps here - <a href=\"http://askubuntu.com/questions/28099/how-to-restore-a-system-after-accidentally-removing-all-kernels\">How to restore a system after accidentally removing all kernels?</a></p>\n\n<p>I am stuck at step 13 as the previous memory error is preventing me installing the current kernel or upgrading the remaining kernel.</p>\n\n<p>Upgrade throws the following error</p>\n\n<pre><code>    root@ubuntu:/# apt-get -y upgrade linux-image-generic\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nCalculating upgrade... linux-image-generic is already the newest version.\nDone\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n3 not fully installed or removed.\nAfter this operation, 0 B of additional disk space will be used.\nSetting up linux-image-3.19.0-31-generic (3.19.0-31.36) ...\nRunning depmod.\nupdate-initramfs: deferring update (hook will be called later)\nFailed to symbolic-link boot/initrd.img-3.19.0-31-generic to initrd.img:File exists at /var/lib/dpkg/info/linux-image-3.19.0-31-generic.postinst line 629.\ndpkg: error processing package linux-image-3.19.0-31-generic (--configure):\n subprocess installed post-installation script returned error exit status 17\ndpkg: dependency problems prevent configuration of linux-image-extra-3.19.0-31-generic:\n linux-image-extra-3.19.0-31-generic depends on linux-image-3.19.0-31-generic; however:\n  Package linux-image-3.19.0-31-generic is not configured yet.\n\ndpkg: error processing package linux-image-extra-3.19.0-31-generic (--configure):\n dependency problems - leaving unconfigured\ndpkg: dependency problems prevent configuration of linux-signed-image-3.19.0-31-generic:\n linux-signed-image-3.19.0-31-generic depends on linux-image-3.19.0-31-generic (= 3.19.0-31.36); however:\n  Package linux-image-3.19.0-31-generic is not configured yet.\n linux-signed-image-3.19.0-31-generic depends on linux-image-extra-3.19.0-31-generic (= 3.19.0-31.36); however:\n  Package linux-image-extra-3.19.0-31-generic is not configured yet.\n\ndpkg: error processing package linux-signed-image-3.19.0-31-generic (--configure):\n dependency problems - leaving unconfigured\nNo apport report written because the error message indicates its a followup error from a previous failure.\n                                                                                                          No apport report written because the error message indicates its a followup error from a previous failure.\n       Errors were encountered while processing:\n linux-image-3.19.0-31-generic\n linux-image-extra-3.19.0-31-generic\n linux-signed-image-3.19.0-31-generic\nE: Sub-process /usr/bin/dpkg returned an error code (1)\n</code></pre>\n\n<p>I have also tried purging and installing fresh, no dice due to the same error</p>\n\n<pre><code>root@ubuntu:/# sudo apt-get purge Reading package lists... Done Building dependency tree        Reading state information... Done 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. 3 not fully installed or removed. After this operation, 0 B of additional disk space will be used. Setting up linux-image-3.19.0-31-generic (3.19.0-31.36) ... Running depmod. update-initramfs: deferring update (hook will be called later) Failed to symbolic-link boot/initrd.img-3.19.0-31-generic to initrd.img:File exists at /var/lib/dpkg/info/linux-image-3.19.0-31-generic.postinst line 629. dpkg: error processing package linux-image-3.19.0-31-generic (--configure):  subprocess installed post-installation script returned error exit status 17 dpkg: dependency problems prevent configuration of linux-image-extra-3.19.0-31-generic:  linux-image-extra-3.19.0-31-generic depends on linux-image-3.19.0-31-generic; however:   Package linux-image-3.19.0-31-generic is not configured yet.\n\ndpkg: error processing package linux-image-extra-3.19.0-31-generic (--configure):  dependency problems - leaving unconfigured dpkg: dependency problems prevent configuration of linux-signed-image-3.19.0-31-generic:  linux-signed-image-3.19.0-31-generic depends on linux-image-3.19.0-31-generic (= 3.19.0-31.36); however:   Package linux-image-3.19.0-31-generic is not configured yet.  linux-signed-image-3.19.0-31-generic depends on linux-image-extra-3.19.0-31-generic (= 3.19.0-31.36); however:   Package linux-image-extra-3.19.0-31-generic is not configured yet.\n\ndpkg: error processing package linux-signed-image-3.19.0-31-generic (--configure):  dependency problems - leaving unconfigured No apport report written because the error message indicates its a followup error from a previous failure.\n                                                                                                          No apport report written because the error message indicates its a followup error from a previous failure.\n       Errors were encountered while processing:  linux-image-3.19.0-31-generic  linux-image-extra-3.19.0-31-generic  linux-signed-image-3.19.0-31-generic E: Sub-process /usr/bin/dpkg returned an error code (1)\n</code></pre>\n\n<p>I believe this warrants its own question as this is a dpkg issue rather than one directly related to the question above</p>\n"},{"id":652299,"title":"Need help removing linux-image-3.16.0-34-generic and linux-image-extra-3.16.0-34-generic","body":"<p>So I feel like a dunce having to post about this but, I need help trying to fix this issue, mostly because without the fix I can't install any new software or run updates. For some reason one of the kernals must not have been fully uninstalled (linux-image-3.16.0-34-generic), so I tried to do the first thing that came to mind: apt-get -f install... That fails and gives this: </p>\n\n<pre><code>cictrone@cictrone:~$ sudo apt-get -f install\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following packages will be REMOVED:\n  linux-image-3.16.0-34-generic linux-image-extra-3.16.0-34-generic\n0 upgraded, 0 newly installed, 2 to remove and 14 not upgraded.\n7 not fully installed or removed.\nAfter this operation, 201 MB disk space will be freed.\nDo you want to continue? [Y/n] Y\n(Reading database ... 241430 files and directories currently installed.)\nRemoving linux-image-extra-3.16.0-34-generic (3.16.0-34.47~14.04.1) ...\ndepmod: ERROR: could not open directory /lib/modules/3.16.0-34-generic:No such file or directory\ndepmod: FATAL: could not search modules: No such file or directory\nrun-parts: executing /etc/kernel/postinst.d/apt-auto-removal 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nrun-parts: executing /etc/kernel/postinst.d/dkms 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nError! echo\nYour kernel headers for kernel 3.16.0-34-generic cannot be found at\n/lib/modules/3.16.0-34-generic/build or /lib/modules/3.16.0-34-generic/source.\nrun-parts: executing /etc/kernel/postinst.d/initramfs-tools 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nupdate-initramfs: Generating /boot/initrd.img-3.16.0-34-generic\ngrep: /boot/config-3.16.0-34-generic: No such file or directory\nWARNING: missing /lib/modules/3.16.0-34-generic\nDevice driver support needs thus be built-in linux image!\ndepmod: ERROR: could not open directory /lib/modules/3.16.0-34-generic: No such file or directory\ndepmod: FATAL: could not search modules: No such file or directory\ndepmod: WARNING: could not open /tmp/mkinitramfs_raVmra/lib/modules/3.16.0-34-generic/modules.order: No such file or directory\ndepmod: WARNING: could not open /tmp/mkinitramfs_raVmra/lib/modules/3.16.0-34-generic/modules.builtin: No such file or directory\nrun-parts: executing /etc/kernel/postinst.d/pm-utils 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nrun-parts: executing /etc/kernel/postinst.d/update-notifier 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nrun-parts: executing /etc/kernel/postinst.d/zz-update-grub 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\n/usr/sbin/grub-mkconfig: 39: /etc/default/grub: desktop-image=/home    /cictrone/Pictures/grub-splash.jpg: not found\nrun-parts: /etc/kernel/postinst.d/zz-update-grub exited with return code 127\ndpkg: error processing package linux-image-extra-3.16.0-34-generic (--remove):\n subprocess installed post-removal script returned error exit status 1\nRemoving linux-image-3.16.0-34-generic (3.16.0-34.47~14.04.1) ...\nExamining /etc/kernel/postrm.d .\nrun-parts: executing /etc/kernel/postrm.d/initramfs-tools 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nupdate-initramfs: Deleting /boot/initrd.img-3.16.0-34-generic\nrun-parts: executing /etc/kernel/postrm.d/zz-update-grub 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\n/usr/sbin/grub-mkconfig: 39: /etc/default/grub: desktop-image=/home/cictrone/Pictures/grub-splash.jpg: not found\nrun-parts: /etc/kernel/postrm.d/zz-update-grub exited with return code 127\nFailed to process /etc/kernel/postrm.d at /var/lib/dpkg/info/linux-image-3.16.0-34-generic.postrm line 328.\ndpkg: error processing package linux-image-3.16.0-34-generic (--remove):\n subprocess installed post-removal script returned error exit status 1\nErrors were encountered while processing:\n linux-image-extra-3.16.0-34-generic\n linux-image-3.16.0-34-generic\nE: Sub-process /usr/bin/dpkg returned an error code (1)\n</code></pre>\n\n<p>I've also tried:</p>\n\n<ol>\n<li>sudo dpkg -C</li>\n<li>sudo apt-get autoremove</li>\n<li>sudo dpkg --remove</li>\n<li>sudo dpkg --configure -a</li>\n<li>sudo dpkg --remove  --force-remove-reinstreq</li>\n<li>sudo apt-get autoclean</li>\n</ol>\n\n<p>The output of my uname -r:</p>\n\n<pre><code>3.16.0-41-generic\n</code></pre>\n\n<p>The output of Terrance's suggestion:</p>\n\n<pre><code>cictrone@cictrone:~$ sudo apt-get install linux-image-3.16.0-34-generic linux-headers-3.16.0-34-generic linux-image-extra-3.16.0-34-generic\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nlinux-headers-3.16.0-34-generic is already the newest version.\nlinux-image-3.16.0-34-generic is already the newest version.    \nlinux-image-extra-3.16.0-34-generic is already the newest version.\n0 upgraded, 0 newly installed, 0 to remove and 14 not upgraded.\n7 not fully installed or removed.\nNeed to get 0 B/53.9 MB of archives.\nAfter this operation, 0 B of additional disk space will be used.\nDo you want to continue? [Y/n] Y\ndpkg: error processing package linux-image-3.16.0-34-generic (--configure):\n package linux-image-3.16.0-34-generic is not ready for configuration\n cannot configure (current status `half-installed')\nSetting up linux-image-3.16.0-43-generic (3.16.0-43.58~14.04.1) ...\nRunning depmod.\nupdate-initramfs: deferring update (hook will be called later)\ninitrd.img(/boot/initrd.img-3.16.0-43-generic) points to /boot/initrd.img-3.16.0-43-generic\n (/boot/initrd.img-3.16.0-43-generic) -- doing nothing at /var/lib/dpkg/info/linux-image-3.16.0-43-generic.postinst line 491.\nvmlinuz(/boot/vmlinuz-3.16.0-43-generic) points to /boot/vmlinuz-3.16.0-43-generic\n (/boot/vmlinuz-3.16.0-43-generic) -- doing nothing at /var/lib/dpkg/info/linux-image-3.16.0-43-generic.postinst line 491.\nExamining /etc/kernel/postinst.d.\nrun-parts: executing /etc/kernel/postinst.d/apt-auto-removal 3.16.0-43-generic /boot/vmlinuz-3.16.0-43-generic\nrun-parts: executing /etc/kernel/postinst.d/dkms 3.16.0-43-generic /boot/vmlinuz-3.16.0-43-generic\nrun-parts: executing /etc/kernel/postinst.d/initramfs-tools 3.16.0-43-generic /boot/vmlinuz-3.16.0-43-generic\nupdate-initramfs: Generating /boot/initrd.img-3.16.0-43-generic\nrun-parts: executing /etc/kernel/postinst.d/pm-utils 3.16.0-43-generic /boot/vmlinuz-3.16.0-43-generic\nrun-parts: executing /etc/kernel/postinst.d/update-notifier 3.16.0-43-generic /boot/vmlinuz-3.16.0-43-generic\nrun-parts: executing /etc/kernel/postinst.d/zz-update-grub 3.16.0-43-generic /boot/vmlinuz-3.16.0-43-generic\n/usr/sbin/grub-mkconfig: 39: /etc/default/grub: desktop-image=/home/cictrone/Pictures/grub-splash.jpg: not found\nrun-parts: /etc/kernel/postinst.d/zz-update-grub exited with return code 127\nFailed to process /etc/kernel/postinst.d at /var/lib/dpkg/info/linux-image-3.16.0-43-generic.postinst line 1025.\ndpkg: error processing package linux-image-3.16.0-43-generic (--configure):\n subprocess installed post-installation script returned error exit status 2\nSetting up grub-pc (2.02~beta2-9ubuntu1.3+elementary10~ubuntu0.3.1) ...\n/var/lib/dpkg/info/grub-pc.config: 39: /etc/default/grub: desktop-image=/home/cictrone/Pictures/grub-splash.jpg: not found\ndpkg: error processing package grub-pc (--configure):\n subprocess installed post-installation script returned error exit status 127\ndpkg: dependency problems prevent configuration of linux-image-extra-3.16.0-43-generic:\n linux-image-extra-3.16.0-43-generic depends on linux-image-3.16.0-43-generic; however:\n  Package linux-image-3.16.0-43-generic is not configured yet.\n\ndpkg: error processing package linux-image-extra-3.16.0-43-generic (--configure):\n dependency problems - leaving unconfigured\ndpkg: dependency problems prevent configuration of linux-image-generic-lts-utopic:\n linux-image-generic-lts-utopic depends on linux-image-3.16.0-43-generic; however:\n  Package linux-image-3.16.0-43-generic is not configured yet.\n linux-image-generic-lts-utopic depends on linux-image-extra-3.16.0-43-generic; however:\n  Package linux-image-extra-3.16.0-43-generic is not configured yet.\n\ndpkg: error processing package linux-image-generic-lts-utopic (--configure):\n dependency problems - leaving unconfigured\ndpkg: dependency problems prevent configuration of linux-generic-lts-utopic:\n linux-generic-lts-utopic depends on linux-image-generic-No apport report written because MaxReports is reached already\n No apport report written because MaxReports is reached already\n No apport report written because MaxReports is reached already\n No apport report written because MaxReports is reached already\nlts-utopic (= 3.16.0.43.34); however:\n Package linux-image-generic-lts-utopic is not configured yet.\ndpkg: error processing package linux-generic-lts-utopic (--configure):\n dependency problems - leaving unconfigured\ndpkg: error processing package linux-image-extra-3.16.0-34-generic (--configure):\n package linux-image-extra-3.16.0-34-generic is not ready for configuration\n cannot configure (current status `half-installed')\n    Errors were encountered while processing:\n     linux-image-3.16.0-34-generic\n     linux-image-3.16.0-43-generic\n     grub-pc\n     linux-image-extra-3.16.0-43-generic\n     linux-image-generic-lts-utopic\n     linux-generic-lts-utopic\n     linux-image-extra-3.16.0-34-generic\n    E: Sub-process /usr/bin/dpkg returned an error code (1)\n</code></pre>\n\n<p>The following is the output from the remove command after issueing the reinstall command (apt-get):</p>\n\n<pre><code>cictrone@cictrone:~$ sudo apt-get remove linux-image-3.16.0-34-generic linux-headers-3.16.0-34-generic linux-image-extra-3.16.0-34-generic\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following package was automatically installed and is no longer required:\n  linux-headers-3.16.0-34\nUse 'apt-get autoremove' to remove it.\nThe following packages will be REMOVED:\n  linux-headers-3.16.0-34-generic linux-image-3.16.0-34-generic\n  linux-image-extra-3.16.0-34-generic\n0 upgraded, 0 newly installed, 3 to remove and 15 not upgraded.\n7 not fully installed or removed.\nAfter this operation, 215 MB disk space will be freed.\nDo you want to continue? [Y/n] Y\n(Reading database ... 271286 files and directories currently installed.)\nRemoving linux-image-extra-3.16.0-34-generic (3.16.0-34.47~14.04.1) ...\nrun-parts: executing /etc/kernel/postinst.d/apt-auto-removal 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nrun-parts: executing /etc/kernel/postinst.d/dkms 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nrun-parts: executing /etc/kernel/postinst.d/initramfs-tools 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nupdate-initramfs: Generating /boot/initrd.img-3.16.0-34-generic\nrun-parts: executing /etc/kernel/postinst.d/pm-utils 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nrun-parts: executing /etc/kernel/postinst.d/update-notifier 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nrun-parts: executing /etc/kernel/postinst.d/zz-update-grub 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\n/usr/sbin/grub-mkconfig: 39: /etc/default/grub: desktop-image=/home/cictrone/Pictures/grub-splash.jpg: not found\nrun-parts: /etc/kernel/postinst.d/zz-update-grub exited with return code 127\ndpkg: error processing package linux-image-extra-3.16.0-34-generic (--remove):\n subprocess installed post-removal script returned error exit status 1\nRemoving linux-image-3.16.0-34-generic (3.16.0-34.47~14.04.1) ...\nExamining /etc/kernel/prerm.d.\nrun-parts: executing /etc/kernel/prerm.d/dkms 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\ndkms: removing: bcmwl 6.30.223.248+bdcom (3.16.0-34-generic) (x86_64)\n\n-------- Uninstall Beginning --------\nModule:  bcmwl\nVersion: 6.30.223.248+bdcom\nKernel:  3.16.0-34-generic (x86_64)\n-------------------------------------\n\nStatus: Before uninstall, this module version was ACTIVE on this kernel.\n\nwl.ko:\n - Uninstallation\n   - Deleting from: /lib/modules/3.16.0-34-generic/extra/\n - Original module\n   - No original module was found for this module on this kernel.\n   - Use the dkms install command to reinstall any previous module version.\n\ndepmod....\n\nDKMS: uninstall completed.\nExamining /etc/kernel/postrm.d .\nrun-parts: executing /etc/kernel/postrm.d/initramfs-tools 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\nupdate-initramfs: Deleting /boot/initrd.img-3.16.0-34-generic\nrun-parts: executing /etc/kernel/postrm.d/zz-update-grub 3.16.0-34-generic /boot/vmlinuz-3.16.0-34-generic\n/usr/sbin/grub-mkconfig: 39: /etc/default/grub: desktop-image=/home/cictrone/Pictures/grub-splash.jpg: not found\nrun-parts: /etc/kernel/postrm.d/zz-update-grub exited with return code 127\nFailed to process /etc/kernel/postrm.d at /var/lib/dpkg/info/linux-image-3.16.0-34-generic.postrm line 328.\ndpkg: error processing package linux-image-3.16.0-34-generic (--remove):\n subprocess installed post-removal script returned error exit status 1\nRemoving linux-headers-3.16.0-34-generic (3.16.0-34.47~14.04.1) ...\nErrors were encountered while processing:\n linux-image-extra-3.16.0-34-generic\n linux-image-3.16.0-34-generic\nE: Sub-process /usr/bin/dpkg returned an error code (1)\n</code></pre>\n\n<p>These ubuntu tweaks tool (was able to get it installed) also sees the kernel but gives same errors as the terminal.</p>\n\n<p>Any help is appreciated, thanks.</p>\n\n<p>****Solved****</p>\n\n<p>It turned out that the kernel issue wasn't the cause of holding aptitude up. It was actually grub.The line in particular :</p>\n\n<pre><code>/usr/sbin/grub-mkconfig: 39: /etc/default/grub: desktop-image=/home/cictrone/Pictures/grub-splash.jpg: not found\n</code></pre>\n\n<p>I went it to the file and deleted the line with the problem and then ran Terrence's suggestions and everything is fixed! Thanks Everyone.</p>\n"},{"id":629316,"title":"How does &#39;upgrade packages during installation&#39; affect point release and kernel updates?","body":"<p>I've recently freshly installed Ubuntu Server 14.04, allowing package updates by internet on installation. This was installed from the 14.04 disc image, downloaded before any of the 14.04.1 and 14.04.2 were released.</p>\n\n<p>When the installation had completed, <code>uname -r</code> gave me the kernel version as 3.13.0-24-generic. <code>lsb_release -a</code> listed the Ubuntu version as 14.04.2.</p>\n\n<p>An older system, installed the same way, from the same disc, shows the same kernel version, but 14.04.2 as point release.</p>\n\n<p>A different older system, installed identically, has had <code>apt-get dist-upgrade</code> run on it. It was 14.04.1 after installation, but moved to 14.04.2, and kernel 3.13.0-48-generic, after the <code>apt-get dist-upgrade</code> command</p>\n\n<p>All of these systems have had <code>apt-get upgrade</code> run after installation.</p>\n\n<p>Are all of the packages updated by the installer, to the most recent point release, but the kernel not upgraded? If so why is this? If I install from a 14.04.2 image what kernel version will be installed? Does the installation process mimic <code>apt-get upgrade</code> or <code>apt-get dist-upgrade</code>, or is it different from both?</p>\n"},{"id":596280,"title":"Why am I still running kernel `3.16.0-28-generic` on 14.10 although I have -29- and -33- installed?","body":"<p>I just received another kernel update (3.16.0-33-generic) I installed with <code>apt-get dist-upgrade</code>.<br>\nI rebooted and checked with <code>uname -r</code> which gave me the output <code>3.16.0-28-generic</code>.<br>\nI know from <code>update-grub</code> and the files in <code>/boot/</code> that I have the following kernels installed on my system: </p>\n\n<ul>\n<li>3.16.0-33-generic (installed this morning with dist-upgrade)</li>\n<li>3.16.0-29-generic</li>\n<li>3.16.0-28-generic (currently used)</li>\n<li>3.16.0-25-generic</li>\n<li>3.16.0-24-generic</li>\n</ul>\n\n<p>Why am I not running the latest kernel version? How can I change this?<br>\nAnd which old kernels can I remove and how?</p>\n"},{"id":589939,"title":"Why my kernel is not the latest for 14.04?","body":"<p>My kernel is currently</p>\n\n<pre>Linux scv 3.13.0-34-generic #60-Ubuntu SMP Wed Aug 13 15:45:27 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux\n</pre>\n\n<p>But I know it should be<pre>\n3.13.0-45-generic #74\n</pre>\nWhy is it <em>not</em> updated by default on my pc upon execution of<pre>\nsudo apt-get update &amp;&amp; sudo apt-get upgrade &amp;&amp; sudo apt-get dist-upgrade \n</pre>\n?\nAny idea? How can I fix this?</p>\n\n<p>Cheers!</p>\n\n<p>Edit: executing<pre>\nema@scv:~$ cat /etc/issue\nUbuntu 14.04.2 LTS \\n \\l\n</pre>\nreports 14.04.2 apparently...</p>\n\n<p>Edit2: on my other computer, with a fresher install of Ubuntu 14.04, I got <em>3.13.0-45-generic #74</em>...</p>\n\n<p>Edit3: all the repos/ppa</p>\n\n<pre>ema@scv:~$ grep -h ^deb /etc/apt/sources.list /etc/apt/sources.list.d/*\ndeb http://gb.archive.ubuntu.com/ubuntu/ trusty main restricted\ndeb-src http://gb.archive.ubuntu.com/ubuntu/ trusty main restricted\ndeb http://gb.archive.ubuntu.com/ubuntu/ trusty-updates main restricted\ndeb-src http://gb.archive.ubuntu.com/ubuntu/ trusty-updates main restricted\ndeb http://gb.archive.ubuntu.com/ubuntu/ trusty universe\ndeb-src http://gb.archive.ubuntu.com/ubuntu/ trusty universe\ndeb http://gb.archive.ubuntu.com/ubuntu/ trusty-updates universe\ndeb-src http://gb.archive.ubuntu.com/ubuntu/ trusty-updates universe\ndeb http://gb.archive.ubuntu.com/ubuntu/ trusty multiverse\ndeb-src http://gb.archive.ubuntu.com/ubuntu/ trusty multiverse\ndeb http://gb.archive.ubuntu.com/ubuntu/ trusty-updates multiverse\ndeb-src http://gb.archive.ubuntu.com/ubuntu/ trusty-updates multiverse\ndeb http://gb.archive.ubuntu.com/ubuntu/ trusty-backports main restricted universe multiverse\ndeb-src http://gb.archive.ubuntu.com/ubuntu/ trusty-backports main restricted universe multiverse\ndeb http://security.ubuntu.com/ubuntu trusty-security main restricted\ndeb-src http://security.ubuntu.com/ubuntu trusty-security main restricted\ndeb http://security.ubuntu.com/ubuntu trusty-security universe\ndeb-src http://security.ubuntu.com/ubuntu trusty-security universe\ndeb http://security.ubuntu.com/ubuntu trusty-security multiverse\ndeb-src http://security.ubuntu.com/ubuntu trusty-security multiverse\ndeb http://archive.canonical.com/ubuntu trusty partner\ndeb-src http://archive.canonical.com/ubuntu trusty partner\ndeb http://extras.ubuntu.com/ubuntu trusty main\ndeb-src http://extras.ubuntu.com/ubuntu trusty main\ndeb http://ppa.launchpad.net/maarten-baert/simplescreenrecorder/ubuntu trusty main\ndeb http://ppa.launchpad.net/maarten-baert/simplescreenrecorder/ubuntu trusty main\ndeb http://ppa.launchpad.net/osmoma/audio-recorder/ubuntu trusty main\ndeb http://ppa.launchpad.net/osmoma/audio-recorder/ubuntu trusty main\ndeb http://ppa.launchpad.net/pipelight/stable/ubuntu trusty main\ndeb http://ppa.launchpad.net/stebbins/handbrake-snapshots/ubuntu trusty main\ndeb http://ppa.launchpad.net/stebbins/handbrake-snapshots/ubuntu trusty main\ndeb http://ppa.launchpad.net/stefansundin/truecrypt/ubuntu trusty main\ndeb http://ppa.launchpad.net/stefansundin/truecrypt/ubuntu trusty main\ndeb http://ppa.launchpad.net/sunab/kdenlive-release/ubuntu trusty main\ndeb http://ppa.launchpad.net/sunab/kdenlive-release/ubuntu trusty main\ndeb http://ppa.launchpad.net/ubuntu-wine/ppa/ubuntu trusty main\ndeb http://ppa.launchpad.net/ubuntu-wine/ppa/ubuntu trusty main\ndeb http://ppa.launchpad.net/xorg-edgers/ppa/ubuntu trusty main\ndeb http://ppa.launchpad.net/xorg-edgers/ppa/ubuntu trusty main\n</pre>\n"},{"id":585403,"title":"After upgrade to kernel 3.16.0-30-generic I cannot use the keyboard","body":"<p>After installation of 14.10 and the \"automatic upgrade\" of the kernel to 3.16.0-30-generic from 3.16.0-23-generic I cannot use my keyboard to enter my passphrase for decrypting my physical drive.</p>\n\n<blockquote>\n  <p>Any keyboard input is displayed at the first row of the\n  'ubuntu-decrypt-drive' phase/page/graphical picture.</p>\n</blockquote>\n\n<p>Actually, keyboard input isn't working at all, except the possibility to use <kbd>ALT</kbd>+<kbd>Fn</kbd> combination takes me to an empty blinkning marker without any input-possibilites.</p>\n\n<p>If I try switching with the <kbd>Alt</kbd>+<kbd>Fx</kbd> combination I just get a blinking marker at the first row and the first column, and the same result there: \nIt takes keyboard input but I'm definitely not using the input to surpass my encrypted physical device.</p>\n\n<p>When comparing the configuration files (config-kernel-generic) I cannot see anything that could cause this incident (side note: I'm not the best of both worlds regards to troubleshooting issues like this): </p>\n\n<p>(sorry about the text-blob):</p>\n\n<pre><code>&gt; diff config-3.16.0-30-generic config-3.16.0-23-generic\n\n**3c3\n&lt; # Linux/x86_64 3.16.0-30-generic Kernel Configuration\n---\n&gt; # Linux/x86_64 3.16.0-23-generic Kernel Configuration\n68c68\n&lt; CONFIG_VERSION_SIGNATURE=\"Ubuntu 3.16.0-30.40-generic 3.16.7-ckt3\"\n---\n&gt; CONFIG_VERSION_SIGNATURE=\"Ubuntu 3.16.0-23.31-generic 3.16.4\"\n1934d1933\n&lt; CONFIG_GENWQE_PLATFORM_ERROR_RECOVERY=0\n5049c5048\n&lt; # CONFIG_SOUND_OSS_CORE_PRECLAIM is not set\n---\n&gt; CONFIG_SOUND_OSS_CORE_PRECLAIM=y*******\n</code></pre>\n\n<p>I used the guided \"encrypt drive\" during the installation of 14.10 and booting into the earlier kernel was and isn't a problem.</p>\n\n<p>At this point I have to manually select my older kernel manually and can login/decrypt the drive without problems.</p>\n\n<p>I am really thankful for any feedback or requests about further data since this is quite not what I've wanted and I've tried bypassing the incident by reinstalling ubuntu from scratch several times (suspecting there were a corruption/deficiency in the upgrade process) but I have no logs that points to that this is the cause.</p>\n\n<p>Maybe my information has been lacking in regards to reporting my problem but I've been trying looking further into my issue and have noticed discrepancies in the initramfs in the kernel that works (3.16.0-23-generic) and the one which isn't (3.16.0-30-generic).  </p>\n\n<p>I ran a diff between the both lsinitramfs: \n<a href=\"http://pastebin.com/jLpLUk43\" rel=\"nofollow\">http://pastebin.com/jLpLUk43</a></p>\n\n<p>But I'm unsure in how to resolve the incident for the later kernel.</p>\n\n<p>@user3807087 let me take my hat off and bow, cause this was driving me nuts and after numerous reinstallations and troubleshooting the incident I am now happy to say that your suggestion resolved the incident for me. \n(no need pressing the <kbd>ESC</kbd> though).</p>\n\n<p>So to clarify the solution I edited the /etc/default/grub file and replaced the text in the row: <em>GRUB_CMDLINE_LINUX_DEFAULT=</em> to:</p>\n\n<p><strong>GRUB_CMDLINE_LINUX_DEFAULT=\"ro\"</strong></p>\n\n<p>And then ran:\n<strong>update-grub</strong></p>\n"}]}]