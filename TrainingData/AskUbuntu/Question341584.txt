[{"id":341584,"title":"How to run mysql command from terminal?","body":"<p>I have the following sql command which I usually run in phpmyadmin by selecting the database, then running it in the command window. </p>\n\n<pre><code>DELETE FROM `wp_posts` WHERE `post_type` = \"attachment\"\n</code></pre>\n\n<p>However I've never done this via terminal before. My question is, how do I \"point\" this command to a specific database and then running it?</p>\n\n<p>Thanks</p>\n","related_questions":[{"id":677268,"title":"Trouble uploading a sql file to mysql using shell terminal","body":"<p>I'm trying to upload a sql file to mysql on AWS using my shell terminal. I can login fine and everything works great. I used FTP to  transfer a sql file to my html folder and I'm trying to import it to an already existing mysql database using the following command:</p>\n\n<pre><code>sudo mysql -u ubuntu -p dbasename &lt; /var/www/html/nameoffile.sql\n</code></pre>\n\n<p>But when I run this command I get the following error:</p>\n\n<pre><code>ERROR 1045 (28000): Access denied for user 'ubuntu'@'localhost' (using password: YES)\n</code></pre>\n\n<p>Anyone know what this means?</p>\n"},{"id":673559,"title":"Making an request/command in terminal (ubuntu) and save the answer in mysql","body":"<p>I am looking for a batch to make little commands in a terminal (for ubuntu) and save the answers in a data base in mysql in the same computer.</p>\n\n<p>For example, I want to ask the temperature of the computer each hour, and save the answers in a data base already created. I do not if I should use php or just a batch to make a connection to the data base and save the information,  but I do not know how to do neither of this posibilities.</p>\n\n<p>Help please.</p>\n\n<p>Bye.</p>\n"},{"id":601232,"title":"How to connect to db4free database using &#39;mysql&#39; command from the terminal","body":"<p>I am running MySQL 5.5 on Ubuntu 14.04. I can open and work with local databases using <code>mysql</code> in the terminal. I can also run phpMyAdmin and access the database on db4free.net on the browser. However i would like to know how to achieve the same (access the db4free DB) from the terminal using <code>mysql</code> command.</p>\n\n<p>Thanks in advance.</p>\n"},{"id":561026,"title":"How to update MySQL Server, MySQL Client and phpMyAdmin to the latest stable versions on my local machine running on 64-bit Ubuntu 12.04 LTS?","body":"<p>I'm using <strong>64-bit Ubuntu 12.04 LTS</strong> on my machine. I've already installed <strong>LAMP server</strong> on my machine.</p>\n\n<p>I'm using following <strong>Apache HTTP Server</strong> version. </p>\n\n<p>I got following information after I type following command into my machine's terminal :</p>\n\n<pre><code>apachectl -V\n\nServer version: Apache/2.4.10 (Ubuntu)\nServer built:   Jul 22 2014 22:57:50\nServer's Module Magic Number: 20120211:36\nServer loaded:  APR 1.5.1, APR-UTIL 1.5.3\nCompiled using: APR 1.5.1, APR-UTIL 1.5.3\nArchitecture:   64-bit\nServer MPM:     prefork\n  threaded:     no\n    forked:     yes (variable process count)\nServer compiled with....\n -D APR_HAS_SENDFILE\n -D APR_HAS_MMAP\n -D APR_HAVE_IPV6 (IPv4-mapped addresses enabled)\n -D APR_USE_SYSVSEM_SERIALIZE\n -D APR_USE_PTHREAD_SERIALIZE\n -D SINGLE_LISTEN_UNSERIALIZED_ACCEPT\n -D APR_HAS_OTHER_CHILD\n -D AP_HAVE_RELIABLE_PIPED_LOGS\n -D DYNAMIC_MODULE_LIMIT=256\n -D HTTPD_ROOT=\"/etc/apache2\"\n -D SUEXEC_BIN=\"/usr/lib/apache2/suexec\"\n -D DEFAULT_PIDLOG=\"/var/run/apache2.pid\"\n -D DEFAULT_SCOREBOARD=\"logs/apache_runtime_status\"\n -D DEFAULT_ERRORLOG=\"logs/error_log\"\n -D AP_TYPES_CONFIG_FILE=\"mime.types\"\n -D SERVER_CONFIG_FILE=\"apache2.conf\"\n</code></pre>\n\n<p>I'm using following <strong>PHP</strong> version on my machine. Following is the command that I run and the information I seen:</p>\n\n<pre><code>php -v\n\nPHP 5.5.19-1+deb.sury.org~precise+1 (cli) (built: Nov 19 2014 19:32:34) \nCopyright (c) 1997-2014 The PHP Group\nZend Engine v2.5.0, Copyright (c) 1998-2014 Zend Technologies\n    with Zend OPcache v7.0.4-dev, Copyright (c) 1999-2014, by Zend Technologies\n</code></pre>\n\n<p>When I hit the URL : <code>http://localhost/phpmyadmin</code> from the address bar of my browser, Log in screen of phpMyAdmin loaded then I entered the Username and Password to login. After logging in I saw following details on right pane.</p>\n\n<pre><code>**MySQL**    \n\n - Server: Localhost via UNIX socket    \n - Server version: 5.5.40-0ubuntu0.12.04.1\n - Protocol version: 10\n - User: root@localhost\n - MySQL charset: UTF-8 Unicode (utf8)\n\n\n**Web server**\n - Apache/2.4.10 (Ubuntu)\n - MySQL client version: 5.5.40\n - PHP extension: mysqli\n\n**phpMyAdmin**\n\n - Version information: 3.4.10.1deb1\n - Documentation\n - Wiki\n - Official Homepage\n - Contribute\n - Get support\n - List of changes\n</code></pre>\n\n<p>I don't know whether the versions of softwares <strong>MySQL Server, MySQL Client and phpMyAdmin</strong> are the latest stable versions or not. Please guide me in this regard.</p>\n\n<p>Now I want to update <strong>MySQL Server, MySQL Client and phpMyAdmin</strong>  to the latest stable versions on my local machine that is running on <strong>64-bit Ubuntu 12.04 LTS</strong>.</p>\n\n<p>What should be the efficient, reliable, secure and easiest way to do this?</p>\n\n<p>Please provide me help in this regard.</p>\n\n<p>Thanks in advance.</p>\n"},{"id":481349,"title":"mysql questions for beginners","body":"<p>ok, I have a few questions regarding mysql.\nI am currently running ubuntu 12.04.4 LTS command line version.</p>\n\n<p>I am looking for a database that I can use.  I am confused at this point because I am uninformed.</p>\n\n<p>mysql is just one database that is on the server? or can it contain several or many databases</p>\n\n<p>What programs do I use to access it on the server or is it a vt-100 type access?</p>\n\n<p>I understand that mysql comes with lamp? or ubuntu.  I am thinking that it is already installed but not sure how to access it, but that is another question for later.  </p>\n\n<p>Outside of the man pages and the ubuntu manual, is there a site for its setup and use?</p>\n\n<p>Thanks!  </p>\n"},{"id":537564,"title":"How to run commands from a bash file the way they run from terminal?","body":"<p>Sorry for my probably very naive question.</p>\n\n<p>What I mean is: how to create an executable script/bash file that would run more complex commands, commands which must normally be put in a terminal?</p>\n\n<p>Specifically, I am referring to the following commands:</p>\n\n<ul>\n<li>Learned about it from <a href=\"http://askubuntu.com/a/469439/47206\">here</a>:</li>\n</ul>\n\n<blockquote>\n<pre><code>DRI_PRIME=1 glxgears -info\n</code></pre>\n</blockquote>\n\n<p>That would start <code>glxgears</code> and put to work the ATI discrete card. Then I can monitor its temperature etc. But when I run it from terminal, I get this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/CvVOb.png\" alt=\"enter image description here\"></p>\n\n<p>While when I run it with the script</p>\n\n<pre><code>#!/bin/bash\n\nDRI_PRIME=1 glxgears -info\n</code></pre>\n\n<p>only the gears window is visible, not the other one with text.</p>\n\n<p>I would like to be able to use a bash file and have the first result, and then run the file from a launcher.</p>\n\n<hr>\n\n<p>Considering <a href=\"http://truongtx.me/2013/11/12/aria2-as-default-download-manager/\" rel=\"nofollow\">this page on <code>aria2</code> and <code>webgui-aria2</code></a>, <code>aria2</code> is started in that context by running in terminal a long command:</p>\n\n<pre><code>touch /path/to/download/folder/session.txt &amp;&amp; aria2c --enable-rpc --rpc-listen-all --save-session=/path/to/download/folder/session.txt --input-file=/path/to/download/folder/session.txt -x16 -s16 -k1M --dir=/path/to/download/folder\n</code></pre>\n\n<p>How to run that with a script (that I would then execute from a launcher) and have the same result, the same info?</p>\n\n<p>A script like so (adapted to my download folder)</p>\n\n<pre><code>#!/bin/bash\n\ntouch /home/cip/Downloads/aria2/session.txt &amp;&amp; aria2c --enable-rpc --rpc-listen-all --save-session=/home/cip/Downloads/aria2/session.txt --input-file=/home/cip/Downloads/aria2/session.txt -x16 -s16 -k1M --dir=/home/cip/Downloads/aria2\n</code></pre>\n\n<p>gives nothing, while thhe programs starts.</p>\n\n<p>(I'm in Xubuntu 14.04).</p>\n"},{"id":518728,"title":"MySQL: Can only login from command line or as root","body":"<p>I've been trying to solve this problem for the last 3h. I've just set up a MySQL server on my dedicated root server, running Ubuntu 14.04-minimal. I have no problem logging in as root anywhere - it works just fine on the command line, phpMyAdmin or a php-Script.</p>\n\n<p>Because I did not want to use all my scripts as the root user, I created a new one using this command:</p>\n\n<pre><code>GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER ON *.*\n'myUser'@'localhost' IDENTIFIED BY 'myPassword';\n</code></pre>\n\n<p>The user got successfully created and I can login with my password from the command line. However, it seems to be impossible to access MySQL with another user than root from something that is <strong>not</strong> the commandline. </p>\n\n<p>At first I thought it might be the common host problem, where you have to use <em>both</em> <code>%</code> and <code>localhost</code> in the mysql.user database in order to access it from outside the console. But this did not work. I even added the two host entries that the root-user also has (<code>hostname</code>, <code>::1</code>), but I always get the typical <code>Error #1045 - Cannot Log in to MySQL server</code>. What I've also tried is to directly connect in my scripts (or phpMyAdmin) to either the server's IP-Address or 127.0.01 instead of localhost - without success.</p>\n\n<p>So here is the current status:</p>\n\n<ul>\n<li>Login as <code>root</code> from the console: Works.</li>\n<li>Login as <code>root</code> from anything else: Works.</li>\n<li>Login as <code>myUser</code> from the console: Works.</li>\n<li>Login as <code>myUser</code> from anything else: <strong>Doesn't work</strong>.</li>\n</ul>\n\n<p>Does anyone have an idea what might cause this issue?</p>\n"},{"id":481928,"title":"MySQL takes ages to load (only when using WP)","body":"<p>I'm not sure what's happening but it's since a while that I'm experiencing using my dev site (running on a VM) on the local Ubuntu machine. \nThe site runs on a Wordpress instance using MySQL setup to use innodb table on a separate folder. \nI don't have permission problems, as far as I know. </p>\n\n<p>It I try to use MySQL CLI I can query the database without problems; the same using phpmyadmin.\nBut when it comes to access via the site it takes ages and more often than not I need to stop the service.</p>\n\n<p>And that's again another symptom something doesn't work as it should.\nStopping the service via <code>sudo service mysql stop</code> I can see it immediately stops (phpmyadmin can't log in anymore) but the command line prompt keep on hold like it is working.\nThe only way I have to get the CLI ready is to brutally stop the service with a CTRL+C.</p>\n\n<p>Any idea of what's wrong?\nThanks </p>\n"},{"id":464019,"title":"sometimes Can&#39;t connect to local MySQL server through socket &#39;/var/run/mysqld/mysqld.sock&#39;","body":"<p>I've got my application up and running, with rails on my ubuntu VPS in Linode with mysql. </p>\n\n<p>here's the version of mysql: </p>\n\n<pre><code>mysql  Ver 14.14 Distrib 5.5.35, for debian-linux-gnu (x86_64) using readline 6.2\n</code></pre>\n\n<p>It all generally work fine, except that, sometimes when I open a new rails console I get the following error: </p>\n\n<pre><code>/var/www/app/shared/bundle/ruby/2.0.0/gems/mysql2-0.3.14/lib/mysql2/client.rb:67:in `connect': Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2) (Mysql2::Error)\n    from /var/www/app/shared/bundle/ruby/2.0.0/gems/mysql2-0.3.14/lib/mysql2/client.rb:67:in `initialize'\n    from /var/www/app/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.16/lib/active_record/connection_adapters/mysql2_adapter.rb:16:in `new'\n    from /var/www/app/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.16/lib/active_record/connection_adapters/mysql2_adapter.rb:16:in `mysql2_connection'\n    from /var/www/app/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.16/lib/active_record/connection_adapters/abstract/connection_pool.rb:315:in `new_connection'\n    from /var/www/app/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.16/lib/active_record/connection_adapters/abstract/connection_pool.rb:325:in `checkout_new_connection'\n    from /var/www/app/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.16/lib/active_record/connection_adapters/abstract/connection_pool.rb:247:in `block (2 levels) in checkout'\n    from /var/www/app/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.16/lib/active_record/connection_adapters/abstract/connection_pool.rb:242:in `loop'\n    from /var/www/app/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.16/lib/active_record/connection_adapters/abstract/connection_pool.rb:242:in `block in checkout'\n    from /home/user/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/2.0.0/monitor.rb:211:in `mon_synchronize'\n    from /var/www/app/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.16/lib/active_record/connection_adapters/abstract/connection_pool.rb:239:in `checkout'\n    from /var/www/app/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.16/lib/active_record/connection_adapters/abstract/connection_pool.rb:102:in `block in connection'\n    from /home/user/.rvm/rubies/ruby-2.0.0-p353/lib/ruby/2.0.0/monitor.rb:211:in `mon_synchronize'\n</code></pre>\n\n<p>and from them all attempts to enter the console fail. why the application still works fine and it's still using the database. </p>\n\n<p>If I do in a shell: </p>\n\n<pre><code>$ sudo /etc/init.d/mysql status\n * MySQL is stopped.\n$ sudo /etc/init.d/mysql stop\n * Stopping MySQL database server mysqld ... [ OK ] \n$ sudo /etc/init.d/mysql start\n * Starting MySQL database server mysqld ... [fail] \n</code></pre>\n\n<p>but the application keeps working fine all the time. </p>\n\n<p>The <code>/var/log/mysql/error.log</code> was empty before these three commands, after them I read: </p>\n\n<pre><code>140510 19:14:32 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql\n140510 19:14:32 [Warning] Using unique option prefix key_buffer instead of key_buffer_size is deprecated and will be removed in a future release. Please use the full name instead.\n140510 19:14:32 [Warning] Using unique option prefix myisam-recover instead of myisam-recover-options is deprecated and will be removed in a future release. Please use the full name instead.\n140510 19:14:32 [Note] Plugin 'FEDERATED' is disabled.\n140510 19:14:32 InnoDB: The InnoDB memory heap is disabled\n140510 19:14:32 InnoDB: Mutexes and rw_locks use GCC atomic builtins\n140510 19:14:32 InnoDB: Compressed tables use zlib 1.2.8\n140510 19:14:32 InnoDB: Using Linux native AIO\n140510 19:14:32 InnoDB: Initializing buffer pool, size = 128.0M\n140510 19:14:32 InnoDB: Completed initialization of buffer pool\nInnoDB: Unable to lock ./ibdata1, error: 11\nInnoDB: Check that you do not already have another mysqld process\nInnoDB: using the same InnoDB data or log files.\n140510 19:14:32  InnoDB: Retrying to lock the first data file\nInnoDB: Unable to lock ./ibdata1, error: 11\nInnoDB: Check that you do not already have another mysqld process\n..... several thousands of these lines... \nInnoDB: Check that you do not already have another mysqld process\nInnoDB: using the same InnoDB data or log files.\nInnoDB: Unable to lock ./ibdata1, error: 11\nInnoDB: Check that you do not already have another mysqld process\nInnoDB: using the same InnoDB data or log files.\nInnoDB: Unable to lock ./ibdata1, error: 11\nInnoDB: Check that you do not already have another mysqld process\nInnoDB: using the same InnoDB data or log files.\n140510 19:16:12  InnoDB: Unable to open the first data file\nInnoDB: Error in opening ./ibdata1\n140510 19:16:12  InnoDB: Operating system error number 11 in a file operation.\nInnoDB: Error number 11 means 'Resource temporarily unavailable'.\nInnoDB: Some operating system error numbers are described at\nInnoDB: http://dev.mysql.com/doc/refman/5.5/en/operating-system-error-codes.html\n140510 19:16:12 InnoDB: Could not open or create data files.\n140510 19:16:12 InnoDB: If you tried to add new data files, and it failed here,\n140510 19:16:12 InnoDB: you should now edit innodb_data_file_path in my.cnf back\n140510 19:16:12 InnoDB: to what it was, and remove the new ibdata files InnoDB created\n140510 19:16:12 InnoDB: in this failed attempt. InnoDB only wrote those files full of\n140510 19:16:12 InnoDB: zeros, but did not yet use them in any way. But be careful: do not\n140510 19:16:12 InnoDB: remove old data files which contain your precious data!\n140510 19:16:12 [ERROR] Plugin 'InnoDB' init function returned error.\n140510 19:16:12 [ERROR] Plugin 'InnoDB' registration as a STORAGE ENGINE failed.\n140510 19:16:12 [ERROR] Unknown/unsupported storage engine: InnoDB\n140510 19:16:12 [ERROR] Aborting\n\n140510 19:16:12 [Note] /usr/sbin/mysqld: Shutdown complete\n\n140510 19:16:12 mysqld_safe mysqld from pid file /var/run/mysqld/mysqld.pid ended\n</code></pre>\n\n<p>Only rebooting the VPS seems to solve the issue, which comes back after one or two console connections. </p>\n\n<p>I figured that shutting down Mysql from <code>init.d</code> doesn't shut it down, to stop it I need to <code>kill</code> it, then it automatically respawns. </p>\n\n<pre><code>$ ps -ef | grep mysq[l]\nmysql    31063     1  0 May19 ?        00:00:34 /usr/sbin/mysqld\n$ sudo /etc/init.d/mysql stop\n * Stopping MySQL database server mysqld                                 [ OK ] \n$ ps -ef | grep mysq[l]\nmysql    31063     1  0 May19 ?        00:00:34 /usr/sbin/mysqld\n$ sudo kill -9 31063\n$ ps -ef | grep mysq[l]\nmysql     6052     1  3 09:23 ?        00:00:00 /usr/sbin/mysqld\n$ \n</code></pre>\n\n<p>any clue? </p>\n"},{"id":136417,"title":"MySQL access via PHP doesn&#39;t find database","body":"<p>I installed apache2, php5, mysql-server, php5-mysql, phpmyadmin in that order on Ubuntu 12.04 with the Software Center.\nApache and PHP works fine, no problems. Also, if I try to work with MySQL via phpmyadmin, everything works as expected. Problems start, when I want to use MySQL via PHP. For this I tried the following script:</p>\n\n<pre><code>$connection = mysql_connect($host, $user, $pw) OR die(mysql_errno().\" \".mysql_error());\nmysql_select_db($db, $connection) OR die(mysql_errno().\" \".mysql_error());\n</code></pre>\n\n<p>This returns \"1046 No database selected\". I'm sure that the database exists, I even tried it with the standard \"test\"-database and root as the user. What made me really curious, is that when I use a non-existent user (\"asdf\"), the same message appears and no failure from the mysql_connect-function.</p>\n\n<p>This leads me to the suspicion, that I struggle with user rights in the Linux system, because it works with phpmyadmin, which is not installed via a webinstaller but via the Software Center. I can only guess that hence, phpmyadmin has other rights to access MySQl than PHP, but I don't know, how to approach the problem. After trying and googleing for hours, I feel a bit lost now. Please help me.</p>\n"}]}]