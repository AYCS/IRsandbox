[{"id":715439,"title":"Slow text rendering (scrolling) in several editors after enabling dynamic power management","body":"<p>I'm running Ubuntu 14.04 LTS on an HP EliteBook 8530p laptop. Ever since I found out how to enable the <a href=\"https://help.ubuntu.com/community/RadeonDriver#Power_Management\" rel=\"nofollow\">dynamic power management</a> on the open source radeon driver, it helped greatly to reduce temperature and increase battery life, but the switch between performance modes became visible in some cases.</p>\n\n<p>So far, it's only these two programs: gedit and CodeLite</p>\n\n<p>I have a <code>.txt</code> file with ~200 lines, I open it with one of these, and scroll with a scrollbar. It lags at first, but then it continues smoothly. If I stop scrolling and then start again, same thing. If the window is only 1/4 of the screen it isn't noticeable. Similarly, setting a larger monospace font makes it lag less (fewer lines/rows to render).</p>\n\n<p>It's really just gedit and CodeLite I am experiencing this in. Scrolling over a text in Geany, GVim, Emacs, unity terminal or Google Chrome is flawless. Before I knew how to enable DPM, I tried <a href=\"http://askubuntu.com/questions/149915/tweaks-and-configuration-for-radeon-open-source-driver\">setting the power profile</a> to <code>low</code>, but it was extremely unstable and scrolling was lagging completely. I don't remember it lagging with <code>mid</code> power profile, which I used for a while after that.</p>\n\n<p>It seems that text rendering in these two programs is (unnecessarily) expensive and requires setting GPU clock to higher frequencies. However, is there something I can do about it?</p>\n\n<p>GPU information (<code>lshw -C display</code>):</p>\n\n<pre><code>  *-display\n       description: VGA compatible controller\n       product: RV635/M86 [Mobility Radeon HD 3650]\n       vendor: Advanced Micro Devices, Inc. [AMD/ATI]\n       physical id: 0\n       bus info: pci@0000:01:00.0\n       version: 00\n       width: 64 bits\n       clock: 33MHz\n       capabilities: pm pciexpress msi vga_controller bus_master cap_list rom\n       configuration: driver=radeon latency=0\n       resources: irq:32 memory:c0000000-cfffffff memory:d8300000-d830ffff ioport:7000(size=256) memory:d8320000-d833ffff\n</code></pre>\n\n<p>Please, if you need more info, comment, and I'll edit it in.</p>\n","related_questions":[{"id":656427,"title":"Lenovo G510 can&#39;t use Radeon graphics, fglrx or switcheroo","body":"<p>I have only been using Ubuntu 14.04 for a few weeks and really enjoying it. My first time using Linux and I'm really impressed at how easy it has been to learn a new operating system while still maintaining functionality for my daily tasks.</p>\n\n<p>However, I spent extra cash on this machine for the video card. I can play the games I want on linux but I am not getting the performance I should be.</p>\n\n<p>Installing the fglrx using Additional Drivers or downloading the latest from AMD kills the system and I have to use the bootloader to get a command prompt to run <code>apt-get purge fglrx*</code> to get back to a desktop. I suspect this is because the machine isn't using the Radeon card at all and the fglrx drivers are completely wrong for the integrated Intel GPU.</p>\n\n<p>If I run: <code>lspci | grep VGA</code> - Can only see one graphics card</p>\n\n<blockquote>\n  <p>00:02.0 VGA compatible controller: Intel Corporation 4th Gen Core Processor Integrated Graphics Controller (rev 06)</p>\n</blockquote>\n\n<p>But <code>sudo lshw -c display</code> shows both:</p>\n\n<blockquote>\n  <p><p>*-display<br>\n         description: Display controller\n         product: Mars [Radeon HD 8670A/8670M/8750M]\n         vendor: Advanced Micro Devices, Inc. [AMD/ATI]\n         physical id: 0\n         bus info: pci@0000:01:00.0\n         version: 00\n         width: 64 bits\n         clock: 33MHz\n         capabilities: pm pciexpress msi bus_master cap_list rom\n         configuration: driver=fglrx_pci latency=0\n         resources: irq:16 memory:b0000000-b7ffffff memory:b8000000-b803ffff ioport:4000(size=256) memory:b8040000-b805ffff</p>\n    *-display UNCLAIMED\n         description: VGA compatible controller\n         product: 4th Gen Core Processor Integrated Graphics Controller\n         vendor: Intel Corporation\n         physical id: 2\n         bus info: pci@0000:00:02.0\n         version: 06\n         width: 64 bits\n         clock: 33MHz\n         capabilities: msi pm vga_controller bus_master cap_list\n         configuration: latency=0\n         resources: memory:b9000000-b93fffff memory:a0000000-afffffff ioport:5000(size=64)</p>\n</blockquote>\n\n<p>Additional drivers shows the AMD/ATI using xorg-server-video-ati but the <em>Settings -> Details</em> shows Intel Haswell Mobile.</p>\n\n<p>after I added modeset=1 to /etc/default/grub (updated grub) and with root</p>\n\n<pre><code>cat /sys/kernel/debug/vgaswitcheroo/switch\n\n0:IGD:+:Pwr:0000:00:02.0\n1:DIS: :DynOff:0000:01:00.0\n</code></pre>\n\n<p>But this does nothing, I still get the same output with the above command:</p>\n\n<pre><code>echo ON &gt; /sys/kernel/debug/vgaswitcheroo/switch\n</code></pre>\n\n<p>contents of /etc/default/grub</p>\n\n<blockquote>\n  <p>GRUB_DEFAULT=0 <br> \n  GRUB_HIDDEN_TIMEOUT=0 <br>\n  GRUB_HIDDEN_TIMEOUT_QUIET=true <br>\n  GRUB_TIMEOUT=10 <br>\n  GRUB_DISTRIBUTOR='lsb_release -i -s 2> /dev/null || echo Debian' <br>\n  GRUB_CMDLINE_LINUX_DEFAULT=\"quiet splash\" <br>\n  GRUB_CMDLINE_LINUX=\"modeset=1\" <br></p>\n</blockquote>\n\n<p>Since adding modeset=1 my laptop is running much cooler. The fan hasn't even come on while I made this post. So I think both cards were powered before but not using the Radeon.</p>\n\n<p>I have been at this for a while now and read many similar questions on this site and tried to use them to help me without success. </p>\n\n<p>How can I take advantage of my Radeon card? </p>\n\n<p>EDIT:</p>\n\n<p>after a reboot I had an error which said xorg crashed with SIBABRT. I thought this might be why I couldn't power up the second graphics card. So I ran <code>sudo dpkg-reconfigure xserver-xorg</code> and received a message saying xserver-xorg was not installed.\nIf I try <code>sudo apt-get install xserver-xorg</code> the message is unity-control-centre has unmet dependencies - libcheese-gtk23 and libcheese7 but they are not going to be installed. If I try to install them it says the latest version is already installed. </p>\n\n<p>Also tried restarting xserver thinking, there is now way it is not installed, how else could it crash, with <code>sudo service lightdm restart</code> which left me with a black screen. After restarting, there was no xserver crash error but I still can't use vgaswitcheroo. Possibly I can't use switcheroo at all because there's every chance I don't have a hardware mux.</p>\n"},{"id":688747,"title":"Ubuntu 15.10 Release fglrx issue","body":"<p>Just upgraded from 15.04 to 15.10 via <code>apt-get dist-upgrade</code>. Nothing was customized, everything running from official repos.   </p>\n\n<p>Before upgrade I already purged all <code>fglrx</code> proprietary driver from the system and running on standard <code>radeon</code> driver. </p>\n\n<p>The upgrade went successful and after booting into new 15.10 im installing fglrx again via <code>Software &amp; Updates</code> for proprietary driver, no errors installation was success.</p>\n\n<p>However during booting up to make the driver kicks in, the booting stucked at below error:</p>\n\n<p><code>fb: switching to fglrxdrmfb from EFI VGA</code></p>\n\n<p>My display:</p>\n\n<pre>\n\nroot@mylenovo:/etc/apt/sources.list.d# lshw -c display\n  *-display               \n       description: VGA compatible controller\n       product: Mullins [Radeon R4/R5 Graphics]\n       vendor: Advanced Micro Devices, Inc. [AMD/ATI]\n       physical id: 1\n       bus info: pci@0000:00:01.0\n       version: 00\n       width: 64 bits\n       clock: 33MHz\n       capabilities: pm pciexpress msi vga_controller bus_master cap_list rom\n       configuration: driver=radeon latency=0\n       resources: irq:37 memory:e0000000-efffffff memory:f0000000-f07fffff ioport:3000(size=256) memory:f0c00000-f0c3ffff memory:f0800000-f081ffff\n\n</pre>\n\n<p>Any thing that I missed causing <code>fglrx</code> not to work?</p>\n"},{"id":668598,"title":"Wireless on Ubuntu 14.04 not working all the time","body":"<p>This is my wireless driver:</p>\n\n<blockquote>\n  <p>product: BCM4313 802.11bgn Wireless Network Adapter vendor: Broadcom\n  Corporation physical id: 0 bus info: pci@0000:02:00.0 version: 01\n  width: 64 bits clock: 33MHz capabilities: pm msi pciexpress bus_master\n  cap_list configuration: driver=bcma-pci-bridge latency=0 resources:\n  irq:17 memory:50500000-50503fff</p>\n</blockquote>\n\n<p>I have tried using the open source B43, and it works fine at my home but not at my work place. Any help would be appreciated.</p>\n"},{"id":664170,"title":"Display turns off after Ubuntu system loading step","body":"<p>I encounter this problem with <code>Ubuntu 14.04 and 15.04</code>.</p>\n\n<p>My notebook display works properly with other OS.</p>\n\n<p>When I boot Ubuntu , loading logo looks and after loading step display turns off. I have tested with AMD driver and the problem solved.</p>\n\n<p>But I don't want to use AMD driver.</p>\n\n<p>Because it has other problems. I think current driver (Gallium 0.4) has problem or there is a problem about X Server.</p>\n\n<p>So what should I do ?</p>\n\n<blockquote>\n  <p><strong>Graphics Driver</strong> : <em>Gallium 0.4 on AMD SUMO</em></p>\n  \n  <p><strong>Display adapters</strong> :</p>\n  \n  <p>00:01.0 VGA compatible controller: Advanced Micro Devices, Inc.\n  [AMD/ATI] BeaverCreek [Radeon HD 6520G]</p>\n  \n  <p>01:00.0 VGA compatible controller: Advanced Micro Devices, Inc.\n  [AMD/ATI] Seymour [Radeon HD 6400M/7400M Series] (rev ff)</p>\n  \n  <p><strong>Display info</strong> : </p>\n  \n  <p>*-display<br>\n         description: VGA compatible controller\n         product: BeaverCreek [Radeon HD 6520G]\n         vendor: Advanced Micro Devices, Inc. [AMD/ATI]\n         physical id: 1\n         bus info: pci@0000:00:01.0\n         version: 00\n         width: 32 bits\n         clock: 33MHz\n         capabilities: pm pciexpress msi vga_controller bus_master cap_list rom\n         configuration: driver=radeon latency=0\n         resources: irq:36 memory:b0000000-bfffffff ioport:7000(size=256) memory:d8100000-d813ffff</p>\n</blockquote>\n"},{"id":647456,"title":"intel graphics on ubuntu 14.04","body":"<p>I've upgraded my Dell optiplex 9020 to 14.04, and cannot get a proper display driver (resolution stuck at 1024x768, with no other options).</p>\n\n<p>My device in lspci:\n00:02.0 VGA compatible controller [0300]: Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor Integrated Graphics Controller [8086:0412] (rev 06) (prog-if 00 [VGA controller])</p>\n\n<p>lshw -c display\n  *-display UNCLAIMED<br>\n       description: VGA compatible controller\n       product: Xeon E3-1200 v3/4th Gen Core Processor Integrated Graphics Controller\n       vendor: Intel Corporation\n       physical id: 2\n       bus info: pci@0000:00:02.0\n       version: 06\n       width: 64 bits\n       clock: 33MHz\n       capabilities: msi pm vga_controller bus_master cap_list\n       configuration: latency=0\n       resources: memory:f7800000-f7bfffff memory:e0000000-efffffff ioport:f000(size=64)</p>\n\n<p>I downloaded from 01.org and ran intel-linux-graphics-installer, but all it gives me is an error about no i915 chipset.</p>\n\n<p>Any ideas?</p>\n"},{"id":616602,"title":"Can&#39;t install nvidia drivers on a 2 card laptop for xubuntu 14.04","body":"<p>I just installed xubuntu 14.04 on an asus gl771j laptop. \nIt comes with an integrated intel video card and another nvidia 860m video card.\nI open the additional drivers setting window and I get \"no additional drivers available\"\n<img src=\"http://i.stack.imgur.com/qysJD.png\" alt=\"enter image description here\"></p>\n\n<p>I got as far as getting this information, but that's it</p>\n\n<pre>sudo lshw -c video\n  *-display UNCLAIMED     \n       description: 3D controller\n       product: GM107M [GeForce GTX 860M]\n       vendor: NVIDIA Corporation\n       physical id: 0\n       bus info: pci@0000:01:00.0\n       version: a2\n       width: 64 bits\n       clock: 33MHz\n       capabilities: pm msi pciexpress cap_list\n       configuration: latency=0\n       resources: memory:f6000000-f6ffffff memory:e0000000-efffffff memory:f0000000-f1ffffff ioport:e000(size=128) memory:f7000000-f707ffff\n  *-display\n       description: VGA compatible controller\n       product: 4th Gen Core Processor Integrated Graphics Controller\n       vendor: Intel Corporation\n       physical id: 2\n       bus info: pci@0000:00:02.0\n       version: 06\n       width: 64 bits\n       clock: 33MHz\n       capabilities: msi pm vga_controller bus_master cap_list rom\n       configuration: driver=i915 latency=0\n       resources: irq:53 memory:f7400000-f77fffff memory:d0000000-dfffffff ioport:f000(size=64)</pre>\n\n<p>How can I install the nvidia drivers?</p>\n\n<p>Thanks in advance.</p>\n"},{"id":538975,"title":"Enable proprietary driver option disappeared after enabling it for AMD ATI Mobility Radeon HD 4330","body":"<p>I've been struggling with this a while. I have an older Acer Aspire 5810T with a AMD ATI Mobility Radeon HD 4330 inside it. I've disabled the switchable option and am now only running the HD4330 card, but I'm having trouble with the driver.</p>\n\n<p>I'm running XUbuntu 12.04.5 and I've installed the legacy catalyst 13.1 driver which I manually downloaded from the AMD/ATIs website.</p>\n\n<p>All good so far, it installs fine, except it says \"loki_setup (null)\". Don't really know what that means but dont think it matters very much.</p>\n\n<p>All right, so I have the AMD Catalyst center installed and I can start games like Dota 2 which I couldn't before (Although the performance is way worse than when I used to run Windows 7. Really not playable honestly) - but now suddenly a Proprietary Driver shows up in the Additional Drivers app. Note that before installing the Legacy 13.1 thingy there was nothing there. Further it says that it's not enabled, so I try to enable it. That seemingly works, and it asks me to reboot - which I do. Now when I fire up Additional Drivers again, its gone. I can't remember exactly, but the name was something like </p>\n\n<blockquote>\n  <p>FGLRX ATI/AMD ... </p>\n</blockquote>\n\n<p>Also I can't start the AMD catalyst control centre anymore, and I get the error: </p>\n\n<blockquote>\n  <p>There was a problem initializing Catalyst Control Center Linux edition. It could be caused by the following.</p>\n  \n  <p>No AMD graphics driver is installed, or the AMD driver is not functioning properly. Please install the AMD driver appropriate for you AMD hardware, or configure using aticonfig.</p>\n</blockquote>\n\n<p>Now if I try to run aticonfig, it says:</p>\n\n<blockquote>\n  <p>aticonfig: No supported adapters detected</p>\n</blockquote>\n\n<p>So. Is this something I should be worried about? Should I have enabled the driver in the Additional Drivers app at all, or is the driver already enabled when I install with the legacy .run file?</p>\n\n<p>EDIT:\nAlso, now when I try to start Steam I get:</p>\n\n<blockquote>\n  <p>glXChooseVisual failed</p>\n</blockquote>\n\n<p>When I check lshw I get this:</p>\n\n<blockquote>\n  <p>*-display UNCLAIMED\n  description: VGA compatible controller\n  product: RV710/M92 [Mobility Radeon HD 4330/4350/4550]\n  vendor: Hynix Semiconductor (Hyundai Electronics)\n  physical id: 0\n  bus info: pci@0000:01:00.0\n  version: 00\n  width: 32 bits\n  clock: 33MHz\n  capabilities: vga_controller bus_master cap_list\n  configuration: latency=0\n  resources: memory:c0000000-cfffffff ioport:4000(size=256) memory:d4000000-d400ffff memory:d4020000-d403ffff</p>\n</blockquote>\n"},{"id":72250,"title":"Enabling the power management for SATA link","body":"<p>After tearing down my laptop, I came to know that most of the heating issue in my laptop is caused by HDD. <code>Powertop</code> is also showing the same problem. I am seeing significantly cooling after activating the power saving mode using the <code>powertop</code> but it is not permanent. In next <code>reboot</code> it will again reset.</p>\n\n<pre><code>&gt;Powertop output:\nBad           Enable SATA link power management for /dev/sda\n</code></pre>\n\n<p>I have already activated the <code>laptop-mode</code> tool and set all the HDD power option in <code>laptop-mode.conf</code> file, but non of them resolving my problem.</p>\n\n<p>How can I make the <code>powertop</code> suggestion permanent?</p>\n"},{"id":484656,"title":"Is Radeon Dynamic Power Management Enabled By Default By Now?","body":"<p>I keep reading that it is, that it isn't. That it was supposed to be enabled by default in the Linux kernel version 3.13 or 3.14, or in Ubuntu 14.04. Or do you still have to follow <a href=\"https://help.ubuntu.com/community/RadeonDriver#Power_Management\" rel=\"nofollow\">these steps</a> to enable it?</p>\n\n<p>I'm considering upgrading from Ubuntu 12.04 to 14.04 just for this feature.</p>\n\n<p>It's just hard to find a straight answer online.</p>\n"},{"id":267374,"title":"Inspiron 7520 Power Management 12.10 after sleep mode","body":"<p>I use an inspiron 7520; i7 3rd generation, AMD Radeon HD 7730m w/ intel 4000hd</p>\n\n<p>I have noticed that my batttery life radically change when I awake my computer from sleep. When I just boot yp my computer, I have close 4 hours battery life, then if i awake the computer I have 2 hours. Weird eh?</p>\n\n<p>oh by the way! I am using Jupiter to help.</p>\n"}]}]