[{"id":714999,"title":"How to change owner to default?","body":"<p><em>I am new in Ubuntu, and I am a web developer.</em></p>\n\n<p>I was making a page website returned an error and said you need permission and something about <em><code>chmod()</code></em></p>\n\n<p>Then I asked a friend what to do for the <strong><code>chmod</code></strong> error, he told me a command and I just tried that in Terminal. <strong><em>But the command has a problem and changed owner of my computer to something else</em></strong>!</p>\n\n<p>This is the commend:</p>\n\n<pre><code>sudo chown www-data:www-data -R /*\n</code></pre>\n\n<p>This changed the owner (and group) of my computer to \"<strong><em>www-data</em></strong>\"</p>\n\n<p>Now I can't open my programs <em>(my editor is updating indexes ....)</em>, then now I can't use my computer <em>(even if I close Firefox now, I can't open itagain!)</em>.</p>\n\n<p><strong>How to return to my own username?</strong></p>\n","related_questions":[{"id":676515,"title":"How to give permission to execute Eclipse application?","body":"<p>This one has confused me for a couple of hours.<br>\nI know the command <code>sudo chmod +x file</code> to give executable permissions, and still I don't get my application to run.  </p>\n\n<p>For context, I installed Eclipse manually and in the <code>/opt/</code> folder.  I created a link to <code>/usr/bin/</code> and a <code>/usr/share/applications/eclipse.desktop</code> file with the data to start from the launcher. </p>\n\n<p>When I run <code>sudo eclipse</code> the program starts normally, but if I don't includo <code>sudo</code> then it gives me an error.  I tried giving permissions via <code>chmod +x</code> to all of the above, but I still get the error if I don't includo <code>sudo</code>. </p>\n\n<p>This may be either a permission issue or an Eclipse issue.  There is an error for <code>Permission denied</code>, and also the message </p>\n\n<pre><code>The Eclipse executable launcher was unable to locate its companion shared library.\n</code></pre>\n\n<p>Hope someone can point me in the right direction. </p>\n"},{"id":676481,"title":"chmod: Everything on SD Card Stuck On 755, Owner is Root","body":"<p>I am trying to access my SD card as a general user after it somehow changed to just Root access. I have tried several solutions, and none of them worked. Here is an attempt to chown eveything to ubuntu (Using a live USB here):</p>\n\n<pre><code>$ sudo chown ubuntu -R  /media/ubuntu\nchown: changing ownership of ‘/media/ubuntu/JUSTADOO444/(Every single file/folder)’: Operation not permitted\nchown: changing ownership of ‘/media/ubuntu/JUSTADOO444’: Operation not permitted\n</code></pre>\n\n<p>And after an attempt to chmod everything to 777:</p>\n\n<p>Command: </p>\n\n<pre><code>$ sudo chmod 777 /media/ubuntu/ -v -R\nmode of ‘/media/ubuntu/JUSTADOO444/(Everything)’ changed from 0755 (rwxr-xr-x) to 0777 (rwxrwxrwx)\n</code></pre>\n\n<p>And after a quick <code>ls -l</code>:</p>\n\n<pre><code>drwxr-xr-x  5 root root     4096 Sep  8 18:54 Sample Folder (Name Changed)\n-rwxr-xr-x  1 root root  4402055 Sep 16 11:53 Sample Presentation.odp\n</code></pre>\n\n<p>This is getting on my nerves. I have to use sudo before every single thing I try to do to my SD card. (It has a LOT of data on it, too, and I am unlucky enough to not have a space to backup. If only my 16gb flash drive wasn't being used for Ubuntu booting only...)</p>\n"},{"id":667024,"title":"sudo: /var/lib/sudo writable by non-owner (040777), should be mode 0700","body":"<p>I get error message  always when i work with <code>sudo</code> command.\n It shows always <code>sudo: /var/lib/sudo writable by non-owner (040777), should be mode 0700</code>. \nA while ago i changed the permission of <code>/var</code> folder to <code>777</code>. </p>\n\n<p>How can i fix it?</p>\n"},{"id":58119,"title":"Changing permissions on serial port","body":"<p>I'm using the Arduino IDE in Ubuntu, and am having issues with the serial port. It has worked in the past, but for reasons that may be unnecesary, I felt the need to change the ownership of some of the files from root ownership to my users ownership.</p>\n\n<p>This made the IDE work correctly, but I lost the ability to use the correct serial port.  In the dev folder, the port I need is listed as permission 166. Someone (who is no longer in the area to help me) swapped the permissions to 666, which made it all work gloriously.</p>\n\n<p>However, it reverted back as soon as I restarted my computer, and if I now try to use the command:</p>\n\n<pre><code>sudo chmod 666 ttyACM0\n</code></pre>\n\n<p>nothing happens. No error messages, but no permission change either.  </p>\n\n<p>How can I change it, and how can I get it to change permanently.</p>\n\n<p>I apologize if this question is overly simplistic or unclear, I'm an ubuntu noob, and I wouldn't begrudge feedback!</p>\n"},{"id":571089,"title":"Cannot edit php5.fcgi owned by Me with RWX owner permissions","body":"<p>Ok, I kind of thought I understood Linux permissions and then I encountered this one.</p>\n\n<p>I am running Ubuntu 14.04 LTS in a virtualbox on my Windows 7 pro laptop.  All udpates are applied to windows, virtualbox and ubuntu.</p>\n\n<p>I have used the virtualmin 4.12 gpl install script to set up virtual hosting - again, all updates have been applied.</p>\n\n<p>I want to edit the php5.fcgi file in /home/staging/fcgi-bin to extend the timeout values controlling the php5 script executions.  when using ls -l the directory /home/staging/fcgi-bin is owned by staging:staging and permissions are drwxr-xr-x and the file php5.fcgi is owned by staging:staging with permissions -rwxr-xr-x.  WHen looking at them via the files gui they both show up as owned by \"Me\" and grouped in staging with the same permissions that ls -l shows. Through files the directory does not show any lock but the php5.fcgi has a small lock icon overlaying the file icon.</p>\n\n<p>Ok, I can open, read and find the file, I believe that I can execute it as that is how my php scripts are run.  However, I cannot save any changes through gedit or nano even when I use sudo to run them.  gedit always shows the save icon as greyed out/not available.  nano reads the file in and allows me to modify it but when I try to save it I get a permission denied error.</p>\n\n<p>I tried to rename and change the ownership and permissions but mv, sudo mv, chown, chmod, sudo chown and sudo chmod all fail with operation not allowed.</p>\n\n<p>When I look to see if the file is opened with lsof | grep \"php\" I get nothing listed and I think this means the file is not opened.</p>\n\n<p>So I am baffled and really could use some help.  I do not understand how the file gets locked if it is not open and I do not understand why I cannot modify the file in any manner if I am the owner of the file and have rwx permission.</p>\n"},{"id":504151,"title":"How to prevent directory from being deleted by user?","body":"<p>Suppose a directory <code>dir1</code> is created by <code>sudo</code> on Desktop.</p>\n\n<pre><code>sudo mkdir dir1\n</code></pre>\n\n<p>Then I applied <code>chown</code> and <code>chmod</code> as following:</p>\n\n<pre><code>sudo chown root:root dir1\nsudo chmod go-rwx dir1\n</code></pre>\n\n<p>Now <code>dir1</code> is only accessible with owner <code>root</code>.</p>\n\n<pre><code>$ ls -ld dir1\ndrwx------ 2 root root 4096 Jul 29 19:21 dir1\n</code></pre>\n\n<hr>\n\n<p>If user (<code>$USER</code> = <code>pandya</code>) try to delete <code>dir1</code> with <strong>GUI nautilus (without <code>sudo</code>)</strong>, then he can't <strong>which is ok</strong>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/SQ6SQ.png\" alt=\"enter image description here\"></p>\n\n<p><strong>But if tried to remove with terminal then he can which is not ok:-</strong></p>\n\n<ul>\n<li><p><strong><code>rm -r</code> (without <code>sudo</code>):</strong></p>\n\n<pre><code> $ rm -r dir1\n rm: descend into write-protected directory ‘dir1’? Y\n rm: remove write-protected directory ‘dir1’? Y\n $\n</code></pre></li>\n<li><p><strong>And more easily with <code>rmdir</code> ! (without sudo):</strong></p>\n\n<pre><code>$ rmdir dir1\n$ \n</code></pre></li>\n</ul>\n\n<hr>\n\n<p><strong>Thus, How to prevent <code>dir1</code> to be delete with user than not <code>sudo</code>?</strong></p>\n\n<p>[optional]<br>\nMy ultimate aim is: Only owner can delete directory, group and other only can read/execute.</p>\n"},{"id":342791,"title":"File permissions won&#39;t change","body":"<p>sorry fresh user. I installed about 9 days ago and had issues with Unity disappearing which took 5 days of headaches to fix. It never did fix, I reinstalled. </p>\n\n<p>I set up Plex (media server) and while the server is running and can be accessed by external network devices, I can't add files. Plex says this is because of permissions. I have gone up and down the forums here and at Plex to get an answer. It seems everyone says </p>\n\n<pre><code>chmod -R 755 /media/My\\ Book/Videos\n</code></pre>\n\n<p>will change permissions to allow the folder \"Videos\" on my external USB 2.0 NTFS 3TB Western Digital drive (which is mounted and accessible through the file manager) as well as every sub-directory and file contained therein to be accessible to user \"Plex\".</p>\n\n<p>I have used file manager and as soon as you click to change permissions it changes right back. When I chmod with -c it tells me every file is changed (usually 600) to 755 as I commanded it to do. I did </p>\n\n<pre><code>ls -l\n</code></pre>\n\n<p>to verify and there is no change. (I also used ls -l to make sure I knew who the owner was and it is me (mvl1014). ls -al gives me the same info.)</p>\n\n<p>I swear to god I tried to sudo it and after smashing my head against this keyboard for basically the entirety of my day, I tried it as root. I was scared shi-less but couldn't come up with anything else. sudo su to root and then chmod -R -c /media/My\\ Book/Videos</p>\n\n<p>Same result. -c told me every single file was changed and a check in Unity or in terminal confirmed not a darn thing changed.</p>\n\n<p>Now it seems to me that even if that isn't the thing stopping Plex from working there is still a problem with this command not going through.</p>\n\n<p>12.04LTS -- on gen 1 i7 (2.7 GHz I believe) with 6 GB ram </p>\n\n<p>I've attempted to attach a screenshot but I'm told I need 10 reps to do so, which means I'm copy/pasting too.</p>\n\n<p>Please excuse my obfuscation, but Lorem Ipsum seemed unnecessary. And I tried multiple ways to format this but it looks perfect every way and messed up each time in the preview below. (Ugh, I'm a mess.)</p>\n\n<pre><code>$ chmod -R -c 755 /media/My\\ Book/Videos \n..... \n..... \n..... \nmode of `/media/My Book/Videos/xxxx/xxxx/xxxx.mkv' changed from 0600 (rw-------) to 0755 (rwxr-xr-x) \n</code></pre>\n\n<p><code>ls -al</code> shows:</p>\n\n<pre><code>mvl1014@FX6800:/media/My Book/Videos$ ls -al \n\ntotal 88 \ndrwx------ 1 mvl1014 mvl1014     0 Aug 28 15:17 .  \ndrwx------ 1 mvl1014 mvl1014 20480 Sep  3 14:29 .. \ndrwx------ 1 mvl1014 mvl1014  8192 Aug 28 15:18 xxxx\ndrwx------ 1 mvl1014 mvl1014 49152 Aug 16 14:02 xxxx\ndrwx------ 1 mvl1014 mvl1014  8192 Aug 27 21:36 xxxx\ndrwx------ 1 mvl1014 mvl1014  4096 Jul 23 19:09 xxxx\n</code></pre>\n\n<p>I apologize if this has been asked. I looked through this place plus at all the suggested \"Similar Questions\". The closet thing I got to an answer <a href=\"http://askubuntu.com/a/86968/191007\">was here</a>, but running the provided code with my own UID didn't work either.</p>\n"},{"id":461959,"title":"Repair filesystem permission","body":"<p>I accidentally executed </p>\n\n<blockquote>\n  <p>sudo chmod -R 777 /</p>\n</blockquote>\n\n<p>I was actually trying to change a specific folder permission recursively, btw i did stop the command before it changed everything.</p>\n\n<p>But now, i can't execute for example </p>\n\n<blockquote>\n  <p>sudo</p>\n</blockquote>\n\n<p>Every time i try to sudo something it throws me this error:</p>\n\n<blockquote>\n  <p>effective uid is not 0, is sudo installed setuid root?</p>\n</blockquote>\n\n<p>Btw i know i can use <code>chown -R root:root /usr/bin</code> where sudo is located, but of course i don't have the permissions to do this.</p>\n\n<p>So, how can i revert this process? Or at least save the <code>sudo</code> file without reinstalling everything?</p>\n\n<p>The system is still connected to the internet and seems to work fine besides the sudo issue.</p>\n\n<p>Thanks in advance.</p>\n"},{"id":21985,"title":"Default file permissions for php user www-data","body":"<p>I have a php installed on my ubuntu machine. The web root is <code>/var/www</code></p>\n\n<p>I set the permissions for this folder like so:</p>\n\n<blockquote>\n  <p>sudo chown -R ftpuser:www-data /var/www</p>\n</blockquote>\n\n<p>ftpuser is the user I set up so I can ftp to /var/www from another machine on the network. www-data is the user php uses. I double checked using <code>whoami</code> from php.</p>\n\n<p>Whenever I ftp upload a new file to the machine the group has no permissions to the file. So when I try to access it in my browser via <code>machine-name/new-file.php</code> I am told permission denied and I have to go and <code>chmod</code> the new file.</p>\n\n<p>I am wondering if there is a way I can default the www-data user/group to have access permissions to new files so I don't have to keep chmod every new file?</p>\n"},{"id":94321,"title":"Permission denied on ~ even though owner listed as me","body":"<p>Somehow, I managed to chmod and chown my ~ into oblivion.</p>\n\n<p>When I attempt to login through the shell, I get</p>\n\n<pre><code>bash: ~/.bashrc : Permission denied\n</code></pre>\n\n<p>Even after (<strong>as root</strong>) I've run</p>\n\n<pre><code>chown -hR nroach44 /home/nroach44\n</code></pre>\n\n<p>and </p>\n\n<pre><code>chmod -R 666 /home/nroach44\n</code></pre>\n\n<p>or (<strong>as nroach44</strong>)</p>\n\n<pre><code>chmod -R 644 /home/nroach44\n</code></pre>\n\n<p>None of these commands return errors.</p>\n\n<p>Also:</p>\n\n<pre><code>ls -la /home/nroach44\n</code></pre>\n\n<p>Returns lots of</p>\n\n<pre><code>drw-rw-rw-  1 nroach44 nroach44 4096 --date-- ti:me foldername\n</code></pre>\n\n<p>Any Help?</p>\n"}]}]