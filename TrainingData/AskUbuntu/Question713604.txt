[{"id":713604,"title":"Snappy on Beaglebone Black or Green","body":"<p>Is there a flasher image available for snappy? I would like to run it from the eMMC rather than an sd card.</p>\n","related_questions":[{"id":582038,"title":"Snappy Ubuntu Core, no Docker or Owncloud in &#39;store&#39;","body":"<p>I downloaded the image of Snappy Ubuntu Core for the Beaglebone Black, Alpha 2. When I now try to install Docker or Owncloud it cannot be found. Nor are the apps/framework available through the WebDM 'app store'. Numerous guides online refer to both these applications as being available already, some from January some from all way back in December.</p>\n\n<p>I should add that I am using the latest available version of Ubuntu Core (there are no updates when checking - updating has worked in the past, so that is not the issue) with the build number 2. Which is odd, often in guides people are using 1XX etc. I am also using the 'channel' (which I assume is the 'repository') ubuntu-core/devel. Also, there are other apps available (5-6 meaningless example apps) but not Docker or Owncloud.</p>\n\n<p>Does the precompiled image for the Beaglebone have a different repository than the regular Snappy Ubuntu Core, or have they been pulled?</p>\n\n<p>EDIT: I was looking for information as to what happened to the packages on the armhf platform</p>\n"},{"id":701483,"title":"Snappy on Raspberry Pi - &quot;Unable to determine bootloader&quot;","body":"<p>Downloaded and wrote Ubuntu Core to a new micro-sd card <a href=\"https://developer.ubuntu.com/en/snappy/start/raspberry-pi-2/#install-from-windows\" rel=\"nofollow\">as per these instructions</a>. Put my micro-sd card into the new Raspberry Pi 2, powered up and SSH'd in.</p>\n\n<p>When I enter the command: <code>sudo snappy update</code> to ensure my core is up-to-date, it downloads and applies the core files, but chokes on the boot files with <code>Unable to determine bootloader</code>. <a href=\"http://pastebin.com/fTbzeGre\" rel=\"nofollow\">Full transcript can be found here.</a></p>\n\n<p>I haven't installed any other apps or frameworks. This is an entirely fresh system. Any ideas what I may have missed or on how to proceed?</p>\n"},{"id":699034,"title":"Snappy Porting - file does not work after decompressing","body":"<p>I downloaded the file device.tar.xz from the Snappy Porting website.</p>\n\n<p>And then I typed the command</p>\n\n<pre><code>$ sudo ubuntu-device-flash core 15.04 -o my-snappy.img --size 4 \\\n--channel edge --oem beagleblack \\\n--enable-ssh --device-part=./device.tar.xz\n</code></pre>\n\n<p>The image has been successfully generated.</p>\n\n<p>However, when I tried to decompress the file and compress it again, say, device2.tar.xz.</p>\n\n<p>I entered the same command, the error occurred.</p>\n\n<p>The followings are the log appeared after entering the command.</p>\n\n<pre><code>Determining oem configuration\nStarting download of beagleblack\n306.70 KB / 306.70 KB [===============================================] 100.00 % 82.43 KB/s \nDone\nStarting download of icon for package\n31.24 KB / 31.24 KB [=================================================] 100.00 % 75.25 KB/s \nDone\nUsing a custom OS or Kernel part will prevent updates for these components\nFetching information from server...\nDownloading and setting up...\nFailed to read harware.yaml from device part, provisioning may fail: failed to extract a hardware.yaml from the device part: tar: hardware.yaml: Not found in archive\ntar: Exiting with failure status due to previous errors\n\nInstalling beagleblack\nStarting download of beagleblack\n306.70 KB / 306.70 KB [==============================================] 100.00 % 106.47 KB/s \nDone\nStarting download of icon for package\n31.24 KB / 31.24 KB [=================================================] 100.00 % 37.96 KB/s \nDone\nstat /tmp/diskimage027290368/hardware.yaml: no such file or directory\n</code></pre>\n\n<p>I don't know why this happened.</p>\n\n<p>Is there anyway to fix this please ?</p>\n\n<p>Thanks.</p>\n\n<p>================================================================</p>\n\n<p>@sergiusens:</p>\n\n<p>The original tarball was downloaded from <a href=\"https://developer.ubuntu.com/en/snappy/guides/porting/\" rel=\"nofollow\">here</a>.</p>\n\n<p>I then decompressed the tarball and re-compressed it by using the following command ( ubuntu-device-flash ):</p>\n\n<pre><code>tar cjvf device2.tar.xz &lt;file&gt;\n</code></pre>\n\n<p>After doing this, when I tried to use the same command as I post above to generate the image file, the error occurred. </p>\n"},{"id":645705,"title":"How to ssh to Pre-built Snappy Ubuntu Core for BBB?","body":"<p>Following instructions on page - <a href=\"https://developer.ubuntu.com/en/snappy/start/#try-beaglebone\" rel=\"nofollow\">https://developer.ubuntu.com/en/snappy/start/#try-beaglebone</a> - after I put SD card in with the pre-built snappy ubuntu core (ubuntu-15.04-snappy-armhf-bbb.img) and power on BBB, all 4 onboard LEDs (USR0 -> 3) are lit but do not flash and I'm unable to resolve host when attempting to connect from my laptop (Ubuntu 64-bit Desktop 14.04) via ssh ubuntu@webdm.local.</p>\n\n<p>The BBB is connected via an ethernet cable directly to the home router and my ubuntu laptop connects via wifi. </p>\n\n<p>Note: I've been ssh'ing successfully with same config but using an SD with Ubuntu 14.04 on BBB (<a href=\"http://www.armhf.com/boards/beaglebone-black/bbb-sd-install\" rel=\"nofollow\">http://www.armhf.com/boards/beaglebone-black/bbb-sd-install</a>) but want to move across to Snappy now.</p>\n\n<p>Am I doing something wrong?</p>\n\n<p>Thanks.</p>\n"},{"id":665022,"title":"Troubleshoot Beabglebone Black Rev C Networking issues","body":"<p>We just built the snappy Ubuntu image (stable) in the SD card of our BBB, but when we boot it connectivity problems appear. The BBB is not establishing an IP address in its interface.</p>\n\n<p>Using command dmesg:</p>\n\n<pre><code>[   27.349242] libphy: PHY 4a101000.mdio:01 not found\n\n[   27.354802] net eth0: phy 4a101000.mdio:01 not found on slave 1\n</code></pre>\n\n<p>This message appears in the terminal: </p>\n\n<pre><code>Failed to start Snappy WebDM.\nSee \"systemctl status webdm_snappyd_0.9.service\" for details.\n</code></pre>\n\n<p>Hope someone can help us!</p>\n"},{"id":640416,"title":"Pin multiplexing on Beaglebone Black using ubuntu snappy","body":"<p>I'm using ubuntu snappy on Beaglebone Black. the device tree overlay is different with angstrom distribution. I don't know how to mux between pins to use pwm.</p>\n\n<p>How can I config the uart baudrate in ubuntu snappy?</p>\n\n<p>Thank youï»¿</p>\n"},{"id":605066,"title":"What is Snappy Ubuntu Core?","body":"<p>Before everyone rushes to mark this as a duplicate, I have indeed read the other threads <a href=\"http://askubuntu.com/questions/558627/what-is-ubuntu-core\">here</a> and <a href=\"https://askubuntu.com/questions/482998/what-does-ubuntu-core-consist-of\">here</a>, googled this, and visited the snappy homepage <a href=\"http://developer.ubuntu.com/en/snappy/\">here</a> searching to clear my confusion, and I couldn't. I ask here because I still remain confused. I understand that it is some sort of a minimal working ubuntu, and the spirit of this question is not what is \"in it\", rather what it is and how it works.</p>\n\n<ol>\n<li><p>What is the snappy approach to applications? The homepage describes some of it's merits, but as a user, how will I get the apps? Do I still <code>sudo apt-get install XXXX</code>? Or something else?</p></li>\n<li><p>Will regular ubuntu applications work if I install snappy (the same thing that works on my normal ubuntu install using apt-get or by downloading a deb package), or does someone need to do something special to make an app work in snappy?</p></li>\n<li><p>Snappy Core is available for Raspberry Pi, for instance, which is a different (mobile) processor, if I install snappy on that, will regular desktop apps still work on Pi? Is that the point of snappy?</p></li>\n<li><p>If the standard approach does not work, how do I get applications, where do I search for what applications are available for snappy, and how do I install them. </p></li>\n</ol>\n\n<p>Thank you. My questions are formulated to the best of my understanding of how applications work and are installed in Ubuntu, but please edit them to make more sensible if you get what I mean to ask.</p>\n"},{"id":380810,"title":"Internet over USB on BeagleBone Black","body":"<p>I've recently installed Ubuntu 13.04 on the Beagle Bone Black. This image:</p>\n\n<blockquote>\n  <p><a href=\"https://rcn-ee.net/deb/flasher/raring/BBB-eMMC-flasher-ubuntu-13.04-2013-10-08.img.xz\" rel=\"nofollow\">https://rcn-ee.net/deb/flasher/raring/BBB-eMMC-flasher-ubuntu-13.04-2013-10-08.img.xz</a></p>\n</blockquote>\n\n<p>This microcontroller allows to share internet connection between host PC (Version 12.04 (precise) (64-Bit), Kernel Linux 3.2.0-56-generic) and BeagleBone over USB, so I went for it and configured the device as follows:</p>\n\n<p>BeagleBone Black:</p>\n\n<pre><code>ifconfig usb0 192.168.7.2\nroute add default gw 192.168.7.1\n</code></pre>\n\n<p>Host PC:</p>\n\n<pre><code>sudo su\n#eth0 is my internet facing interface, eth3 is the BeagleBone USB connection\nifconfig eth2 192.168.7.1\niptables --table nat --append POSTROUTING --out-interface eth0 -j MASQUERADE\niptables --append FORWARD --in-interface eth2 -j ACCEPT\necho 1 &gt; /proc/sys/net/ipv4/ip_forward\n</code></pre>\n\n<p>After that Internet Connection works itself, when I do <code>ping 8.8.8.8</code> I get the results:</p>\n\n<pre><code>PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.\n64 bytes from 8.8.8.8: icmp_req=1 ttl=47 time=4.63 ms\n64 bytes from 8.8.8.8: icmp_req=2 ttl=47 time=4.68 ms\n64 bytes from 8.8.8.8: icmp_req=3 ttl=47 time=4.57 ms\n64 bytes from 8.8.8.8: icmp_req=4 ttl=47 time=4.58 ms\n^C\n--- 8.8.8.8 ping statistics ---\n4 packets transmitted, 4 received, 0% packet loss, time 3005ms\nrtt min/avg/max/mdev = 4.578/4.620/4.682/0.063 ms\n</code></pre>\n\n<p>To have DNS configured too I typed aswell <code>echo \"nameserver 8.8.8.8\" &gt;&gt; /etc/resolv.conf</code> but unfortunately when I do <code>ping google.com</code> I get, after few seconds of computing, <code>ping: unknown host google.com</code></p>\n\n<p>So - I know, that this solution isn't good, but for this session it could work and it doesn't. What's more, both - BBB and PC - use resolvconf. To be honest I've got no clue how to configure network using this program... I tried changing <code>/etc/network/interfaces</code> on Beagle Bone Black like this:</p>\n\n<pre><code># This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# The primary network interface\n#auto eth0\niface eth0 inet dhcp\n# Example to keep MAC address between reboots\n#hwaddress ether DE:AD:BE:EF:CA:FE\n\n# WiFi Example\n#auto wlan0\n#iface wlan0 inet dhcp\n#    wpa-ssid \"essid\"\n#    wpa-psk  \"password\"\n\n# Ethernet/RNDIS gadget (g_ether)\n# ... or on host side, usbnet and random hwaddr\n# Note on some boards, usb0 is automaticly setup with an init script\n# in that case, to completely disable remove file [run_boot-scripts] from the boot partition\nauto usb0\niface usb0 inet static\n    address 192.168.7.2\n    netmask 255.255.252.0\n    network 192.168.7.0\n#broadcast 192.168.7.3\n    gateway 192.168.7.1\n    dns-nameservers 8.8.8.8 8.8.4.4\n</code></pre>\n\n<p>but it didn't help.</p>\n\n<p>I don't know what else should I do. Please help.</p>\n\n<p>Additional useful infos:</p>\n\n<p>Beagle Bone Black:\nifconfig</p>\n\n<pre><code>lo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0\n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n\nusb0      Link encap:Ethernet  HWaddr ce:39:f3:4a:c7:94  \n          inet addr:192.168.7.2  Bcast:192.168.7.3  Mask:255.255.255.252\n          inet6 addr: fe80::cc39:f3ff:fe4a:c794/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:608 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:375 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000\n          RX bytes:57484 (57.4 KB)  TX bytes:63078 (63.0 KB)\n</code></pre>\n\n<p>route</p>\n\n<pre><code>Kernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\ndefault         192.168.7.1     0.0.0.0         UG    0      0        0 usb0\n192.168.7.0     *               255.255.255.252 U     0      0        0 usb0\n</code></pre>\n\n<p>uname -a</p>\n\n<pre><code>Linux arm 3.8.13-bone28 #1 SMP Fri Sep 13 03:12:24 UTC 2013 armv7l armv7l armv7l GNU/Linux\n</code></pre>\n\n<p>/etc/resolv.conf</p>\n\n<pre><code>nameserver 8.8.8.8\nnameserver 8.8.4.4\n#domain localdomain\n#search localdomain\n#nameserver 192.168.1.1\n</code></pre>\n\n<p>PC:</p>\n\n<p>ifconfig</p>\n\n<pre><code>eth0      Link encap:Ethernet  Hardware Adresse 00:17:31:8d:6a:a6  \n          inet Adresse:141.3.81.154  Bcast:141.3.83.255  Maske:255.255.252.0\n          inet6-Adresse: fe80::217:31ff:fe8d:6aa6/64 GÃ¼ltigkeitsbereich:Verbindung\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metrik:1\n          RX packets:30732 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:5888 errors:0 dropped:0 overruns:0 carrier:0\n          Kollisionen:0 SendewarteschlangenlÃ¤nge:1000\n          RX-Bytes:7266589 (7.2 MB)  TX-Bytes:1286462 (1.2 MB)\n          Interrupt:19\n\neth1      Link encap:Ethernet  Hardware Adresse 00:04:75:ca:98:ee  \n          UP BROADCAST MULTICAST  MTU:1500  Metrik:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          Kollisionen:0 SendewarteschlangenlÃ¤nge:1000\n          RX-Bytes:0 (0.0 B)  TX-Bytes:0 (0.0 B)\n          Interrupt:21 Basisadresse:0xe400\n\neth2      Link encap:Ethernet  Hardware Adresse c8:a0:30:ac:2c:95  \n          inet Adresse:192.168.7.1  Bcast:192.168.7.3  Maske:255.255.255.252\n          inet6-Adresse: fe80::caa0:30ff:feac:2c95/64 GÃ¼ltigkeitsbereich:Verbindung\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metrik:1\n          RX packets:418 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:637 errors:0 dropped:0 overruns:0 carrier:0\n          Kollisionen:0 SendewarteschlangenlÃ¤nge:1000\n          RX-Bytes:45704 (45.7 KB)  TX-Bytes:88161 (88.1 KB)\n\nlo        Link encap:Lokale Schleife  \n          inet Adresse:127.0.0.1  Maske:255.0.0.0\n          inet6-Adresse: ::1/128 GÃ¼ltigkeitsbereich:Maschine\n          UP LOOPBACK RUNNING  MTU:16436  Metrik:1\n          RX packets:840 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:840 errors:0 dropped:0 overruns:0 carrier:0\n          Kollisionen:0 SendewarteschlangenlÃ¤nge:0\n          RX-Bytes:142988 (142.9 KB)  TX-Bytes:142988 (142.9 KB)\n</code></pre>\n\n<p>route</p>\n\n<pre><code>Ziel            Router          Genmask         Flags Metric Ref    Use Iface\ndefault         i60-gw-int.ipr. 0.0.0.0         UG    0      0        0 eth0\n141.3.80.0      *               255.255.252.0   U     1      0        0 eth0\nlink-local      *               255.255.0.0     U     1000   0        0 eth2\n192.168.7.0     *               255.255.255.252 U     1      0        0 eth2\n</code></pre>\n\n<p>uname -a</p>\n\n<pre><code>Linux i60p354 3.2.0-56-generic #86-Ubuntu SMP Wed Oct 23 09:20:45 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux\n</code></pre>\n\n<p>What can be important - PC, which share Internet with BBB works in the University network, which is far more complicated than normal home network - could that cause problems with DNS resolving? Whats important yet - if I set a nameserver that makes sense in resolv.conf.d/head (which is simply up and running like 8.8.8.8) and type ping google.com the maschine computes for some time and than returns error unknown host. If I set a nonsense adress, which surely doesn't work (ie 123.123.123.123) error is being returned immediately.</p>\n"},{"id":580333,"title":"networking multiple Beaglebone Black over USB","body":"<p>I'm working on a project where I would like to \"daisy-chain\" network multiple Beaglebone Black boards from the standard USB port on one to the USB-mini on the next.  </p>\n\n<p>The problem I'm coming up with is that the USB Networking on all of the boards is set by default to 192.168.7.2, and the USB on the \"host\" computer is set to 192.168.7.1, I don't know if what I'm attempting is possible or not.  I have an application that runs several processor hungry processes.  Networking across the processes is actually built-in to the application.  I know I could easily use an Ethernet switch to put them on the same subnet, but I guess what I'm almost trying to do would be similar to older technologies like bus type networking across multiple interfaces on the same subnet.</p>\n\n<p>I realize I'll probably run into a power issue also doing more than 2-3 nodes like that, as the Beaglebone Black can get it's power through the USB port, but also has a 5v barrel connector as well, if I needed to add more.  It's likely I would only need 2 or 3 nodes at most so I shouldn't run into the power issue.</p>\n\n<ul>\n<li>Node 1 would run the core process</li>\n<li>Node 2 would run the communication process</li>\n<li>Node 3 would be connected via Ethernet/wifi to the network to facilitate either serial or <code>telnet</code> access to the communication server.  </li>\n</ul>\n\n<p>I would likely have the 5v adapter on Node 3, due to the additional power requirements of running the Ethernet networking as well as RS232 networking.</p>\n\n<p>I may be able to make it with 2 nodes, with Node 1 running the core, and Node 2 running the com process, as well as the Ethernet and serial interfaces.</p>\n\n<p>The application I am running is SimH, a mainframe simulator, simulating an HP2100 series machine running TSB (HP TimeShare Basic).</p>\n\n<p>I'd optimally like to only have 1 power supply running the system.</p>\n\n<p><em>Any suggestions would be appreciated.</em></p>\n"},{"id":576227,"title":"ubuntu core webdm alpha for Beaglebone Black not booting","body":"<p>I have tried the flashing SD card for Beaglebone Black with 'Ubuntu Core WEBDM' image i.e. 'ubuntu-core-WEBDM-alpha-02_armhf-bbb.img' as mentioned in the steps <a href=\"http://www.ubuntu.com/things#try-beaglebone\" rel=\"nofollow\">here</a>.</p>\n\n<p>But the system is not booted. I have the following error captured in serial console. Thanks in advance for your suggestions and help.</p>\n\n<h1>From console:</h1>\n\n<pre><code>Net:   &lt;ethaddr&gt; not set. Validating first E-fuse MAC\ncpsw, usb_ether\nHit any key to stop autoboot:  0 \nswitch to partitions #0, OK\nmmc0 is current device\nSD/MMC found on device 0\nreading boot.scr\n** Unable to read file boot.scr **\nreading uEnv.txt\n237 bytes read in 12 ms (18.6 KiB/s)\nLoaded environment from uEnv.txt\nImporting environment from mmc ...\nRunning uenvcmd ...\n** File not found snappy-system.txt **\n## Error: \"snappy_boot\" not defined\n** File not found /boot/zImage **\nswitch to partitions #0, OK\nmmc1(part 0) is current device\nSD/MMC found on device 1\nreading boot.scr\n** Unable to read file boot.scr **\nreading uEnv.txt\n** Unable to read file uEnv.txt **\nRunning uenvcmd ...\n** File not found snappy-system.txt **\n## Error: \"snappy_boot\" not defined\n** File not found /boot/zImage **\n## Error: \"nandboot\" not defined\nU-Boot#\n</code></pre>\n"}]}]