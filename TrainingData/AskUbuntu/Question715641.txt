[{"id":715641,"title":"How to send SIGKILL and SIGSTOP to a process on remote shell?","body":"<p>There is a program running infinitely on remote shell, which doesn't give me access to its login shell.(i.e, Whenever I login I see that program running on the console).</p>\n\n<p>I wan't send <code>SIGKILL</code> or <code>SIGSTOP</code> or <code>SIGSEGV</code> etc to stop it via <code>ssh</code>.</p>\n\n<p>Is it possible to send and access the normal shell?</p>\n","related_questions":[{"id":311975,"title":"How to start GUI application on a remote Ubuntu box via SSH","body":"<p>I can log into the remote Ubuntu (Kubuntu 12.04) machine. Using the info from (<a href=\"http://askubuntu.com/questions/47642/how-to-start-a-a-gui-software-on-a-remote-linux-pc-via-ssh\">How to start a a GUI software on a remote Linux PC via SSH</a>) I tried the following after logging in:</p>\n\n<pre><code>user@Kub:~$ export DISPLAY=:0\nuser@Kub:~$ firefox\nNo protocol specified\nNo protocol specified\nNo protocol specified\nNo protocol specified\nError: cannot open display: :0\n</code></pre>\n\n<p>I expected the same success as stated at the question referenced. Unfortunately, as you see it didn't work for me. The machine has 3 displays. Could that be the issue? </p>\n\n<p>Is there a simple solution? I also read (<a href=\"http://unix.stackexchange.com/questions/10121/open-a-window-on-a-remote-x-display-why-cannot-open-display\">http://unix.stackexchange.com/questions/10121/open-a-window-on-a-remote-x-display-why-cannot-open-display</a>) but I didn't understand how to use or apply that advice. It was too complicated. I appreciate any relatively simple solutions.</p>\n\n<p>I looked at a running GUI process (Kate) with this:</p>\n\n<pre><code># cat /proc/2857/environ | tr \\\\0 \\\\n | grep -E '^(DISPLAY|AUTHORITY)=' \nDISPLAY=:0\n</code></pre>\n\n<p>That further confuses me as to why this didn't work.</p>\n\n<p>Using Scott Goodgame's suggestion (below), I tried this:</p>\n\n<ol>\n<li>login with -X and -C options on SSH.</li>\n<li>export DISPLAY=:0</li>\n<li>firefox &amp;</li>\n</ol>\n\n<p>The result was:</p>\n\n<pre><code>$ No protocol specified\nNo protocol specified\nNo protocol specified\nNo protocol specified\nError: cannot open display: :0\n</code></pre>\n"},{"id":592253,"title":"Connect to remote Ubuntu Server GUI","body":"<p>I have a server running remotely by ip address <code>5.231.XX.XXX</code> running Ubuntu 13.10 Operating system.\nI am using Ubuntu 14.04 on my laptop.</p>\n\n<p>I am able to connect to my server via terminal by ssh login as:</p>\n\n<pre><code>ssh root@5.231.XX.XXX\n</code></pre>\n\n<p>I am also able to connect via nautilus and open its folders.</p>\n\n<p>I have also installed GUI Interface on my server by using commands via ssh login</p>\n\n<pre><code># sudo apt-get install ubuntu-desktop\n</code></pre>\n\n<p>Now, how could I be able to connect and view my server remotely with GUI Interface.</p>\n"},{"id":115151,"title":"How to setup passwordless SSH access for root user","body":"<p>I need to configure a machine so software installation can be automated remotely via SSH. Following <a href=\"https://help.ubuntu.com/community/SSH/OpenSSH/Keys\">the wiki</a>, I was able to setup SSH keys so my user can access the machine without a password, but I still need to manually enter my password when I use <code>sudo</code>, which obviously an automated process shouldn't have to do.</p>\n\n<p>Although my /etc/ssh/sshd_config has <code>PermitRootLogin yes</code>, I can't seem to be able to login as root, presumably because it's not a \"real\" account with a separate password.</p>\n\n<p>How do I configure SSH keys, so a process can remotely login as root on Ubuntu?</p>\n"},{"id":509827,"title":"How to start/configure pulseaudio remotely with ssh?","body":"<p>I have a remote machine to which I can ssh. On the remote machine there is a program that uses pulse audio to get input from a USB microphone attached to the remote machine. This setup works fine when operated locally, i.e. I can get input from pulse audio when connected locally.  </p>\n\n<p>Over ssh, I receive the error:</p>\n\n<pre><code>ALSA lib pulse.c:243:(pulse_connect) PulseAudio: Unable to connect: Connection refused\nALSA lib pulse.c:243:(pulse_connect) PulseAudio: Unable to connect: Connection refused\n</code></pre>\n\n<p>Equally, when I try to open pavucontrol on the remote machine via ssh -X, I get the message:</p>\n\n<blockquote>\n  <p>Connection to PulseAudio failed. ... In this case this is likely\n  because PULSE_SERVER in the Environment/X11 Root Window Properties or\n  default-server in client.conf is misconfingured.</p>\n</blockquote>\n\n<pre><code>pulseaudio --start\nN: [pulseaudio] main.c: User-configured server at {30ab51874e4a0ca492830f1400000007}unix:/home/user2/.pulse/30ab51874e4a0ca492830f1400000007-runtime/native, refusing to start/autospawn.\n</code></pre>\n\n<p>Attempting to start pulse audio with x11: start-pulseaudio-x11</p>\n\n<pre><code>Connection failure: Connection refused\npa_context_connect() failed: Connection refused\n</code></pre>\n\n<p>pulseaudio --check returns straight to the command prompt.</p>\n\n<p>If I attempt to get the ssh X properties, I get:</p>\n\n<pre><code>user1@remote-pc:~$: xprop -root | grep PULSE\nPULSE_COOKIE(STRING) = Some stuff here\nPULSE_SERVER(STRING) = \"{30ab51874e4a0ca492830f1400000007}unix:/home/user2/.pulse/30ab51874e4a0ca492830f1400000007-runtime/native\"\nPULSE_SESSION_ID(STRING) = \"30ab51874e4a0ca492830f1400000007-1407765989.424751-1424846683\"\nPULSE_ID(STRING) = \"12165@30ab51874e4a0ca492830f1400000007/2040\"\n</code></pre>\n\n<p>Ok.  I have seen questions related to this issue, but in each case, the asker wants to transmit sound across a network connection, which I do >not&lt; want to do.  So what do I configure <code>PULSE_SERVER</code> to be?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I seem to have resolved the problem by running\n    pax11publish -r\nNow, xprop -root | grep PULSE shows:</p>\n\n<pre><code>PULSE_SERVER(STRING) = \"{9899a0f46bdae6bbc8e6e8b200000005}unix:/home/user1/.pulse/9899a0f46bdae6bbc8e6e8b200000005-runtime/native\"\n</code></pre>\n\n<p>Apparently pulseaudio --check should normally go to the command prompt.  Apparently this indicates it is running.</p>\n"},{"id":487117,"title":"how to run local shell script over ssh with su option","body":"<p>I have a script called test_ms.sh which I want to run over ssh along with the su - username option.</p>\n\n<p>I am user X on server A and server B and I have su access to user Y on server B. I do not have direct access to user Y.</p>\n\n<p>Now, I want to execute the script located on server A as user Y on the remote server B.</p>\n\n<p>If I run the script via ssh as user X s it works fine</p>\n\n<pre><code>ssh X@B 'sh -s' &lt; test_ms.sh\n</code></pre>\n\n<p>However, If I run the script as user B on server Y from server A through user X, it doesn't work.</p>\n\n<p>I am using following approach to execute the script.</p>\n\n<pre><code>ssh X@B su Y -c 'sh -s' &lt; test_ms.sh\n</code></pre>\n\n<p>Please suggest how to accomplish this.</p>\n"},{"id":444254,"title":"block remote access via IP (or allowing access only from known IPs)","body":"<p>I see a link on blocking remote access <a href=\"http://askubuntu.com/questions/18232/blocking-remote-login\">Blocking Remote Login</a>, which sets #ListenAddress  in /etc/ssh/sshd_config.</p>\n\n<p>But I would like to block a bunch of IPs,  such as those listed in <a href=\"http://www.websworld.org/\" rel=\"nofollow\">http://www.websworld.org/</a>,  if there a simple way to do this blocking without having to change setting frequently?</p>\n\n<p>Moreover, is there a way to only allow remote login from specified IPs?  (say, any login try from br, cn, in, etc domains would be blocked). I see some instructions on using fail2ban, but it seems such changes need to be done quite frequently, such as daily? (I may see it wrong, would appreciate any enlightenment.)</p>\n\n<p>Thank you.</p>\n"},{"id":405916,"title":"Open a window in a remote machine","body":"<p>Is there a way to open a window in a remote machine via ssh?</p>\n\n<p>I know that ssh -X redirects to my local remote windows but is there a way to open that windows in the remote machine and keep it alive after disconect (open it in a local-logged user)?</p>\n\n<p>The problem is that i've change the amule.conf file to a familiar (because he can't find .aMule/Incoming, you know, i had to change the home directory path) an amule should be restarted (he has it opened in his desktop). </p>\n\n<p>I only know how to kill the application and after it get X's in my local (that will be close with my connection: no cool) or let the daemon (amuled) in background but, if I launch the daemon, he will get an 'process already running' error when he tries to open again amule (if he dont see the window he'll think that its closed) and I'll get another telephone call...</p>\n\n<p>Is ther a way to open it and let it in his desktop?</p>\n"},{"id":100287,"title":"How to use open/openvt with command line arguments?","body":"<p>Question:</p>\n\n<p>I can start LumiSoft mailserver in console mode like this:</p>\n\n<pre><code>./lsMailServer.exe -daemon\n</code></pre>\n\n<p>Unfortunately this blocks the terminal that was used.\nAnd I am logged in via ssh.</p>\n\n<p>I'm just experimenting with the server, so I need to restart a lot after configuration changes.</p>\n\n<p>Normally, I'd use the open command in this circumstance, which normally works fine.</p>\n\n<p>It also works fine, when I do open ./lsMailServer.exe with X-Forwarding.</p>\n\n<p>But I want to run the server terminal-only, which requires the -daemon option.\nNow when I do</p>\n\n<pre><code>open opt/MyPath/lsMailServer.exe -daemon\n</code></pre>\n\n<p>I get the following error message:</p>\n\n<blockquote>\n  <p>open: invalid option -- 'd' Usage: openvt [-c vtnumber] [-f] [-l] [-u]\n  [-s] [-v] [-w] -- command_line</p>\n</blockquote>\n\n<p>How can I use open with a program + arguments for that program ?</p>\n"},{"id":232763,"title":"SSH Process not Killed on Remote Machine when the Remote System Unexpectedly Disconnects","body":"<p>I have a question to which I haven't been able to find an answer. I have two computers, both of which run Ubuntu 12.04. I keep one of my computers at home and use SSH to connect to it from the other (\"remote\") computer. The remote computer is able to connect to the home computer without problems. The remote computer also has SetAliveInterval set to 60 in /etc/ssh/ssh_config, so that the connection doesn't die if I step away from the computer for a moment.</p>\n\n<p>Occasionally, my internet connection on my remote computer gets interrupted. Internet interruptions cause my SSH tunnel to close (of course). When I restore internet connectivity and re-connect to the home computer using a new SSH tunnel, though, I can see using <code>#ps ax</code> that the old SSH connection process is still running. This is a problem because I use an encrypted home directory on the home computer, which doesn't allow the files to be re-encrypted until that (now-dead) SSH connection is killed. </p>\n\n<p>Is there a way to set sshd_config on the home computer so that it automatically detects when a connection has died, and terminates it?</p>\n"},{"id":132338,"title":"How to programmatically log-in a user remotely","body":"<p>How do I programmatically and remotely (using SSH) log-in a user so that the lightdm login screen closes and loads the user's desktop as thought they had physical typed in their username and password?</p>\n\n<p>I have a vanilla Ubuntu 12.04 Desktop setup, and I'd like to be able to start a desktop application remotely via SSH. I've already accomplished this by specifying <code>export DISPLAY=:0</code>, however, the assumes there's already an X-session running.</p>\n\n<p>Edit: I do <strong>NOT</strong> mean VNC/RDP/Nx. I mean <em>literally</em> logging in the <em>physical</em> terminal, but when you're <em>not</em> at the physical terminal. Imagine someone was sitting down in front of your physical Linux computer, and you want to let them log-in, but you don't want to give them your password. Instead, you SSH into the box, and run a script to log them in and start a desktop session.</p>\n"}]}]