[{"id":715850,"title":"Is it possible for dns records to update for vpn clients?","body":"<p>I have an Ubuntu server than runs routing, bind9, dhcp, and vpn. Everything is working like it should. I would like to add the ability for vpn clients to register a DNS record so that I can resolve the IP address to the vpn client hostname. Is this possible?</p>\n\n<p>The VPN server is Openswan L2TP/IPSEC.</p>\n","related_questions":[{"id":713707,"title":"Which VPN to choose?","body":"<p>I need to setup a VPN which is compatible with iOS devices (IPSec / L2TP / IKEv2, no PPTP please). My requirements are:</p>\n\n<ul>\n<li>Encrypted connection to a single server (with a critical application on it that should not be exposed to the internet)</li>\n<li>Only traffic to this specific server shall go through the VPN, traffic to other sites shall not be routed through the VPN</li>\n<li>Multiple clients should be able to connect to VPN to use the app on the server</li>\n<li>Those clients have dynamic IP-addresses</li>\n<li>They don't need to \"see\" each other but if they do it wouldn't be a problem</li>\n</ul>\n\n<p>I've read a lot in the last days but the combinations and possibilities for VPNs seem to be endless. StrongSwan has some nice configuration examples, but none seem to match my requirements. I don't need a tunnel or bridge sites. A lot of tutorials show how to setup a L2TP over IPSec VPN to access the internet (e.g. from behind the great firewall) but that's not very helpful in my case.</p>\n\n<ol>\n<li>Do I need L2TP for this use-case? </li>\n<li>Can't I just use IPSec in transport mode?</li>\n<li>How would I setup IPSec authentication?</li>\n<li>Would IPSec in transport mode allow multiple clients?</li>\n<li>Can IPSec transport mode work with dynamic IPs of the clients?</li>\n</ol>\n\n<p>Any hints or directions what to read next or what technologies to use are welcome. A configuration example even better :) </p>\n"},{"id":689977,"title":"14.04 - DUC doesn&#39;t update correctly the IP with VPN at startup","body":"<p>I'm running an Ubuntu 14.04.3 LTS server that launches a few things at startup, two of them being OpenVPN for my VPN service and a Dynamic DNS Update Client to update my noip host to my current IP.</p>\n\n<p>I've tried with the official noip DUC and with ddclient (see <a href=\"http://askubuntu.com/questions/184704/the-noip2-no-ip-com-package-was-deleted-from-the-repository-now-what/459213#459213\">here</a> why I changed) and both of them incorrectly update to the IP I have before my VPN connects (the ISP IP).</p>\n\n<p>The OpenVPN connection is working when I login via SSH, so it means the DUC reports the IP before OpenVPN is working or something like that. Before asking here, I've tried to modify the init.d script of ddclient with an openvpn requirement :</p>\n\n<pre><code># Required-Start:    $local_fs $remote_fs $network $syslog $openvpn\n</code></pre>\n\n<p>For rcX.d files, openvpn has something like S16openvpn and ddclient has S99ddclient, so normally ddclient starts after openvpn right ? I'm not really comfortable with those things.</p>\n\n<p>That didn't change anything. I hope someone can help me, it means each time I reboot my server, I have to restart the DUC client service for my noip host to work correctly.</p>\n\n<p>A plan B if nothing can be found is to ask service ddclient to <strong>restart</strong> after everything has launched, so that I don't have to do it and I won't forget. But of course making ddclient update to the right IP in the first place would be better.</p>\n\n<p>P.S. : If you ask why I want the IP to be the VPN IP, it's because some services like Teamspeak 3 server have to be reachable so my ddns.net must point to the VPN IP, because when pointing to my ISP public IP, they are not reachable anymore (linked to how VPN works I guess).</p>\n"},{"id":633052,"title":"14:04 Server: dhcpd/bind9 - (Static IP) Clients no longer have connectivity to external hosts","body":"<p>After following the linked guide from a fresh install of 14.04: <a href=\"http://blogging.dragon.org.uk/dns-with-bind9-and-dhcp-on-ubuntu-14-04/\" rel=\"nofollow\">http://blogging.dragon.org.uk/dns-with-bind9-and-dhcp-on-ubuntu-14-04/</a></p>\n\n<p>I made an addition to /etc/dhcpd.conf so that I had a group of static \nhosts with fixed IP addresses formatted as such:</p>\n\n<pre><code>group {\n   host host1 {\n     hardware ethernet XX:XX:XX:XX:XX:XX; \n     fixed-address 192.168.1.1; \n     ddns-hostname \"host1\";\n   }\n   host host2 {\n     hardware ethernet YY:YY:YY:YY:YY:YY; \n     fixed-address 192.168.1.2; \n     ddns-hostname \"host2\";\n   }\n   host host3 {\n     hardware ethernet ZZ:ZZ:ZZ:ZZ:ZZ:ZZ; \n     fixed-address 192.168.1.3; \n     ddns-hostname \"host3\";\n   }\n...etc\n}\n</code></pre>\n\n<p>All of this has been working for months with no issues, with the DHCP/DNS happily working together.</p>\n\n<p>So, I added another device to my network and decided to give that a static IP address. Sigh... my OCD kicked in and I decided to allocate it (let's say for example) 192.168.1.2 and then incremented all the subsequent static IP allocations by 1.</p>\n\n<p>According to the syslog, everything is still working correctly with dhcpd and named and there are no errors that I can spot. But, for some reason all of the devices with their IP's amended can successfully resolve external hosts, but cannot actually establish a connection to them.</p>\n\n<p>Whereas, those devices that were not amended to a new static IP address, work as if nothing has happened. </p>\n\n<p>I've tried to 'aptitude purge' both and start again server-side, and also tried switching the clients to static and back to DHCP allocated again. </p>\n\n<p>If I comment out the host definitions so they're given dynamic IP addresses, then they work fine so that's a workaround. And rather curiously, if I deny all access to the zone files they also work fine.</p>\n\n<p>Any help would be most appreciated, as although I can use dynamic IP addresses as a workaround, it does not satisfy my need to know what the problem is and how to fix it!</p>\n"},{"id":610387,"title":"isc-dhcp-server: dhcp dynamically update dns records","body":"<p>i'm trying to dynamically update DNS records when DHCP give out addresses. but even though I have specified allow-update with a key in /etc/bind/named.conf.local and specified the same key in /etc/dhcp/dhcpd.conf. access is denied and it times out. i also tried to set a ip address in allow update instead, but this doesen't seem to work either. is there something i have forgotten to add here? </p>\n\n<p>tail -f /var/log/syslog </p>\n\n<pre><code> client 127.0.0.1#53398: update 'dirks.crtn/IN' denied due to allow-query\n    dhcpd: unable to add forward map from sysadmin.dirks.crtn. to 192.168.56.102: timed out\n    dhcpd: DHCPREQUEST for 192.168.56.102 from 08:00:27:25:73:69 (sysadmin) via eth1\n    dhcpd: DHCPACK on 192.168.56.102 to 08:00:27:25:73:69 (sysadmin) via eth1\n</code></pre>\n\n<p>the configurations in (/etc/dhcp/dhcpd.conf)</p>\n\n<pre><code>ddns-updates on;\nddns-update-style interim;\nupdate-static-leases on;\nauthoritative;\n\nkey \"update-key\" {\nalgorithm hmac-md5;\nsecret \"un7T4dJk6yjR6NS5xZql8w==\";\n};\n\nallow unknown-clients;\nuse-host-decl-names on;\ndefault-lease-time 1814400; #21 days\nmax-lease-time 1814400; #21 days\nlog-facility local7;\n\n\nzone dirks.crtn. {\nprimary localhost;\nkey update-key;\n}\n\nzone 56.168.192.in-addr.arpa. {\nprimary localhost;\nkey update-key;\n}\n\nsubnet 192.168.56.0 netmask 255.255.255.0 {\nrange 192.168.56.3 192.168.56.255;\noption subnet-mask 255.255.255.0;\noption domain-name-servers 192.168.56.2;\noption domain-name \"dirks.crtn\";\nddns-domainname \"dirks.crtn.\";\nddns-rev-domainname \"in-addr.arpa.\";\n}\n</code></pre>\n\n<p>/etc/bind/named.conf.local</p>\n\n<pre><code>key \"update-key\" {\nalgorithm hmac-md5;\nsecret \"un7T4dJk6yjR6NS5xZql8w==\";\n};\n\nzone \"dirks.crtn\" {\ntype master;\nfile \"/etc/bind/dirks.crtn.db\";\nallow-update { key update-key; };\n};\n\nzone \"56.168.192.in-addr.arpa {\ntype master;\nfile \"/etc/bind/rev.56.168.192.in-addr.arpa\";\nallow-update { key update-key; };\n};\n</code></pre>\n\n<p>I appreciate any answer :)</p>\n"},{"id":609761,"title":"DNS server with Bind9: can&#39;t resolve DNS records in forward and reverse zone files","body":"<p>Hello everyone :) I have tried to set up my own DNS server with bind9, but although I have tried several tutorials, I still get the same error. Starting bind9 works fine but when I use <code>nslookup</code> or <code>dig</code> against <code>host1</code> (which exists in the forward zone file) it never manages to resolve the IP address. I have the same problem with the reverse zone file, using the IP address as the argument instead of <code>host1</code>. If I instead lookup, for example, microsoft.com I will get an answer.</p>\n\n<p>Example:</p>\n\n<pre><code>nslookup host1.dirks.crtn\n;; Got SERVFAIL reply from 192.168.56.2, trying next server\n;; Got SERVFAIL reply from 192.168.56.2, trying next server\nserver 127.0.0.1\naddress 127.0.0.1#53\n\n** server can't fint host1.dirks.crtn.dirks.crtn: SERVFAIL\n</code></pre>\n\n<p>I also tried <code>host1</code>:</p>\n\n<pre><code>nslookup host1\n;; Got SERVFAIL reply from 192.168.56.2, trying next server \nserver: 192.168.56.2\naddress 192.168.56.2#53\n\n** server can't find host1: NXDOMAIN\n</code></pre>\n\n<p>With microsoft.com:</p>\n\n<pre><code>nslookup microsoft.com\nserver: 192.168.56.2\naddress: 192.168.56.2#53\n\nNon-authoritative answer:\nname: microsoft.com\naddress: 134.170.188.221\nname: microsoft.com\naddress 134.170.185.46\n</code></pre>\n\n<p>My current files:</p>\n\n<p>File /etc/bind/named.conf.options:</p>\n\n<pre><code>options {\ndirectory \"/var/cache/bind\";\nrecursion yes;\n\n  forwarders {\n  8.8.8.8;\n  8.8.4.4;\n  };\n  allow-query {\n  192.168.56.0/24;\n  };\n  allow-transfer {\n  192.168.56.0/24;\n  };\n};\n</code></pre>\n\n<p>File /etc/bind/named.conf.local:</p>\n\n<pre><code>zone \"dirks.crtn\" {\ntype master;\nfile \"etc/bind/zones/dirks.crtn.db\";\n};\n\nzone \"56.168.192.in-addr.arpa\" {\ntype master;\nfile \"etc/bind/zones/rev.56.168.192.in-addr.arpa\";\n};\n</code></pre>\n\n<p>Forward Zone File - /etc/bind/zones/dirks.crtn.db:</p>\n\n<pre><code>$ORIGIN .\n$TTL 907200          ; 1 week 3 days 12 hours\n\ndirks.crtn           IN SOA filtjener.dirks.crtn. webmaster.dirks.crtn. (\n       1263527838    ; serial\n       10800         ; refresh\n       3600          ; retry (1 hour)\n       604800        ; expire (1 week)\n       38400         ; minimum (10 hours 40 minutes)\n)\n; name server - NS records\n        NS   filtjener.dirks.crtn.\n; name server - A records\nfiltjener.dirks.crtn.      A    192.168.56.2\n\n$ORIGIN dirks.crtn.\nhost1   A   192.168.56.21\nhost2   A   192.168.56.22\nhost3   A   192.168.56.23\n</code></pre>\n\n<p>Reverse zone file - /etc/bind/zones/rev.56.168.192.in-addr.arpa:</p>\n\n<pre><code>$TTL 907200     ; 1 week 3 days 12 hours\n\n@ IN SOA filtjener.dirks.crtn. webmaster.dirks.crtn. (\n     1263187356    ; serial\n     10800         ; refresh (3 hours)\n     3600          ; retry (1 hour)\n     60400         ; expire (1 week)\n     38400         ; minimum (10 hours 40 minutes)\n)\n\n         NS filtjener.dirks.crtn.\n; PTR records\n21      PTR      host1.dirks.crtn.\n22      PTR      host2.dirks.crtn.\n23      PTR      host3.dirks.crtn.\n</code></pre>\n\n<p>File /etc/resolvconf/resolv.conf.d/head:</p>\n\n<pre><code>search dirks.crtn\nnameserver 192.168.56.2\n</code></pre>\n\n<p>File /etc/network/interfaces:</p>\n\n<pre><code>auto lo\niface eth1 inet static\naddress 192.168.56.2\nnetmask 255.255.255.0\n</code></pre>\n\n<p>I checked the files:</p>\n\n<pre><code>sudo named-checkconf\n\nsudo named-chekckzone rev.56.168.192.in-addr.arpa /etc/bind/zones/rev.56.168.192.in-addr.arpa\nzone rev.56.168.192.in-addr.arpa/IN: loaded serial 1263187356\nOK\n\nsudo named-checkzone dirks.crtn /etc/bind/zones/dirks.crtn.db\nzone dirks.crtn/IN: loaded serial 1263527838\nOK\n</code></pre>\n\n<p>and have restarted bind9:</p>\n\n<pre><code>sudo /etc/init.d/bind9 restart\n* Stopping domain name service... bind9 [ok]\nwaiting for pid 2765 to die\n\n* starting domain name service... bind9 [ok]\n</code></pre>\n\n<p>I'm using VirtualBox and since I haven't managed to copy and paste from VirtualBox, it might be small errors in the files.</p>\n\n<p>Does anyone know what I might be doing wrong here? :)\nI appreciate any help :)</p>\n"},{"id":599850,"title":"ISC DHCP Different DNS Server For Different Client OS","body":"<p>Is it possible to configure <code>isc-dhcp</code> in a way that it can send different DNS server addresses to different clients in the network? </p>\n\n<p>Let say I have some Macs, PCs with Linux and Windows in the network. My primary DNS server is <code>bind9</code> under Linux, but I have also a Windows server how also act as a DNS. Now I want that <code>isc-dhcp</code> send to the Windows clients the DNS connection to the Windows server and all other computer in the network get the DNS settings from the dhcp/bind9.</p>\n\n<p>Is that possible?</p>\n"},{"id":592506,"title":"Ubuntu 14.04 DHCP client not updating Windows DNS","body":"<p>We have a set of Windows 2012R2 domain controllers which provide DNS and DHCP service for the network. </p>\n\n<p>I have an Ubuntu 14.04 server which is getting addresses via DHCP. This works correctly. In the Windows DHCP server, I have converted the lease to a reservation. In the DHCP server interface, I can see that the hostname of the client is properly being displayed, so I know the client is properly sending the hostname back.</p>\n\n<p>However, the DNS servers do not seem to be able to resolve the address. Probing the DNS servers via dig returns no records for the hostname.</p>\n\n<p>Windows DHCP clients in the domain which have reservations properly update DNS.</p>\n\n<p>Any pointers on how to resolve this?</p>\n"},{"id":137670,"title":"Cannot bind Deluge to VPN","body":"<p>I created a vpn by using</p>\n\n<p>$ nslookup vpn.ipredator.se</p>\n\n<p>to find the ipredator ip address to use (eg 93.182.174.130) - I didn' t use \"vpn.ipredator.se\" as the Gateway in the Network Manager applet, because that didn't work on 10.04.</p>\n\n<p>The VPN works fine, but when I try to bind deluge to the VPN ip address (via Edit -> Preferences -> Network -> Interface) I get this tracker error:</p>\n\n<p>\"openbittorrent.com: Error: Cannot assign requested address\", and there are no connections. Other applications still work over the VPN.</p>\n\n<p>When I remove the ip address from the Interface box and click Apply, deluge works fine.</p>\n\n<p>I am using 12.04  64 bit (Classic) and I had the same problem with 10.04</p>\n\n<p>Deluge 1.3.5</p>\n\n<p>I'm only after a way to stop my ip address leaking when the VPN cuts out. This seems like the simplest method (if it would work), but I'm open to other methods. I'm not comfortable with ip tables, but from what I can gather I can assign a range of ports for deluge to use, and then use GUFW to only allow traffic on those ports to the ipredator server.</p>\n\n<p>I guess this is a deluge bug, or a quirk of how trackers work. Anyone else had the same issues? Any ideas for troubleshooting?</p>\n"},{"id":158837,"title":"DHCP is mangling my PTR records in DNS","body":"<p>I originally posted this in LinuxQuestions <a href=\"http://www.linuxquestions.org/questions/linux-server-73/dhcp-is-mangling-my-ptr-records-in-dns-4175412344/\" rel=\"nofollow\">http://www.linuxquestions.org/questions/linux-server-73/dhcp-is-mangling-my-ptr-records-in-dns-4175412344/</a> without much luck, so I'll try here.</p>\n\n<p>DHCP is repeating the first three octets when it adds a PTR record. From my messages log:</p>\n\n<pre><code>dhcpd: added reverse map from 10.2.168.192.2.168.192.in-addr.arpa to FTIR.Adherent.lab\n</code></pre>\n\n<p>I'm sure it is something stupid like a missing period, but I haven't been able to figure it out.</p>\n\n<p>This happens on both the 192.168.2.xyz and 192.168.4.xyz networks.</p>\n\n<p>Notice that the FTIR computer is already in the hosts and ptr files but a new entry still gets added. Also, nowhere in my configuration files do I have Adherent with a capital A, but the capitalized version shows up in the mangled file.</p>\n\n<p>My DHCP/BIND server is Ubuntu Linux but all of the network computers are Windows.\nHere is my system info:</p>\n\n<pre><code>$ uname -a\nLinux ATI-DHCP.adherent.lan 2.6.32-41-server #90-Ubuntu SMP Tue May 22 12:41:40 UTC 2012 x86_64 GNU/Linux\n$ lsb_release -a\nDistributor ID: Ubuntu\nDescription:    Ubuntu 10.04.4 LTS\nRelease:        10.04\nCodename:       lucid\n$ named -v\nBIND 9.7.0-P1\n</code></pre>\n\n<p>Here are my various configuration files:</p>\n\n<p>dhcpd.conf:</p>\n\n<pre><code>ddns-update-style interim;\nddns-updates on;\nauthoritative;\n\nlog-facility local1;\n\ndefault-lease-time 86400;\nmax-lease-time 259200;\n\ninclude \"/etc/dhcp3/ddns.key\";\n\n# Adherent internal network with internet access\nzone adherent.lan. {\n    primary 192.168.1.201;\n    key ddns;\n    }\n\n# Reverse zone for 192.168.1.xyz\nzone 1.168.192.in-addr.arpa. {\n    primary 192.168.1.201;\n    key ddns;\n    }\n\n# Adherent insecure network-NO internet access\nzone lab.adherent.lan. {\n    primary 192.168.2.201;\n    key ddns;\n    }\n\n# Reverse zone for 192.168.2.xyz\nzone 2.168.192.in-addr.arpa. {\n    primary 192.168.2.201;\n    key ddns;\n    }\n\n# Guest-Internet only\nzone guest.adherent.lan. {\n    primary 192.168.4.201;\n    key ddns;\n    }\n\n# Reverse zone for 192.168.4.xyz\nzone 4.168.192.in-addr.arpa. {\n    primary 192.168.4.201;\n    key ddns;\n    }\n\n# ATI shared network:  Internal (192.168.1.xyz) and visitor (192.168.4.xyz) nets\nshared-network ATIshared {\n\n    # ATI internal\n    subnet 192.168.1.0 netmask 255.255.255.0 {\n        #range 192.168.1.10 192.168.1.19;\n        deny unknown-clients;\n        ddns-domainname \"adherent.lan\";\n        ddns-rev-domainname \"1.168.192.in-addr.arpa\";\n        option domain-name \"adherent.lan\";\n        option routers 192.168.1.201;\n        option domain-name-servers 192.168.1.201;\n        }\n\n    # Visitor subnet\n    subnet 192.168.4.0 netmask 255.255.255.0 {\n        default-lease-time 3600;\n        range 192.168.4.40 192.168.4.49;\n        allow unknown-clients;\n        ddns-domainname \"guest.adherent.lan\";\n        ddns-rev-domainname \"4.168.192.in-addr.arpa\";\n        option domain-name \"guest.adherent.lan\";\n        option routers 192.168.4.201;\n        option domain-name-servers 192.168.4.201;\n        }\n    }\n\n# Adherent insecure network-NO internet access (192.168.2.xyz)\nsubnet 192.168.2.0 netmask 255.255.255.0 {\n    range 192.168.2.240 192.168.2.250;\n    ddns-domainname \"lab.adherent.lan\";\n    ddns-rev-domainname \"2.168.192.in-addr.arpa\";\n    option domain-name \"lab.adherent.lan\";\n    option routers 192.168.2.101;\n    option domain-name-servers 192.168.2.201;\n    }\n\ninclude \"/etc/dhcp3/hosts.dhcp3\";\n</code></pre>\n\n<p>named.conf.local</p>\n\n<pre><code>include \"/etc/bind/zones.rfc1918\";\n\ninclude \"/etc/bind/ddns.key\";\n\n###########################################################\n# Adherent main zone.  \n# All addresses are fixed and from 192.168.1.0/24\n# If DHCP doesn't have an entry for a computer, it gets put in the guest zone.\n#\nzone \"adherent.lan\" {\n    type master;\n    file \"/var/lib/bind/adherent.lan.hosts\";\n    allow-update { key ddns ;};\n};\n\nzone \"1.168.192.in-addr.arpa\" {\n    type master;\n    file \"/var/lib/bind/192.168.1.rev\";\n    allow-update { key ddns ;};\n};\n\n###########################################################\n# Adherent lab zone.  \n# All addresses are from 192.168.2.0/24\n# Doesn't matter if DHCP has an entry for the computer.\n\nzone \"lab.adherent.lan\" {\n    type master;\n    file \"/var/lib/bind/adherent-lab.lan.hosts\";\n    allow-update { key ddns ;};\n};\n\nzone \"2.168.192.in-addr.arpa\" {\n        type master;\n        file \"/var/lib/bind/192.168.2.rev\";\n        allow-update { key ddns ;};\n};\n\n###########################################################\n# Adherent guest zone.  \n# All addresses are from 192.168.4.0/24\n# If DHCP doesn't have an entry for a computer, it gets put in this zone.\n#\nzone \"guest.adherent.lan\" {\n    type master;\n    file \"/var/lib/bind/adherent-guest.lan.hosts\";\n    allow-update { key ddns ;};\n};\n\nzone \"4.168.192.in-addr.arpa\" {\n    type master;\n    file \"/var/lib/bind/192.168.4.rev\";\n    allow-update { key ddns ;};\n};\n</code></pre>\n\n<p>file /var/lib/bind/adherent-lab.lan.hosts</p>\n\n<pre><code>$ttl 3h\n@       IN      SOA     ATI-DHCP.adherent.lan. bgordon.adherent-tech.com. (\n                        2012061801      ; serial\n                        3h              ; Refresh\n                        1h              ; Retry\n                        1w              ; Expire\n                        1h              ; Minimum\n                        )\n@       IN      NS      ATI-DHCP.adherent.lan.\n\nFTIR        IN  A   192.168.2.10\nGCMS        IN  A   192.168.2.12\ndatalogg    IN  A   192.168.2.13\nTA      IN  A   192.168.2.14\ninstron     IN  A   192.168.2.20\ninstron2    IN  A   192.168.2.21\n</code></pre>\n\n<p>file /var/lib/bind/192.168.2.rev</p>\n\n<pre><code>$TTL 3h\n@   IN SOA  ATI-DHCP.adherent.lan. bgordon.adherent-tech.com. (\n                2012061801  ; serial\n                3h      ; refresh (3 hours)\n                1h      ; retry (1 hour)\n                1w      ; expire (1 week)\n                1h      ; minimum (1 hour)\n                )\n@           NS  ATI-DHCP.adherent.lan.\n10          PTR FTIR.lab.adherent.lan.\n12          PTR GCMS.lab.adherent.lan.\n13          PTR datalogg.lab.adherent.lan.\n14          PTR TA.lab.adherent.lan.\n20          PTR instron.lab.adherent.lan.\n21          PTR instron2.lab.adherent.lan.\n</code></pre>\n\n<p>Same file after mangling (all changes made by DHCP/BIND:</p>\n\n<pre><code>$ORIGIN .\n$TTL 10800  ; 3 hours\n2.168.192.in-addr.arpa  IN SOA  ATI-DHCP.adherent.lan. bgordon.adherent-tech.com. (\n                2012061802 ; serial\n                10800      ; refresh (3 hours)\n                3600       ; retry (1 hour)\n            604800     ; expire (1 week)\n            3600       ; minimum (1 hour)\n            )\n            NS  ATI-DHCP.adherent.lan.\n$ORIGIN 2.168.192.in-addr.arpa.\n10          PTR FTIR.lab.adherent.lan.\n12          PTR GCMS.lab.adherent.lan.\n13          PTR datalogg.lab.adherent.lan.\n14          PTR TA.lab.adherent.lan.\n$TTL 43200  ; 12 hours\n10.2.168.192        PTR FTIR.Adherent.lab.\n$TTL 10800  ; 3 hours\n20          PTR instron.lab.adherent.lan.\n21          PTR instron2.lab.adherent.lan.\n</code></pre>\n"},{"id":50807,"title":"How can I setup dhcpd (dynamic DNS)?","body":"<p>I have a Ubuntu Server 11.04 firewall/gateway set up and I'm wondering how I can configure <code>isc-dhcp-server</code> to update <code>bind9</code> to resolve hostnames in the network.</p>\n\n<p>Here is my setup:</p>\n\n<p>3 computers (example):</p>\n\n<p>Computer 1's hostname: <code>laptop</code></p>\n\n<p>Computer 2's hostname: <code>desktop</code></p>\n\n<p>Computer 3's hostname: <code>nas</code></p>\n\n<p>Internal domain for all hosts: <code>lan.example.com</code></p>\n\n<p>Firewall/Gateway IP: <code>192.168.1.1</code></p>\n\n<p>How can I set up the DHCP and DNS server so that <code>laptop.lan.example.com</code>, for example, will resolve correctly? Also, I've been using Webmin to set up other parts of the server, so is this possible to do with Webmin?</p>\n"}]}]