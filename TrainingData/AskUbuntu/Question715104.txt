[{"id":715104,"title":"How can I downgrade openssl via apt-get?","body":"<p>After a recent upgrade, I am having some SSL connection problems.  I would like to downgrade openssl temporarily to see if the issues go away.</p>\n\n<p>The current version of <code>openssl</code> installed is <code>1.0.1-4ubuntu5.32</code> and the previous version was <code>5.31</code>.  However, when I try:</p>\n\n<pre><code>apt-get install openssl=1.0.1-4ubuntu5.31\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>E: Version '1.0.1-4ubuntu5.31' for 'openssl' was not found\n</code></pre>\n\n<p>I thought this was the correct procedure for installation a specific version?</p>\n","related_questions":[{"id":138284,"title":"How to Downgrade a Package via apt-get?","body":"<p>How to downgrade a package to an older version via <code>apt-get</code>?!</p>\n\n<p>Another tools are also accepted but <code>apt-get</code> is preferred.</p>\n"},{"id":507961,"title":"Getting OpenSSL aes output in hex format","body":"<p>I am trying to use openssl's aes implementation. The encryption and decryption is working fine but when I compare the ciphertext to an online implementation they don't match.</p>\n\n<pre><code>openssl aes-256-cbc -a -e -K 00000000000000000000000000000000 -iv 00000000000000000000000000000000 -in plain.txt -out encrypted.txt\n</code></pre>\n\n<p>plain.txt: </p>\n\n<pre><code>0xf34481ec3cc627bacd5dc3fb08f273e6\n</code></pre>\n\n<p>encrypted.txt:</p>\n\n<pre><code>wrTS5lZ9x6qbwhLcgOffiLA5I25M1HBy81jjcg9SyAW2aCMcYElmaWW7fV9dBiwY\n</code></pre>\n\n<p>Online AES:\n<img src=\"http://i.stack.imgur.com/8Zt11.png\" alt=\"enter image description here\"></p>\n\n<p>OpenSSL output is in base64 encoded format (because of the -a flag). How do I get it in hex format? \n(-hex flag is not there for AES)</p>\n\n<p><strong>EDIT</strong>: \nEven after using hexdump as suggested by muru, the encrypted text is not the same as online-domain-tools.com (see screenshot). Am I missing something?</p>\n"},{"id":456451,"title":"Can I upgrade Mailman to the latest release via apt-get?","body":"<p>I'm running Mailman 2.1.16rc2 on Ubuntu 12.04. That's the most recent version available via apt-get install. Mailman recently released version 2.1.18 with some new features to deal with fallout from <a href=\"http://www.zdnet.com/aol-yahoo-email-problems-show-limits-of-email-security-7000028783/\" rel=\"nofollow\">Yahoo's new DMARC policy</a> for email.</p>\n\n<p>Is there any way to install this latest version via apt-get? I'd like to continue using apt-get updates to find new versions of Mailman in the future, but the version I want is not currently available in the standard repositories.</p>\n"},{"id":278009,"title":"How can I install a later version of solr-jetty via apt-get?","body":"<p>Using apt-get to install solr-jetty only gives me version 1.4 of Solr, but I would like to use one of the 3.x versions.</p>\n\n<p>I'm not yet confident enough to do a manual installation (something usually goes wrong or I end up irreversibly breaking something).</p>\n\n<p>Is there a way I can easily install the version of solr-jetty for I want for my version of Ubuntu via apt-get?</p>\n\n<p>As an update to the question, I have tried the PPA in the suggested question, however, it did not work. I am told that this is because it is for a different version of Ubuntu.</p>\n\n<p>This is the error I receive at the end of running <em>apt-get update</em>:</p>\n\n<blockquote>\n  <p>Fetched 2,535 kB in 7s (354 kB/s) W: Failed to fetch\n  <a href=\"http://ppa.launchpad.net/gasol-wu/oneiric/ubuntu/dists/precise/main/source/Sources\" rel=\"nofollow\">http://ppa.launchpad.net/gasol-wu/oneiric/ubuntu/dists/precise/main/source/Sources</a>\n  404  Not Found</p>\n  \n  <p>W: Failed to fetch\n  <a href=\"http://ppa.launchpad.net/gasol-wu/oneiric/ubuntu/dists/precise/main/binary-amd64/Packages\" rel=\"nofollow\">http://ppa.launchpad.net/gasol-wu/oneiric/ubuntu/dists/precise/main/binary-amd64/Packages</a>\n  404  Not Found</p>\n  \n  <p>W: Failed to fetch\n  <a href=\"http://ppa.launchpad.net/gasol-wu/oneiric/ubuntu/dists/precise/main/binary-i386/Packages\" rel=\"nofollow\">http://ppa.launchpad.net/gasol-wu/oneiric/ubuntu/dists/precise/main/binary-i386/Packages</a>\n  404  Not Found</p>\n  \n  <p>E: Some index files failed to download. They have been ignored, or old\n  ones used instead.</p>\n</blockquote>\n\n<p>I have also tried an installation of Jetty and Openjdk using apt-get, but this resulted in Jetty not starting as a service.</p>\n"},{"id":519054,"title":"How to compress syslog-ng&#39;s network link, now that zlib is disabled in openssl?","body":"<p>In our servers infrastructure, for logging, we use a client/server setup, using syslog-ng, and stunnel as a mean of compression at the network level, through zlib at the SSL layer (syslog-ng doesn't support over the wire compression on the OSE edition - they lie on their website).</p>\n\n<p>Upon installing Ubuntu 14.04, I've found that the 1.0.1f-1ubuntu1 version of OpenSSL entirely disabled compression, which makes the stunnel layer pointless, and leaves the infrastructure without network-level compression (which is crucial).</p>\n\n<p>Is there any suggestion on how to cleanly work this around? I have a few thoughts:</p>\n\n<ul>\n<li>given the OpenSSL developments, I don't think it would be safe to downgrade</li>\n<li>given that the pace of security fixes increased, it wouldn't be feasible to build the package manually</li>\n<li>I don't know any alternative for compressing the network connection of syslog-ng.</li>\n</ul>\n\n<p>Is it expected for OpenSSL to re-enable the (zlib) compression?</p>\n"},{"id":478042,"title":"How to patch the Vulnerability [CVE-2014-0224] in OpenSSL?","body":"<p>I've received a warning from the authority that generated my certificate, it says that there is bug in OpenSSL and it has been found affecting versions 1.0.1.</p>\n\n<p>As I understand, I have to upgrade to <a href=\"https://www.openssl.org/source/\" rel=\"nofollow\">1.0.1h</a> to fix this bug.</p>\n\n<p>This is the first time I deal with these stuff and I'm worried about how it will affect my server.</p>\n\n<p>Do I have to restart any services? And what exactly? I have to make sure this is not going to take too long.</p>\n"},{"id":458806,"title":"Problems upgrading openssl to fix heartbleed - please advise","body":"<p>I'm trying to upgrade openssl but hit the following issue - please could you offer some advice on what is wrong here ?</p>\n\n<pre><code># sudo apt-get install openssl libssl1.0.0\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nYou might want to run 'apt-get -f install' to correct these:\nThe following packages have unmet dependencies.\n linux-image-server : Depends: linux-image-3.2.0-53-generic but it is not going to be installed\nE: Unmet dependencies. Try `sudo apt-get -f install` with no packages (or specify a solution).\n</code></pre>\n\n<p>I've not tried tried the apt-get -f install option yet</p>\n\n<p>I followed up as per smurfs suggestion but only got the following :-</p>\n\n<pre><code># apt-get -f install\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nCorrecting dependencies... Done\nThe following packages were automatically installed and are no longer required:\n  linux-headers-3.2.0-39-generic linux-headers-3.2.0-33 linux-headers-3.2.0-40 linux-headers-3.2.0-37 linux-headers-3.2.0-38\n  linux-headers-3.2.0-39 linux-headers-3.2.0-45 linux-image-3.2.0-45-generic linux-headers-3.2.0-37-generic\n  linux-image-3.2.0-40-generic linux-headers-3.2.0-45-generic linux-image-3.2.0-38-generic linux-headers-3.2.0-40-generic\n  linux-headers-3.2.0-38-generic linux-headers-3.2.0-33-generic linux-image-3.2.0-39-generic\nUse 'apt-get autoremove' to remove them.\nThe following extra packages will be installed:\n  linux-headers-server linux-image-3.2.0-61-generic linux-image-server linux-server\nSuggested packages:\n  fdutils linux-doc-3.2.0 linux-source-3.2.0 linux-tools\nThe following NEW packages will be installed\n  linux-image-3.2.0-61-generic\nThe following packages will be upgraded:\n  linux-headers-server linux-image-server linux-server\n3 upgraded, 1 newly installed, 0 to remove and 180 not upgraded.\n38 not fully installed or removed.\nNeed to get 0 B/38.8 MB of archives.\nAfter this operation, 150 MB of additional disk space will be used.\nDo you want to continue [Y/n]? Y\nSetting up base-files (6.5ubuntu6.7) ...\nInstalling new version of config file /etc/issue ...\nInstalling new version of config file /etc/issue.net ...\nInstalling new version of config file /etc/lsb-release ...\nE: Error: BrokenCount &gt; 0run-parts: /etc/update-motd.d/90-updates-available exited with return code 255\nProcessing triggers for plymouth-theme-ubuntu-text ...\nupdate-initramfs: deferring update (trigger activated)\n(Reading database ... 343095 files and directories currently installed.)\nUnpacking linux-image-3.2.0-61-generic (from .../linux-image-3.2.0-61-generic_3.2.0-61.92_amd64.deb) ...\nDone.\nSetting up libdrm2 (2.4.46-1ubuntu0.0.0.1) ...\nSetting up libpciaccess0 (0.12.902-1ubuntu0.2) ...\nSetting up libdrm-intel1 (2.4.46-1ubuntu0.0.0.1) ...\nSetting up libdrm-nouveau1a (2.4.46-1ubuntu0.0.0.1) ...\nSetting up libdrm-radeon1 (2.4.46-1ubuntu0.0.0.1) ...\nSetting up libglib2.0-0 (2.32.4-0ubuntu1) ...\nNo schema files found: doing nothing.\nSetting up libnih1 (1.0.3-4ubuntu9.1) ...\nSetting up libnih-dbus1 (1.0.3-4ubuntu9.1) ...\nSetting up libudev0 (175-0ubuntu9.5) ...\nSetting up libplymouth2 (0.8.2-2ubuntu31.1) ...\nSetting up initramfs-tools-bin (0.99ubuntu13.5) ...\nSetting up busybox-initramfs (1:1.18.5-1ubuntu4.1) ...\nSetting up iproute (20111117-1ubuntu2.1) ...\nSetting up libc-dev-bin (2.15-0ubuntu10.5) ...\nSetting up linux-libc-dev (3.2.0-53.81) ...\nSetting up libc6-dev (2.15-0ubuntu10.5) ...\nSetting up libc6-i386 (2.15-0ubuntu10.5) ...\nSetting up linux-firmware (1.79.12) ...\nSetting up linux-headers-3.2.0-53 (3.2.0-53.81) ...\nSetting up linux-headers-3.2.0-53-generic (3.2.0-53.81) ...\nSetting up linux-headers-3.2.0-60 (3.2.0-60.91) ...\nSetting up linux-headers-3.2.0-60-generic (3.2.0-60.91) ...\nSetting up linux-headers-3.2.0-61 (3.2.0-61.92) ...\nSetting up linux-headers-3.2.0-61-generic (3.2.0-61.92) ...\ndpkg: dependency problems prevent configuration of linux-image-server:\n linux-image-server depends on linux-image-3.2.0-53-generic; however:\n  Package linux-image-3.2.0-53-generic is not installed.\ndpkg: error processing linux-image-server (--configure):\n dependency problems - leaving unconfigured\nNo apport report written because the error message indicates it's a follow-up error from a previous failure.\n                                                                                                            Setting up linux-headers-server (3.2.0.53.63) ...\ndpkg: dependency problems prevent configuration of linux-server:\n linux-server depends on linux-image-server (= 3.2.0.53.63); however:\n  Package linux-image-server is not configured yet.\ndpkg: error processing linux-server (--configure):\n dependency problems - leaving unconfigured\nNo apport report written because the error message indicates it's a follow-up error from a previous failure.\n                                                                                                            Setting up tzdata-java (2014a-0ubuntu0.12.04) ...\nSetting up libdevmapper1.02.1 (2:1.02.48-4ubuntu7.4) ...\nSetting up ifupdown (0.7~beta2ubuntu11) ...\nSetting up initramfs-tools (0.99ubuntu13.5) ...\nupdate-initramfs: deferring update (trigger activated)\nSetting up upstart (1.5-0ubuntu7.2) ...\nSetting up linux-image-3.2.0-61-generic (3.2.0-61.92) ...\nRunning depmod.\nupdate-initramfs: deferring update (hook will be called later)\nExamining /etc/kernel/postinst.d.\nrun-parts: executing /etc/kernel/postinst.d/apt-auto-removal 3.2.0-61-generic /boot/vmlinuz-3.2.0-61-generic\nrun-parts: executing /etc/kernel/postinst.d/initramfs-tools 3.2.0-61-generic /boot/vmlinuz-3.2.0-61-generic\nupdate-initramfs: Generating /boot/initrd.img-3.2.0-61-generic\nrun-parts: executing /etc/kernel/postinst.d/update-notifier 3.2.0-61-generic /boot/vmlinuz-3.2.0-61-generic\nrun-parts: executing /etc/kernel/postinst.d/zz-update-grub 3.2.0-61-generic /boot/vmlinuz-3.2.0-61-generic\nGenerating grub.cfg ...\nFound linux image: /boot/vmlinuz-3.2.0-61-generic\nFound initrd image: /boot/initrd.img-3.2.0-61-generic\nFound linux image: /boot/vmlinuz-3.2.0-52-generic\nFound initrd image: /boot/initrd.img-3.2.0-52-generic\nFound linux image: /boot/vmlinuz-3.2.0-51-generic\nFound initrd image: /boot/initrd.img-3.2.0-51-generic\nFound linux image: /boot/vmlinuz-3.2.0-48-generic\nFound initrd image: /boot/initrd.img-3.2.0-48-generic\nFound linux image: /boot/vmlinuz-3.2.0-45-generic\nFound initrd image: /boot/initrd.img-3.2.0-45-generic\nFound linux image: /boot/vmlinuz-3.2.0-40-generic\nFound initrd image: /boot/initrd.img-3.2.0-40-generic\nFound linux image: /boot/vmlinuz-3.2.0-39-generic\nFound initrd image: /boot/initrd.img-3.2.0-39-generic\nFound linux image: /boot/vmlinuz-3.2.0-38-generic\nFound initrd image: /boot/initrd.img-3.2.0-38-generic\nFound linux image: /boot/vmlinuz-3.2.0-37-generic\nFound initrd image: /boot/initrd.img-3.2.0-37-generic\nFound memtest86+ image: /memtest86+.bin\ndone\nSetting up procps (1:3.2.8-11ubuntu6.3) ...\nprocps stop/waiting\nSetting up udev (175-0ubuntu9.5) ...\nudev stop/waiting\nudev start/running, process 9106\nRemoving 'diversion of /sbin/udevadm to /sbin/udevadm.upgrade by fake-udev'\nupdate-initramfs: deferring update (trigger activated)\nSetting up mountall (2.36.4) ...\nSetting up plymouth (0.8.2-2ubuntu31.1) ...\nupdate-initramfs: deferring update (trigger activated)\nSetting up dmsetup (2:1.02.48-4ubuntu7.4) ...\nupdate-initramfs: deferring update (trigger activated)\nProcessing triggers for libc-bin ...\nldconfig deferred processing now taking place\nProcessing triggers for initramfs-tools ...\nupdate-initramfs: Generating /boot/initrd.img-3.2.0-61-generic\n\n\nErrors were encountered while processing:\n linux-image-server\n linux-server\nE: Sub-process /usr/bin/dpkg returned an error code (1)\n</code></pre>\n\n<p>Any further ideas here ?</p>\n"},{"id":449184,"title":"How to upgrade OpenSSL 1.0.1f on Ubuntu Server 14.04?","body":"<p>It looks like Ubuntu Server 14.04 just released today includes OpenSSL v1.0.1f which is vulnerable to the heartbleed bug.</p>\n\n<p>I've updated my packages (apt-get update) but that's the latest version available.</p>\n\n<p>How to do I upgrade to 1.0.1g so I'm not vulnerable?</p>\n"},{"id":446418,"title":"Heartbleed Ubuntu 13.04 stuck on OpenSSL 1.0.1c","body":"<p>Just noticed that my Ubuntu 13.04 install is stuck on an old version of OpenSSL.</p>\n\n<pre><code>OpenSSL 1.0.1 14 Mar 2012\n</code></pre>\n\n<p>The distro is fully to to date, running apt-get update, then apt-get upgrade or apt-get dist-upgrade now gives me the following.</p>\n\n<pre><code>0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n</code></pre>\n\n<p>What am I missing to get the OpenSSL package to update?</p>\n"},{"id":444873,"title":"Problem updating OpenSSL in 13.10 - How to diagnose or work around?","body":"<p>Following the instructions in the <a href=\"http://askubuntu.com/questions/444702/how-to-patch-cve-2014-0160-in-openssl\">existing question on the OpenSSL bugs</a>, I've run apt-get update and upgrade, and  rebooted.</p>\n\n<p>Now when I check the version, I do not have the version mentioned in the answers to the previous question \"1.0.1-4ubuntu5.12\"</p>\n\n<pre><code>&gt;dpkg -s openssl\nVersion: 1.0.1e-3ubuntu1.2\n\n&gt;openssl version\nOpenSSL 1.0.1e 11 Feb 2013\n</code></pre>\n"}]}]