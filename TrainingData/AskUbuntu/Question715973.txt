[{"id":715973,"title":"`grep -r` command leads to kernel panic","body":"<p>When I used the <code>grep -r</code> command  in <code>vim</code>, the system died.</p>\n\n<p>Also the system sometimes shows 'disk error', 'broken pipeline' on startup.</p>\n\n<p>The wlan always dies too.</p>\n\n<p>Is my hardware incompatible with the system?</p>\n\n<p><a href=\"http://i.stack.imgur.com/OW5cT.jpg\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/OW5cT.jpg\" alt=\"picture\"></a></p>\n","related_questions":[{"id":496565,"title":"Ubuntu server 14.04 kernel panic at boot","body":"<p>Since when I installed netatalk on Ubuntu server 14.04 I get a kernel panic at boot. I think netatalk is the cause because I can see the word \"appletalk\" many times in the kernel panic screen. I've also changed both my RAM modules and checked my HDD, CPU and GPU to be sure that the kernel panic was not caused by a hardware failure. I tried booting with a different kernel and the situation didn't change, while booting in rescue mode didn't result in a kernel panic. However, I got a kernel panic even in rescue mode after issuing the <code>dpkg --configure -a</code> command.</p>\n\n<p>I really don't know what to do and I don't understand much from the kernel panic screen. Here is it; I hope you can help me. Thank you.</p>\n\n<p><a href=\"http://i.stack.imgur.com/8sCzF.jpg\" rel=\"nofollow\">http://i.stack.imgur.com/8sCzF.jpg</a></p>\n"},{"id":664474,"title":"Kernel panic Ubuntu 14.04 after accidently deleting the kernels","body":"<p>I was trying to free up some space in /boot by following <a href=\"http://askubuntu.com/a/90219/282022\">this</a>.</p>\n\n<p>I ran the last command which said it would delete all but the current using kernel.</p>\n\n<pre><code>sudo apt-get purge $(dpkg -l linux-{image,headers}-\"[0-9]*\" | awk '/ii/{print $2}' | grep -ve \"$(uname -r | sed -r 's/-[a-z]+//')\")\n</code></pre>\n\n<p>I am not sure what it did but when I rebooted it shows</p>\n\n<pre><code>kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)\n</code></pre>\n\n<p>There are more line there which I will type out if required.</p>\n\n<p>But I can boot from other kernel from <code>Advanced options for ubuntu</code> in the grub.</p>\n\n<p>I searched for some solution and tried <a href=\"http://askubuntu.com/questions/28099/how-to-restore-a-system-after-accidentally-removing-all-kernels\">this</a> by booting from a live-usb to fix the deleted kernel but     <code>apt-get install linux-image-generic</code> command showed error.</p>\n\n<p>Output for <code>uname -r</code></p>\n\n<pre><code>3.13.0-46-generic\n</code></pre>\n\n<p>Output for <code>dpkg --list | grep linux-image</code></p>\n\n<pre><code>rc  linux-image-3.13.0-32-generic                         3.13.0-32.57                                        amd64        Linux kernel image for version 3.13.0 on 64 bit x86 SMP\niF  linux-image-3.13.0-46-generic                         3.13.0-46.79                                        amd64        Linux kernel image for version 3.13.0 on 64 bit x86 SMP\niF  linux-image-3.13.0-57-generic                         3.13.0-57.95                                        amd64        Linux kernel image for version 3.13.0 on 64 bit x86 SMP\niU  linux-image-3.13.0-62-generic                         3.13.0-62.102                                       amd64        Linux kernel image for version 3.13.0 on 64 bit x86 SMP\nrc  linux-image-extra-3.13.0-32-generic                   3.13.0-32.57                                        amd64        Linux kernel extra modules for version 3.13.0 on 64 bit x86 SMP\nrH  linux-image-extra-3.13.0-44-generic                   3.13.0-44.73                                        amd64        Linux kernel extra modules for version 3.13.0 on 64 bit x86 SMP\niU  linux-image-extra-3.13.0-46-generic                   3.13.0-46.79                                        amd64        Linux kernel extra modules for version 3.13.0 on 64 bit x86 SMP\niU  linux-image-extra-3.13.0-57-generic                   3.13.0-57.95                                        amd64        Linux kernel extra modules for version 3.13.0 on 64 bit x86 SMP\niU  linux-image-extra-3.13.0-62-generic                   3.13.0-62.102                                       amd64        Linux kernel extra modules for version 3.13.0 on 64 bit x86 SMP\niU  linux-image-generic                                   3.13.0.62.69                                        amd64        Generic Linux kernel image\n</code></pre>\n\n<p>I am not sure what additional information to include. Do let me know.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Its not a duplicate.\n<code>update-initramfs -u -k version</code> is not working.\nGiving the following error.</p>\n\n<p><code>update-initramfs: Generating /boot/initrd.img-3.13.0-46-generic\nmktemp: failed to create file via template ‘/var/tmp/mkinitramfs-FW_XXXXXX’: No such file or directory\nupdate-initramfs: failed for /boot/initrd.img-3.13.0-46-generic with 1.</code></p>\n\n<p>Thing is I can't even install any other packages because when I run apt-get it first tries to remove the previous images of kernel but it cannot find them and terminates in error.\nI have searched extensively but nothing seems to help me. I also don't want to reinstall the os.\nI am not very experienced with ubuntu. Any help will be appreciated.</p>\n"},{"id":625797,"title":"grep regex pattern causes unexpected command behavior","body":"<p>I'm searching for lines with <code>$</code> and consecutively <code>'</code> or <code>\"</code> through this grep in my terminal:</p>\n\n<pre><code>grep \"\\\\$('|\\\")\" -rin folder_path\n</code></pre>\n\n<p>After pressing enter the terminal doesn't think the line is complete so it adds another line for me to keep writing. If I press <kbd>Tab</kbd> while writing <code>folder_path</code> it shows this error:  </p>\n\n<pre><code>bash: command substitution: line 107: syntax error: file premature end\nbash: command substitution: line 106: unexpected file premature end while searching for `''\n</code></pre>\n\n<p>Those error messages were translated because a part of them are shown in portuguese. I'm using Ubuntu 13.10.  </p>\n\n<p>What is wrong?</p>\n"},{"id":527986,"title":"&#39;grep&#39; command not working on Lubuntu","body":"<p>I'm using Lubuntu 14.04 with a fresh install (Monday) and I noticed that my <code>grep</code> command doesn't work. Whatever I do, it shows me the <code>grep usage page</code>. For instance, if I try to run: <code>grep test *</code> or <code>grep test test.txt</code>, I get the usage page. Command <code>which grep</code> returns <code>/bin/grep</code>, I also tried <code>alias grep=\"grep\"</code> but nothing works.</p>\n\n<p><code>ls -l /bin/grep</code> prints:</p>\n\n<pre><code>-rwxr-xr-x 1 root root 178216 jan. 18  2014 /bin/grep\n</code></pre>\n\n<p>Reinstalling the <code>grep</code> command with:</p>\n\n<pre><code>sudo apt-get install --reinstall grep\n</code></pre>\n\n<p>didn't make any difference.</p>\n\n<p>The usage message is 76 lines long; the first few lines are:</p>\n\n<pre><code>Usage: grep [OPTION]... PATTERN [FILE]...\nSearch for PATTERN in each FILE or standard input.\nPATTERN is, by default, a basic regular expression (BRE).\nExample: grep -i 'hello world' menu.h main.c\n</code></pre>\n\n<p><code>grep --version</code> shows:</p>\n\n<pre><code>grep (GNU grep) 2.16\nCopyright (C) 2014 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\nWritten by Mike Haertel and others, see &lt;http://git.sv.gnu.org/cgit/grep.git/tree/AUTHORS&gt;.\n</code></pre>\n\n<p>Any ideas?</p>\n"},{"id":391274,"title":"grep string from a pcap file","body":"<p>I'm trying to figure out the correct command syntax. I have a pcap file, and I want to use grep, and grep only to take out all of the uniq ip addresses from without the file</p>\n\n<p>So assuming the file is called capture.pcap and is in my home folder, what should I write? </p>\n\n<p>I assume the regex can be <code>'\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}'</code>\nand that <code>sort</code> and <code>uniq</code> must be included also, but it seems the pcap doesn't respond well with grep, for example using the normal syntax of grep file word doesn't work, if I run: <code>grep 239 ./capture.pcap</code> I get the replay <code>Binary file ./capture/pcap matches</code></p>\n"},{"id":165320,"title":"grep invalid option on ubuntu","body":"<p>I've already removed and reinstalled grep on Ubuntu but still the same error persists.</p>\n\n<p>Whatever grep command I type I always see the following output:</p>\n\n<blockquote>\n  <p>grep: invalid option -- '='</p>\n  \n  <p>Usage: grep [OPTION]... PATTERN [FILE]...</p>\n  \n  <p>Try grep --help for more information.`</p>\n</blockquote>\n\n<p>So even </p>\n\n<blockquote>\n  <p>grep -V</p>\n</blockquote>\n\n<p>results in this error, or</p>\n\n<blockquote>\n  <p>grep --help</p>\n</blockquote>\n\n<p>same thing!</p>\n\n<p>/bin/grep has the same byte size as it does on my other identical hosts, where it works fine, so it's likely to be some environmental variable or local setting. </p>\n\n<p>Any ideas?</p>\n"},{"id":383259,"title":"grep on --help doesn&#39;t work on some commands","body":"<p>I just wondered why you can't grep on some --help commands.</p>\n\n<p>For example if I use <code>ifconfig --help | grep unix</code> it still prints the whole help instead of the line with unix.</p>\n\n<p>But on <code>grep --help | grep null</code> it works fine.</p>\n"},{"id":319520,"title":"Avoid duplicate pids while grepping for a pattern","body":"<p>I have written a shell script that reads the updating logs and sends an email notification when there are OOM using do while loop. </p>\n\n<p>I am able to get the email notification for OOM errors but every time a duplicate PID is getting generated for the email sent which is creating a huge no. of duplicate pids while I am grepping for that particular process/ Admin server (weblogic). PFB my script, is there any way I can avoid the duplicate PIDs and can get only parent PID while doing a grep.</p>\n\n<pre><code>#!/bin/sh\n# Script to read the updating log file and send mail for any errors : LogCheck.sh\n# SET VARIABLES\nlogfile=BEA_HOME/SERVERS/Admin.log\npattern=\"java.lang.OutOfMemoryError: Java heap space\" \n\n#Read each line as it gets updating to the log file\ntail -fn0 $logfile | while read line ; do \n\n    #check each line for our pattern\n    echo \"$line\" | grep -i \"$pattern\"\n\n    #Perform the below action if a line matches with our pattern\n    if [ $? = 0 ]; \n\n    then\n        #Send an email \n        echo \"Found an error: $line\" | mailx -s \"please check the error\" emailID \n    fi\n\ndone\n</code></pre>\n"},{"id":295541,"title":"kernel panic error","body":"<p>Hey guys I need a little help..\nSomething has gone wrong with my laptop and now When I boot into Ubuntu I get a kernel panic error.  I am even unable to boot into recovery mode.\nI am trying to re-install the kernel through live CD by using following commands:</p>\n\n<pre><code>sudo mkdir /mnt/temp \nsudo mount /dev/sdXY /mnt/temp  # Example: sudo mount /dev/sda5 /mnt/temp\n# Run the next two commands only if you have a separate /boot partition\nsudo mkdir /mnt/temp/boot\nsudo mount /dev/sdXZ /mnt/temp/boot  # Example: sudo mount /dev/sda6 /mnt/temp/boot  # (sda6 is the /boot partition)\nfor i in /dev /dev/pts /proc /sys; do sudo mount -B $i /mnt/temp$i;  done\nsudo cp /etc/resolv.conf /mnt/temp/etc/resolv.conf  # May be required to connect to the Internet.\nsudo chroot /mnt/temp\n</code></pre>\n\n<p>but at the last command of <code>chroot</code> I am getting error \n<code>chroot: cannot run command /bin/bash': Exec format error</code>\nI think it is happening because my versions of Live CD and installed Ubuntu are not same, but how can I find out the version of installed Ubuntu?  Please help me.  If there is any other way I will be glad to check it out!!\nThanks in advanced...</p>\n"},{"id":266485,"title":"Why does this grep command not work?","body":"<p>When I try to use grep in this fashion:</p>\n\n<pre><code>service --status-all | grep network\n</code></pre>\n\n<p>It still lists all the services even though I piped it into <code>grep</code> to restrict it to the \"network\" string only</p>\n\n<hr/>\n\n<blockquote>\n  <p><strong>After the Fact:</strong> </p>\n  \n  <p>Noticed this <a href=\"http://askubuntu.com/questions/70112/why-does-service-status-all-output-to-stderr-instead-of-stdin\">article</a> that explains why the command behaves this way, that's what I like about linux, there is always a good reason, but not necessary intuitive </p>\n</blockquote>\n"}]}]