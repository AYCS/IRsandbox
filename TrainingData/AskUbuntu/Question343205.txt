[{"id":343205,"title":"Where can I find the mount point for SMB shares in 13.04?","body":"<p>In older Ubuntu releases, you were able to access the SMB shares mounted with Nautilus by going into the <code>~/.gvfs/</code> directory. I found it very convenient, since I like to use Nautilus to mount the shares, but do all disk operations (copy, mv, find etc.) using command line.</p>\n\n<p>I now have Ubuntu 13.04, and even though I can mount the share and use it with Nautilus (which I never use), I am unable to find the actual mount point. Is it still somewhere? Or has it been abandoned? Can I get it back?</p>\n\n<p>I know that I can mount the shares using CIFS and <code>/etc/fstab</code>, but I'd rather use the user space. That way, when I install a new system or transfer my home to another machine, my preferences (including credentials) stay in my home directory and I don't need to worry about updating fstab.</p>\n\n<p>Also, I do not want to mount it manually with sudo (with <code>sudo mount -t cifs ...</code>). Yes, I could create an alias or a script, but then I would have to either type my password every time or store my password in a credentials file. And type the sudo password. And then each time I encounter a new share, I'd need to remember how to create a credentials file. So yes, I might end up with this solution, but I would rather not change my current habits, if it is possible.</p>\n\n<p>Furthermore, there is the matter of other users for which I often provide a simple command-line solution. In 13.04, this is no longer possible (for example, because the users to whom I provide the solution are not allowed to sudo mount on their machines).</p>\n\n<p>In any case, I'm curious as to what happened to gvfs and why I can't see the mounted directories.</p>\n","related_questions":[{"id":697842,"title":"Where is the smb mount point in 15.10 of shares mounted via the file manager?","body":"<p>From Ubuntu 15.10 I want to access movie files on a samba server for editing in Avidemux. I cannot open the files from within the file open dialog of Avidemx because the smb network share doesn't show up. Neither can I find the gvfs mount point to navigate to the files (it used to be in ~/home/.gvfs in 12.04, then it moved to /run/user/UID/gvfs, but now in 15.10 I cannot find it anywhere. The /proc/mounts shows only \"gvfsd-fuse /run/user/1001/gvfs ....\" but that directory appears empty. This means that I cannot use the command line at all to fix the problem by creating a link (as I used to do in 14.04).\nAny help?</p>\n\n<p>Thanks,\nMichael</p>\n"},{"id":689515,"title":"Mount network share automatically on startup","body":"<p>I'm trying to have two network shares automatically mount upon rebooting my machine but I'm having no luck. I've read through several similar AskUbuntu questions but I can't seem to get it to mount the shares on rebooting.  This is my current configuration:</p>\n\n<p><strong>/etc/fstab:</strong></p>\n\n<pre><code>//192.168.1.18/FileDepot    /mnt/FileDepot  cifs    credentials=/home/user1/.credentials,uid=1000,gid=1000,user,sec=ntlm    0   0\n//192.168.1.18/Incoming     /mnt/Incoming   cifs    credentials=/home/user1/.credentials,uid=1000,gid=1000,user,sec=ntlm    0   0\n</code></pre>\n\n<p>In my home folder, I have the <strong>.credentials</strong> file:</p>\n\n<pre><code>username=user1\npassword=mypass\n</code></pre>\n\n<p>As I mentioned, this will not autmatically mount the shares on a reboot, but if I manually run:</p>\n\n<pre><code>sudo mount -a\n</code></pre>\n\n<p>it works.</p>\n\n<p>I'm running Xubuntu 15.10 x64. Any idea what I'm doing wrong or missing?</p>\n\n<p>ifconfig output:</p>\n\n<pre><code>enp0s25   Link encap:Ethernet  HWaddr 54:ee:75:4d:ec:01  \n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          RX packets:0 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)\n          Interrupt:20 Memory:f1200000-f1220000 \n\nlo        Link encap:Local Loopback  \n          inet addr:127.0.0.1  Mask:255.0.0.0\n          inet6 addr: ::1/128 Scope:Host\n          UP LOOPBACK RUNNING  MTU:65536  Metric:1\n          RX packets:443 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:443 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:0 \n          RX bytes:40169 (40.1 KB)  TX bytes:40169 (40.1 KB)\n\nwlp4s0    Link encap:Ethernet  HWaddr 34:02:86:42:e4:06  \n          inet addr:192.168.1.78  Bcast:192.168.1.255  Mask:255.255.255.0\n          inet6 addr: fe80::3602:86ff:fe42:e406/64 Scope:Link\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:2128 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:1960 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:1000 \n          RX bytes:1324170 (1.3 MB)  TX bytes:723204 (723.2 KB)`\n</code></pre>\n\n<p>cat /etc/network/interfaces:</p>\n\n<pre><code># interfaces(5) file used by ifup(8) and ifdown(8)\nauto lo\niface lo inet loopback\n</code></pre>\n\n<p>Here is some output from dmesg:</p>\n\n<pre><code>[    5.077816] CIFS VFS: Error connecting to socket. Aborting operation.\n[    5.077818] CIFS VFS: Error connecting to socket. Aborting operation.\n[    5.078083] CIFS VFS: cifs_mount failed w/return code = -101\n[    5.078666] CIFS VFS: Error connecting to socket. Aborting operation.\n[    5.078836] CIFS VFS: cifs_mount failed w/return code = -101\n[    5.080887] CIFS VFS: Error connecting to socket. Aborting operation.\n[    5.081008] CIFS VFS: cifs_mount failed w/return code = -101\n</code></pre>\n\n<p>I've tried using ethernet and no wifi, but that didn't help. I'm not sure where to go with this now.</p>\n"},{"id":680896,"title":"Mount SMB/CIFS in Ubuntu from Openmediavault","body":"<p>I really do have a serious problem.\nI try to mount smb/cifs share into Ubuntu 15.04.the mount string is like\n//192.168.10.27/AM /mnt/windowsshare cifs hard,noperm,nouid,credentials=/home/snofla/.smbcredentials,iocharset=utf8,,file_mode=0777,dir_mode=0777,nodfs 0 0</p>\n\n<p>I see all the folders and files but when I try to open a file I can't get it working. It seems that I don't have the rights for it.[![enter image description here][1]][1]</p>\n\n<p>When I do the same through the browse network option I can open all the files, so my question is what do I wrong?</p>\n\n<p>best regards\nAlf</p>\n"},{"id":634203,"title":"Mount network share by clicking on it in file manager (i.e. Nautilus)","body":"<p>I have a NAS SMB share that I want to mount. It's not always on, and I use the same computer at work so I don't want to mount it automatically.</p>\n\n<p>For now I mount and unmount it through terminal, but is there a way to make it behave like USB flash drive? And by that I mean, it mounts (or tries to mount) when I click on it (/media/nsa320/ folder) in Nautulis, and unmount when I click the eject button.\nToday I found <code>users</code> mount flag, I for a second I thought that was it, but I still can't mount it by clicking on it:</p>\n\n<pre><code>mount.cifs: permission denied: no match for /media/nsa320 found in /etc/fstab\n</code></pre>\n\n<p>I get the same output with: <code>mount /media/nsa320/</code>, so I guess that's what Nautulis is trying to do. From what I can tell the <code>users</code> flag only changes that you don't have to type your password, but you must still use the command as root. Weird. I can unmout the share through Nautilus though.</p>\n\n<pre><code>$ mount /media/nsa320/\nmount.cifs: permission denied: no match for /media/nsa320 found in /etc/fstab\n$ sudo mount /media/nsa320/ [works]\n$ umount /media/nsa320/ [works]\n</code></pre>\n\n<p>For a long time I wanted to make it happen, but once more after looking for the answer fell short. Is there any way to achieve what I want?</p>\n\n<p>fstab:</p>\n\n<pre><code>//192.168.0.xx/xxx /media/nsa320/ cifs users,noauto,credentials=/home/xxx/.smbcredentials,uid=1000,gid=1000,file_mode=0655,dir_mode=0755,iocharset=utf8,sec=ntlm 0 0\n</code></pre>\n\n<p>Thanks,\nPaweł</p>\n"},{"id":618147,"title":"I don&#39;t have permission to access the subdirectories of a mounted share I created","body":"<p>After I mounted a domain share I tried to find duplicates with fdupes, but then I found out that I don't have permissions to the subdirectories of the share.</p>\n\n<p>This is how I mounted the share:</p>\n\n<p>First I made the <code>/media/sharename</code> with <code>mkdir</code>.</p>\n\n<p>Then I added this line in <code>/etc/fstab</code>:</p>\n\n<pre><code>//servername/sharename /media/sharename cifs credentials=/home/ubuntuusername/.smbcredentials,iocharset=utf8,sec=ntlm 0 0\n</code></pre>\n\n<p>And I made the file with the credentials with:</p>\n\n<pre><code>gedit ~/.smbcredentials\n</code></pre>\n\n\n\n<pre><code>username=msusername\npassword=mspassword\ndomain=DOMAIN\n</code></pre>\n\n<p>Then I used the <code>sudo mount -a</code> to mount the share.</p>\n\n<p>I can reach the share (also at the GUI) but I cannot open the subdirs because I don't have permissions.</p>\n\n<p>Is the share not looking at the permissions of my MS account/credentials?</p>\n\n<p>Or do I have to change something in the fstab line to do that? Or is it possible to do this another way?</p>\n"},{"id":574275,"title":"Weird SMB mount issue (again) - cannot mount from fstab","body":"<p>This is a frequent question, I know, but I need to ask again because none of the solutions comments and answers here and elsewhere give me a clue as to what is happening.\nI am running a NAS box with a smb share //192.168.1.16/media</p>\n\n<p>The share is available from all windows and android clients. </p>\n\n<p>On linux (Ubuntu) pcs it can be accessed with file browsers like nemo or nautilus as \"smb://192.168.1.16/media\"</p>\n\n<p>However, on the Ubunut (14.04) pcs the share cannot be mounted from fstab. The fstab line is</p>\n\n<blockquote>\n  <p>//192.168.1.16/media  /mnt/readynas  cifs  username=validuser,password=validpassword  0 0</p>\n</blockquote>\n\n<p>which on >sudo mount -a returns:</p>\n\n<p>\"mount: special device //192.168.1.16/media does not exist\"</p>\n\n<p>Clearly, the device does exist.</p>\n\n<p>Any clues, hints or tips, anyone?</p>\n"},{"id":571276,"title":"SMB Share wont let me write to a sub-directory where I have permissions","body":"<p>Not sure why this isn't working but its very confusing:</p>\n\n<p>I have a smb share mounted at </p>\n\n<pre><code>/run/user/1001/gvfs/smb-share:server=cyserve,share=cynopsis\n</code></pre>\n\n<p>my user name is tahnoonp, and I have permissions on that directory</p>\n\n<pre><code>&gt; stat /run/user/1001/gvfs/smb-share\\:server\\=cyserve\\,share\\=cynopsis/\n</code></pre>\n\n<blockquote>\n<pre><code>  File: ‘/run/user/1001/gvfs/smb-share:server=cyserve,share=cynopsis/’\n  Size: 0           Blocks: 0          IO Block: 4096   directory\nDevice: 26h/38d Inode: 2           Links: 1\nAccess: (0700/drwx------)  Uid: ( 1001/tahnoonp)   Gid: ( 1001/tahnoonp)\nAccess: 2015-01-08 16:05:30.000000000 +0800\nModify: 2015-01-08 16:05:26.000000000 +0800\nChange: 2015-01-08 16:05:26.000000000 +0800\n Birth: -\n</code></pre>\n</blockquote>\n\n<p>I can add a file to that directory</p>\n\n<pre><code>tahnoonp:smb$&gt; touch test.txt\n&gt;\n    tahnoonp:smb-share:server=cyserve,share=cynopsis$&gt;ls\n    Product_Callis  Product_Iris  Product_Themis  test.txt  Apollo\n</code></pre>\n\n<p>The permissions are the same one level down:</p>\n\n<pre><code>tahnoonp:smb$&gt; stat Product_Iris/\n  File: ‘Product_Iris/’\n  Size: 0           Blocks: 0          IO Block: 4096   directory\nDevice: 26h/38d Inode: 6           Links: 1\nAccess: (0700/drwx------)  Uid: ( 1001/tahnoonp)   Gid: ( 1001/tahnoonp)\nAccess: 2015-01-08 10:01:17.000000000 +0800\nModify: 2015-01-05 11:17:44.000000000 +0800\nChange: 2015-01-05 11:17:44.000000000 +0800\n Birth: -\n</code></pre>\n\n<p>but if I try to add a file at that level</p>\n\n<pre><code>tahnoonp:smb/Product_Iris$&gt;touch test.txt\ntouch: cannot touch ‘test.txt’: Permission denied\n</code></pre>\n\n<p>and the relevant section of the smb.conf where my username is <code>tahnoon</code></p>\n\n<pre><code>guest account = nobody\n[cynopsis]\ncomment = Guest access cynopsis\npath = /home/cynopsis\nread only = no\nbrowsable = yes\npublic = yes\nwritable =yes\nvalid users = tahnoon\ndirectory mask = 0777\ndelete readonly = no\n</code></pre>\n\n<p>We have mac users and they are just able to connect and do what they need. Not sure what is going on and would really appreciate your help.</p>\n\n<p>Additional info:</p>\n\n<p>====================</p>\n\n<p>The same problem arises if I do </p>\n\n<p><code>mount -t cifs -o user=tahnoon,uid=1001,forceuid //192.XXX.XXX.XXX/cynopsis /mnt/cyserve</code> rather than using the nautilus gvfs mount</p>\n"},{"id":393563,"title":"How to change permissions on mounted windows share?","body":"<p>I have mounted a windows share, But only root have write permissions..</p>\n\n<p>I need to change that to my user(einar) so my programs can download and shave stuff to my windows share.</p>\n\n<p>commands I've have used to mount:</p>\n\n<pre><code>sudo mkdir /mnt/ussenterprise\nsudo gedit /etc/fstab\n//servername/sharename  /mnt/ussenterprise  cifs  username=msusername,password=mspassword,iocharset=utf8,sec=ntlm  0  0\nsudo mount -a\n</code></pre>\n\n<p>yes I have read access to everything in the mounted share, but only root gave write..</p>\n\n<p>I've tried: <code>sudo chown einar:einar /mnt/ussenterprise</code>, and <code>sudo chown einar /mnt/ussenterprise</code></p>\n\n<p>I get; <code>permissions denied</code> </p>\n\n<p>what to do?</p>\n\n<p>Solution:</p>\n\n<p>Changed my fstab to:</p>\n\n<pre><code>//server/share  /media/share  cifs  username=msusername,password=mspassword,uid=1000,gid=1000  0  0\n</code></pre>\n"},{"id":1836,"title":"Problems mounting an SMB share in my fstab","body":"<p>I have a valid, reachable SMB share on my Windows box, which I can mount with </p>\n\n<pre><code>sudo mount -t cifs //192.168.0.9/C /mnt/WinC -o username=foo,password=bar\n</code></pre>\n\n<p>but isn't mountable from my fstab.  The fstab entry reads</p>\n\n<pre><code>//192.168.0.9    /mnt/WinC    credentials=/root/.smbcredentials,iocharset=utf8,file_mode=0777,dir_mode=0777    0    0\n</code></pre>\n\n<p>and the credentials file (which has 777 permissions while I get this working) contains</p>\n\n<pre><code>username=foo\npassword=bar\n</code></pre>\n\n<p>but sudo mount -a results in an error, which from a dmesg | tail, shows</p>\n\n<pre><code>[225040.991705]  CIFS VFS: No username specified\n[225050.991721]  CIFS VFS: cifs_mount failed w/return code = -22\n</code></pre>\n\n<p>Anyone else seen this issue and managed to resolve it?</p>\n"},{"id":228997,"title":"Samba share mounting in read-only mode","body":"<p>I used to mount my local network HDD (samba share) using following fstab entry:</p>\n\n<pre><code>//192.168.1.5/PUBLIC /media/MyBookLive smbfs credentials=/home/gacek/.mybookcredentials,uid=1000,gid=1000\n</code></pre>\n\n<p>Of course, the <code>.mybookcredentials</code> file contains authentication details for user with full rights. It used to work in 12.x, but I had to reinstall my Ubuntu and right now (in 11.10) it mounts the share in read-only mode.</p>\n\n<p>I also tried to replace <code>smbfs</code> with <code>cifs</code> with no result. </p>\n\n<p>How can I mount my samba share (via fstab) with write permissions? </p>\n\n<p><strong>SOLVED</strong></p>\n\n<p>OK, I haven't noticed that my GID changed. After checking my <code>UID</code> using:</p>\n\n<pre><code>id -u username\n</code></pre>\n\n<p>And replacing with it the UID and GID in <code>fstab</code> file all works - I have read-write permissions to my mounted samba disc.</p>\n"}]}]