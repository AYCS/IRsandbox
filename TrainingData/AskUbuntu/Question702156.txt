[{"id":702156,"title":"Prevent Ubuntu from shutdown before background automatic updates complete","body":"<p>So there is a situation were I have installed a (x)Ubuntu 14.04 on a friend's PC. Automatic updates are set \"download and automatic install updates\".</p>\n\n<p>The problem is after some months of use, it happens to shutdown his PC before packages upgrade complete. That leads to broken dependencies/packages (don't remember exactly the message), which leads to no longer kernel, apps and browser updates. To fix that you need to run terminal command <code>sudo dpkg â€“configure -a</code></p>\n\n<p>Thats OK for me but for his case is Einstein's relativity theory</p>\n\n<p>Is it possible to make Ubuntu wait for the updates to complete before PC shutdown or reboot like Windows does to ensure that there will never be broken packages and the same time his PC will remain updated automatically?</p>\n","related_questions":[{"id":692926,"title":"ttf-mscorefonts-install on Ubuntu 15.10 is broken and cannot be repaired conventionally","body":"<p>I have a new install (about 1 week now) of Ubuntu 15.10. The short story here is that ttf-mscorefonts-install is broken and is completely constipating the process of trying to install or uninstall anything else. I have been trying various things listed in various forums to uninstall the database, clean the database, reinstall, uninstall and then reinstall, etc.  None of these work. What I always come back to is a dpkg error that looks like this:</p>\n\n<p>dpkg: error processing package ttf-mscorefonts-installer (--configure):\n package ttf-mscorefonts-installer is not ready for configuration\n cannot configure (current status 'half-installed')</p>\n\n<p>After trying the various apt-get clean, update, and remove options I finally get the message that:</p>\n\n<p>Testo@Testbox01:~$ apt-get remove ttf-mscorefonts-install\nE: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)\nE: Unable to lock the administration directory (/var/lib/dpkg/), are you root?</p>\n\n<p>So now the database is locked up and I'll have to reboot - again - to unlock it.</p>\n\n<p>So here is my question - how can I manually rip out ttf-mscorefonts-install and its dependencies by the roots so that they no longer infect the rest of the installed products database? What are the files that should be removed and where are they? What files need to be changed or altered to make this process work?</p>\n\n<p>This has become frustrating in the extreme, and I'm almost to the point of deleting Ubuntu entirely and going back to Windoze, which is exactly what I originally wanted to get away from.  But if I can't install or uninstall anything going forward, then Ubuntu is basically useless to me.</p>\n\n<p>I'm hoping that someone can shed some light on this. </p>\n\n<p>I don't know if the tags on this article are optimal, but the system tells me that I must have at least a 300 reputation (whatever that is) to put in the tags I wanted, otherwise I must use what it offers. It won't even let me use tff-mscorefonts-install as a tag, which is the crux of this issue.</p>\n\n<p>Regards,\nMike Martin</p>\n"},{"id":251303,"title":"How to automatically install updates before shutdown?","body":"<p>Windows 7 automatically installs updates before shutdown. Can I get the same effect on Xubuntu?</p>\n\n<p>I want to install Xubuntu on a friend's machine and make sure that security updates are installed, but he is computer illiterate, and I don't want him to be constantly bothered with update notifications.</p>\n"},{"id":671759,"title":"Cannot remove qtspim from Ubuntu 14.04 LTS","body":"<p>I recently tried to install spim(mips compiler) on my machine and it didn't work. Now I'm trying to remove the whole thing but I simply cannot do it and the worse part is that every time I try to install a new, completely different package, I get the same error. I am really freaking out about having broken my machine(although it still works). Here's what I initially did:</p>\n\n<pre><code>sudo apt-get install spim\nsudo apt-get install qt-sdk\n</code></pre>\n\n<p>Then I downloaded the.deb file from the following link and copied the folders in my usr folder. I also ran the debian file from terminal using the dpkg command. </p>\n\n<p><a href=\"http://sourceforge.net/projects/spimsimulator/files/\" rel=\"nofollow\">http://sourceforge.net/projects/spimsimulator/files/</a></p>\n\n<p>I tried to remove the qt-sdk using the following:</p>\n\n<pre><code>sudo apt-get remove qt-sdk\n</code></pre>\n\n<p>The error below was given when I tried to remove qt-sdk but it sitll shows up every time I try to install any other package or remove the spim itself:</p>\n\n<pre><code>Reading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following packages were automatically installed and are no longer required:\n  account-plugin-twitter account-plugin-windows-live appmenu-qt appmenu-qt5\n  apturl-common ax25-node bamfdaemon cmake cmake-data consolekit\n  dbconfig-common default-jdk docbook-xml docbook-xsl evolution-common friends\n  friends-dispatcher friends-facebook friends-twitter gir1.2-accounts-1.0\n  gir1.2-ebook-1.2 gir1.2-ebookcontacts-1.2 gir1.2-edataserver-1.2\n  gir1.2-messagingmenu-1.0 gir1.2-signon-1.0 gnome-calculator\n  gnome-system-monitor guile-2.0-libs gyp icoutils indicator-appmenu kate-data\n  katepart kde-l10n-engb kde-runtime kde-runtime-data kdelibs-bin\n  kdelibs5-data kdelibs5-plugins kdoctools kubuntu-debug-installer\n  kwalletmanager laptop-detect libaio1 libatk-bridge2.0-0:i386\n  libatspi2.0-0:i386 libattica0.4 libax25 libbaloocore4 libbaloofiles4\n  libbalooxapian4 libbamf3-2 libbonobo2-0 libbonobo2-common libbotan-1.10-0\n  libc-ares-dev libc-ares2 libck-connector0 libcolord1:i386\n  libdbusmenu-gtk3-4:i386 libdevmapper1.02.1:i386 libdlrestrictions1 libepub0\n  libevent-2.0-5 libevolution libfriends0 libgc1c2 libglew1.10 libglewmx1.10\n  libgtk-3-0:i386 libgtkhtml-4.0-0 libgtkhtml-4.0-common\n  libgtkhtml-editor-4.0-0 libice-dev libidl-common libidl0 libjs-codemirror\n  libjs-jquery-cookie libjs-jquery-event-drag libjs-jquery-metadata\n  libjs-jquery-mousewheel libjs-jquery-tablesorter libjs-jquery-ui\n  libjs-node-uuid libjs-underscore libkactivities-bin libkactivities-models1\n  libkactivities6 libkatepartinterfaces4 libkcmutils4 libkde3support4\n  libkdeclarative5 libkdecore5 libkdesu5 libkdeui5 libkdewebkit5 libkdnssd4\n  libkemoticons4 libkfile4 libkhtml5 libkidletime4 libkio5 libkjsapi4\n  libkjsembed4 libkmediaplayer4 libknewstuff3-4 libknotifyconfig4 libkntlm4\n  libkparts4 libkpty4 libkrosscore4 libktexteditor4 libkubuntu0\n  libkxmlrpcclient4 liblcms2-2:i386 libmail-spf-perl libmcrypt4\n  libmetacity-private0a libmkv0 libmodemmanagerqt1 libnatpmp1 libnepomuk4\n  libnepomukcleaner4 libnepomukcore4abi1 libnepomukquery4a libnepomukutils4\n  libnetaddr-ip-perl libnetworkmanagerqt1 libntrack-qt4-1 libntrack0\n  libnux-4.0-0 libnux-4.0-common liboath0 libopenconnect2 liborbit-2-0\n  liborbit2 libpam-ck-connector libphonon-dev libphonon4 libplasma3\n  libpolkit-qt-1-1 libpoppler-qt4-4 libpst4 libpython2.7:i386\n  libpython2.7-minimal:i386 libpython2.7-stdlib:i386 libqapt2 libqapt2-runtime\n  libqca2 libqjson0 libqmobipocket1 libqt5clucene5 libqt5declarative5\n  libqt5designer5 libqt5designercomponents5 libqt5help5 libqt5quickparticles5\n  libqt5quicktest5 libqt5script5 libreoffice-gtk libsm-dev libsolid4\n  libsoprano4 libssl-dev libssl-doc libstreamanalyzer0 libstreams0\n  libsys-hostname-long-perl libthreadweaver4 libunity-core-6.0-9\n  libunity-gtk2-parser0 libunity-gtk3-parser0 libunity-misc4 libupstart1\n  libv8-3.14-dev libv8-3.14.5 libvirtodbc0 libwayland-client0:i386\n  libwayland-cursor0:i386 libwnck-common libwnck22 libxkbcommon0:i386\n  libxt-dev libytnef0 libzip2 metacity-common mysql-server-core-5.5\n  nepomuk-core-data nepomuk-core-runtime ntrack-module-libnl-0 nux-tools\n  oneconf oneconf-common openbsd-inetd openjdk-7-jdk oxygen-icon-theme phonon\n  phonon-backend-gstreamer phonon-backend-gstreamer-common\n  phonon-backend-gstreamer1.0 plasma-scriptengine-javascript python-debtagshw\n  python-gconf python-oneconf python-piston-mini-client python3-crypto\n  python3-feedparser python3-httplib2 python3-oauthlib python3-oneconf\n  python3-piston-mini-client qapt-batch qmlscene qtcreator qtcreator-doc\n  qtcreator-plugin-cmake qtcreator-plugin-qnx qtcreator-plugin-remotelinux\n  qtcreator-plugin-valgrind qtdeclarative5-controls-plugin qtdeclarative5-dev\n  qtdeclarative5-quicklayouts-plugin re2c sa-compile sgml-data\n  shared-desktop-ontologies software-center-aptdaemon-plugins soprano-daemon\n  spamassassin spamc telepathy-indicator transmission-common ttf-dejavu-core\n  ubuntu-extras-keyring unity-gtk-module-common unity-gtk2-module\n  unity-gtk3-module unity-lens-applications unity-lens-files\n  unity-lens-friends unity-lens-music unity-lens-photos unity-lens-video\n  unity-scope-audacious unity-scope-calculator unity-scope-chromiumbookmarks\n  unity-scope-clementine unity-scope-colourlovers unity-scope-devhelp\n  unity-scope-firefoxbookmarks unity-scope-gdrive unity-scope-gmusicbrowser\n  unity-scope-gourmet unity-scope-guayadeque unity-scope-home\n  unity-scope-manpages unity-scope-musicstores unity-scope-musique\n  unity-scope-openclipart unity-scope-texdoc unity-scope-tomboy\n  unity-scope-video-remote unity-scope-yelp unity-scope-zotero\n  unity-scopes-master-default unity-scopes-runner unity-services\n  virtuoso-minimal virtuoso-opensource-6.1-bin virtuoso-opensource-6.1-common\nUse 'apt-get autoremove' to remove them.\nThe following packages will be REMOVED:\n  qt-sdk\n0 upgraded, 0 newly installed, 1 to remove and 7 not upgraded.\n1 not fully installed or removed.\nAfter this operation, 32,8 kB disk space will be freed.\nDo you want to continue? [Y/n] y\n(Reading database ... 393716 files and directories currently installed.)\nRemoving qt-sdk (2ubuntu3) ...\nSetting up qtspim (9.1.16) ...\nQSqlDatabase: QSQLITE driver not loaded\nQSqlDatabase: available drivers: \nError reading collection file '/home/sabir/.local/share/QtProject/Assistant/qthelpcollection_5.5.0.qhc': Cannot load sqlite database driver..\ndpkg: error processing package qtspim (--configure):\n subprocess installed post-installation script returned error exit status 1\nErrors were encountered while processing:\n qtspim\nE: Sub-process /usr/bin/dpkg returned an error code (1)\n</code></pre>\n\n<p>Edit:\nI tried Ravan's answer and the problem still persists:</p>\n\n<pre><code>Reading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following packages will be REMOVED:\n  spim*\n0 upgraded, 0 newly installed, 1 to remove and 7 not upgraded.\n1 not fully installed or removed.\nAfter this operation, 0 B of additional disk space will be used.\nDo you want to continue? [Y/n] y\n(Reading database ... 365735 files and directories currently installed.)\nRemoving spim (8.0+dfsg-6) ...\nPurging configuration files for spim (8.0+dfsg-6) ...\nSetting up qtspim (9.1.16) ...\nQSqlDatabase: QSQLITE driver not loaded\nQSqlDatabase: available drivers: \nError reading collection file '/home/sabir/.local/share/QtProject/Assistant/qthelpcollection_5.5.0.qhc': Cannot load sqlite database driver..\ndpkg: error processing package qtspim (--configure):\n subprocess installed post-installation script returned error exit status 1\nErrors were encountered while processing:\n qtspim\n</code></pre>\n\n<p>Edit 2:\napt-cache policy</p>\n\n<pre><code>spim:\n  Installed: (none)\n  Candidate: 8.0+dfsg-6\n  Version table:\n     8.0+dfsg-6 0\n        500 http://za.archive.ubuntu.com/ubuntu/ trusty/universe amd64 Packages\n     8.0+dfsg-5.1 0\n        500 http://old-releases.ubuntu.com/ubuntu/ raring/universe amd64 Packages\n</code></pre>\n\n<p>Edit 3:\napt-cache policy qt-sdk</p>\n\n<pre><code>qt-sdk:\n  Installed: (none)\n  Candidate: 2ubuntu3\n  Version table:\n     2ubuntu3 0\n        500 http://za.archive.ubuntu.com/ubuntu/ trusty/universe amd64 Packages\n        500 http://old-releases.ubuntu.com/ubuntu/ raring/universe amd64 Packages\n</code></pre>\n"},{"id":651533,"title":"How to prevent apt-get install from removing package holds?","body":"<p>We've recently upgraded from 10.04 to 14.04.</p>\n\n<p>We have some held packages, which we upgrade them from time to time. It appears that on 14.04, when you install or upgrade a package it removes the hold for the package.</p>\n\n<pre><code>$ dpkg --get-selections libmysqlclient18\nlibmysqlclient18:amd64              install\n\n# Hold the package\n$ echo 'libmysqlclient18:amd64 hold' | sudo dpkg --set-selections\n\n# Check that worked\n$ dpkg --get-selections libmysqlclient18\nlibmysqlclient18:amd64              hold\n\n# Install a new version of the package\n$ sudo apt-get install libmysqlclient18\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nThe following extra packages will be installed:\n  mysql-common\nThe following held packages will be changed:\n  libmysqlclient18\nThe following packages will be upgraded:\n  libmysqlclient18 mysql-common\n2 upgraded, 0 newly installed, 0 to remove and 14 not upgraded.\nNeed to get 610 kB of archives.\nAfter this operation, 0 B of additional disk space will be used.\nDo you want to continue? [Y/n] y\nGet:1 http://archive.ubuntu.com/ubuntu/ trusty-updates/main mysql-common all 5.5.44-0ubuntu0.14.04.1 [13.9 kB]\nGet:2 http://archive.ubuntu.com/ubuntu/ trusty-updates/main libmysqlclient18 amd64 5.5.44-0ubuntu0.14.04.1 [596 kB]\nFetched 610 kB in 1s (339 kB/s)\nReading changelogs... Done\napt-listchanges: Mailing root: apt-listchanges: changelogs for &lt;host&gt;\n(Reading database ... 490677 files and directories currently installed.)\nPreparing to unpack .../mysql-common_5.5.44-0ubuntu0.14.04.1_all.deb ...\nUnpacking mysql-common (5.5.44-0ubuntu0.14.04.1) over (5.5.43-0ubuntu0.14.04.1) ...\nPreparing to unpack .../libmysqlclient18_5.5.44-0ubuntu0.14.04.1_amd64.deb ...\nUnpacking libmysqlclient18:amd64 (5.5.44-0ubuntu0.14.04.1) over (5.5.43-0ubuntu0.14.04.1) ...\nSetting up mysql-common (5.5.44-0ubuntu0.14.04.1) ...\nSetting up libmysqlclient18:amd64 (5.5.44-0ubuntu0.14.04.1) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.6) ...\n</code></pre>\n\n<p>The install removed the hold!</p>\n\n<pre><code>$ dpkg --get-selections libmysqlclient18\nlibmysqlclient18:amd64              install\n</code></pre>\n\n<p>This happens for packages without postinst/prerm scripts, so it seems the problem is with apt and not with the packages themselves. It didn't happen in 10.04.</p>\n\n<p>Can anyone suggest a workaround that will prevent apt from doing this?</p>\n"},{"id":343232,"title":"DPKG dependencies problem after removing MariaDB, prevents me from using apt-get","body":"<p>I tried to install MariaDB <a href=\"http://askubuntu.com/a/300336/4066\">like this</a>, and got this error:</p>\n\n<pre><code>dpkg: error processing /var/cache/apt/archives/libmysqlclient18_5.5.32+maria-1~raring_amd64.deb (--unpack):  \nlibmysqlclient18:amd64 5.5.32+maria-1~raring (Multi-Arch: no) is not co-installable with libmysqlclient18 which has multiple installed instances  \nNo apport report written because MaxReports is reached already\n</code></pre>\n\n<p>I tried to install mysql-server instead, but got:</p>\n\n<pre><code>The following packages have unmet dependencies:  \n libmariadbclient18 : Depends: libmysqlclient18 (= 5.5.32+maria-1~raring) but 5.5.32-0ubuntu0.13.04.1 is to be installed  \n mysql-server : Depends: mysql-server-5.5 but it is not going to be installed  \nE: Unmet dependencies. Try 'apt-get -f install' with no packages (or specify a solution).\n</code></pre>\n\n<p><code>apt-get -f install</code> does not work, though:</p>\n\n<pre><code>dpkg: error processing /var/cache/apt/archives/libmysqlclient18_5.5.32+maria-1~raring_amd64.deb (--unpack):  \n libmysqlclient18:amd64 5.5.32+maria-1~raring (Multi-Arch: no) is not co-installable with libmysqlclient18 which has multiple installed instances\n</code></pre>\n\n<p>I tried roll back, so <code>sudo dpkg -r mariadb-servermariadb-client-core-5.5 mariadb-client-5.5 mariadb-server-core-5.5</code> which worked. <code>mariadb-server</code> is not installed apparently. Then I tried <code>sudo dpkg -r libmysqlclient18</code> but got:</p>\n\n<pre><code>dpkg: dependency problems prevent removal of libmysqlclient18:amd64:  \n amarok depends on libmysqlclient18 (&gt;= 5.5.13-1).\n</code></pre>\n\n<p>I don't want to remove amarok as it has been installed for a long time.<br>\nHow can I solve this error and remove all of MariaDB?</p>\n\n<p>aptitude is not installed, and when I start Ubuntu Software Center it tells me <code>New software can't be installed, because there is a problem with the software currently installed. Do you want to repair this problem now?</code>, when I click <code>Repair</code> an internal error appears:</p>\n\n<p><img src=\"http://i.stack.imgur.com/iczqk.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>As requested, output of <code>sudo apt-get check</code>:</p>\n\n<pre><code>Reading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nYou might want to run 'apt-get -f install' to correct these.\nThe following packages have unmet dependencies:\n libmariadbclient18 : Depends: libmysqlclient18 (= 5.5.32+maria-1~raring) but 5.5.32-0ubuntu0.13.04.1 is installed\nE: Unmet dependencies. Try using -f.\n</code></pre>\n\n<p>Output of <code>apt-cache policy libmysqlclient18 libmariadbclient18</code>:</p>\n\n<pre><code>libmysqlclient18:\n  Installed: 5.5.32-0ubuntu0.13.04.1\n  Candidate: 5.5.32+maria-1~raring\n  Version table:\n     5.5.32+maria-1~raring 0\n        500 http://ftp.osuosl.org/pub/mariadb/repo/5.5/ubuntu/ raring/main amd64 Packages\n *** 5.5.32-0ubuntu0.13.04.1 0\n        500 http://jp.archive.ubuntu.com/ubuntu/ raring-updates/main amd64 Packages\n        500 http://security.ubuntu.com/ubuntu/ raring-security/main amd64 Packages\n        100 /var/lib/dpkg/status\n     5.5.29-0ubuntu1 0\n        500 http://jp.archive.ubuntu.com/ubuntu/ raring/main amd64 Packages\nlibmariadbclient18:\n  Installed: 5.5.32+maria-1~raring\n  Candidate: 5.5.32+maria-1~raring\n  Version table:\n *** 5.5.32+maria-1~raring 0\n        500 http://ftp.osuosl.org/pub/mariadb/repo/5.5/ubuntu/ raring/main amd64 Packages\n        100 /var/lib/dpkg/status\n</code></pre>\n\n<p>Output of <code>cat /etc/apt/sources.list /etc/apt/sources.list.d/*.list</code>:</p>\n\n<pre><code># deb cdrom:[Ubuntu 13.04 _Raring Ringtail_ - Release amd64 (20130424)]/ raring main restricted\n\n# See http://help.ubuntu.com/community/UpgradeNotes for how to upgrade to\n# newer versions of the distribution.\ndeb http://jp.archive.ubuntu.com/ubuntu/ raring main restricted\ndeb-src http://jp.archive.ubuntu.com/ubuntu/ raring main restricted\n\n## Major bug fix updates produced after the final release of the\n## distribution.\ndeb http://jp.archive.ubuntu.com/ubuntu/ raring-updates main restricted\ndeb-src http://jp.archive.ubuntu.com/ubuntu/ raring-updates main restricted\n\n## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu\n## team. Also, please note that software in universe WILL NOT receive any\n## review or updates from the Ubuntu security team.\ndeb http://jp.archive.ubuntu.com/ubuntu/ raring universe\ndeb-src http://jp.archive.ubuntu.com/ubuntu/ raring universe\ndeb http://jp.archive.ubuntu.com/ubuntu/ raring-updates universe\ndeb-src http://jp.archive.ubuntu.com/ubuntu/ raring-updates universe\n\n## N.B. software from this repository is ENTIRELY UNSUPPORTED by the Ubuntu \n## team, and may not be under a free licence. Please satisfy yourself as to \n## your rights to use the software. Also, please note that software in \n## multiverse WILL NOT receive any review or updates from the Ubuntu\n## security team.\ndeb http://jp.archive.ubuntu.com/ubuntu/ raring multiverse\ndeb-src http://jp.archive.ubuntu.com/ubuntu/ raring multiverse\ndeb http://jp.archive.ubuntu.com/ubuntu/ raring-updates multiverse\ndeb-src http://jp.archive.ubuntu.com/ubuntu/ raring-updates multiverse\n\n## N.B. software from this repository may not have been tested as\n## extensively as that contained in the main release, although it includes\n## newer versions of some applications which may provide useful features.\n## Also, please note that software in backports WILL NOT receive any review\n## or updates from the Ubuntu security team.\ndeb http://jp.archive.ubuntu.com/ubuntu/ raring-backports main restricted universe multiverse\ndeb-src http://jp.archive.ubuntu.com/ubuntu/ raring-backports main restricted universe multiverse\n\ndeb http://security.ubuntu.com/ubuntu raring-security main restricted\ndeb-src http://security.ubuntu.com/ubuntu raring-security main restricted\ndeb http://security.ubuntu.com/ubuntu raring-security universe\ndeb-src http://security.ubuntu.com/ubuntu raring-security universe\ndeb http://security.ubuntu.com/ubuntu raring-security multiverse\ndeb-src http://security.ubuntu.com/ubuntu raring-security multiverse\n\n## Uncomment the following two lines to add software from Canonical's\n## 'partner' repository.\n## This software is not part of Ubuntu, but is offered by Canonical and the\n## respective vendors as a service to Ubuntu users.\n# deb http://archive.canonical.com/ubuntu raring partner\n# deb-src http://archive.canonical.com/ubuntu raring partner\n\n## This software is not part of Ubuntu, but is offered by third-party\n## developers who want to ship their latest software.\ndeb http://extras.ubuntu.com/ubuntu raring main\ndeb-src http://extras.ubuntu.com/ubuntu raring main\n\n##############################################################\n##################### UNOFFICIAL  REPOS http://repogen.simplylinux.ch ######################\n##############################################################\n\n###### 3rd Party Binary Repos\n\n#### Google Chrome Browser - http://www.google.com/linuxrepositories/\n## Run this command: wget -q https://dl-ssl.google.com/linux/linux_signing_key.pub -O- | sudo apt-key add -\ndeb http://dl.google.com/linux/chrome/deb/ stable main\n\n#### Google Earth - http://www.google.com/linuxrepositories/\n## Run this command: wget -q https://dl-ssl.google.com/linux/linux_signing_key.pub -O- | sudo apt-key add -\ndeb http://dl.google.com/linux/earth/deb/ stable main\n\n#### Midori PPA - https://launchpad.net/~midori/+archive/ppa\n## Run this command: sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys A69241F1\ndeb http://ppa.launchpad.net/midori/ppa/ubuntu raring main\n\n#### Opera - http://www.opera.com/\n## Run this command: sudo wget -O - http://deb.opera.com/archive.key | sudo apt-key add -\ndeb http://deb.opera.com/opera/ stable non-free\n\n#### Oracle Java (JDK) Installer PPA - http://www.webupd8.org/2012/01/install-oracle-java-jdk-7-in-ubuntu-via.html\n## Run this command: sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886\ndeb http://ppa.launchpad.net/webupd8team/java/ubuntu raring main\n\n#### VirtualBox - http://www.virtualbox.org\n## Run this command: wget -q http://download.virtualbox.org/virtualbox/debian/oracle_vbox.asc -O- | sudo apt-key add -\ndeb http://download.virtualbox.org/virtualbox/debian raring contrib\n\n#### X Updates - https://launchpad.net/~ubuntu-x-swat/+archive/x-updates/\n## Run this command: sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys AF1CDFA9\ndeb http://ppa.launchpad.net/ubuntu-x-swat/x-updates/ubuntu raring main\n\n\n####### 3rd Party Source Repos\n\n#### Gimp PPA (Source) - https://launchpad.net/~otto-kesselgulasch/+archive/gimp\n## Run this command: sudo apt-key adv --recv-keys --keyserver keyserver.ubuntu.com 614C4B38\ndeb-src http://ppa.launchpad.net/otto-kesselgulasch/gimp/ubuntu raring main\n\n#### Midori PPA (Source) - https://launchpad.net/~midori/+archive/ppa\n## Run this command: sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys A69241F1\ndeb-src http://ppa.launchpad.net/midori/ppa/ubuntu raring main\n\n#### Oracle Java (JDK) Installer PPA (Source) - http://www.webupd8.org/2012/01/install-oracle-java-jdk-7-in-ubuntu-via.html\n## Run this command: sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886\ndeb-src http://ppa.launchpad.net/webupd8team/java/ubuntu raring main\n\ndeb http://archive.canonical.com/ raring partner\n# deb-src http://archive.canonical.com/ raring partner\ndeb http://ftp.osuosl.org/pub/mariadb/repo/5.5/ubuntu raring main\n# deb-src http://ftp.osuosl.org/pub/mariadb/repo/5.5/ubuntu raring main\ndeb http://ppa.launchpad.net/atareao/atareao/ubuntu raring main\n# deb-src http://ppa.launchpad.net/atareao/atareao/ubuntu raring main\ndeb http://ppa.launchpad.net/bhdouglass/indicator-remindor/ubuntu raring main\n# deb-src http://ppa.launchpad.net/bhdouglass/indicator-remindor/ubuntu raring main\ndeb http://linux.dropbox.com/ubuntu precise main\n# deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu raring main\n</code></pre>\n"},{"id":512262,"title":"Ubuntu 12.04 Libreoffice update breaks software updating","body":"<p>After applying the latest updates today (August 16, 2014), Libreoffice-base will not complete the upgrade due \"no diversion\" error which then seems to break the postrm script and now I can neither update, install or remove packages. </p>\n\n<p>I have turned off all ppa repositories, performed \"sudo dpkg --configure -a\", \"sudo apt-get autoremove\" as well as \"sudo rm -fR /var/cache/apt\" to create a clean slate - but to no avail. I have also tried renaming the offending files to .bak. </p>\n\n<p>Any ideas?</p>\n\n<p>Output of latest attempt:</p>\n\n<pre><code>$ sudo apt-get install -f\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following packages were automatically installed and are no longer required:\n  iw crda wireless-crda wireless-regdb\nUse 'apt-get autoremove' to remove them.\nThe following packages will be REMOVED:\n  libreoffice-base\n0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.\n1 not fully installed or removed.\nAfter this operation, 6,748 kB disk space will be freed.\nDo you want to continue [Y/n]? y\n(Reading database ... 221883 files and directories currently installed.)\nRemoving libreoffice-base ...\nNo diversion 'diversion of /usr/lib/libreoffice/share/basic/dialog.xlc to /usr/lib/libreoffice/share/basic/dialog.xlc.noaccess by libreoffice-base', none removed.\nNo diversion 'diversion of /usr/lib/libreoffice/share/basic/script.xlc to /usr/lib/libreoffice/share/basic/script.xlc.noaccess by libreoffice-base', none removed.\n/var/lib/dpkg/info/libreoffice-base.postrm: 31: /var/lib/dpkg/info/libreoffice-base.postrm: Syntax error: end of file unexpected (expecting \"fi\")\ndpkg: error processing libreoffice-base (--remove):\n subprocess installed post-removal script returned error exit status 2\nErrors were encountered while processing:\n libreoffice-base\nE: Sub-process /usr/bin/dpkg returned an error code (1)\n</code></pre>\n"},{"id":498785,"title":"Cannot update Ubuntu due to broken package","body":"<p>When I run software updater I get</p>\n\n<blockquote>\n  <p>The Package system is broken\n  Check if you are using third party repositories. If so disable them, since they are a common source of problems.\n  Furthermore run the following command in a Terminal: <code>apt-get install -f</code></p>\n</blockquote>\n\n<p>That command entry returns with</p>\n\n<pre><code>$ apt-get install -f\nE: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)\nE: Unable to lock the administration directory (/var/lib/dpkg/), are you root?\n</code></pre>\n"},{"id":482879,"title":"Ubuntu 13.10 won&#39;t update. apt update and apt upgrade fail","body":"<p>UPDATE: Ive reinstalled libreadline6 to no avail. Im still getting the undefined symbol errors <code>gpg: symbol lookup error: /usr/local/lib/libreadline.so.6: undefined symbol: UP</code></p>\n\n<p>Any help appreciated.</p>\n\n<hr>\n\n<p>Im trying to update my desktop (I've been away from internet for 6 months) and Im encountering some problems.</p>\n\n<p><code>apt-get update</code> fails because a public key is unavailable, and <code>apt-get upgrade</code> fails when setting up apt, due to libreadline errors.</p>\n\n<p>Im sure the problem is with my libreadline because during my 6mo without internet Im pretty sure I rebuilt it from source (and encountered other problems in doing so) to try and embed the lua interpreter into a program.</p>\n\n<p>More details on that can be found in my post here: <a href=\"http://stackoverflow.com/questions/22727700/g-undefined-references-with-lua-and-libdl\">http://stackoverflow.com/questions/22727700/g-undefined-references-with-lua-and-libdl</a></p>\n\n<hr>\n\n<p>Here is my <code>apt-get update</code> output.</p>\n\n<p>Its cut down because its recognizing the links and wont let me post because my rep is below 10.</p>\n\n<blockquote>\n  <p>Fetched 316 B in 5s (59 B/s) Reading package lists... Done W: GPG\n  error: <a href=\"https://private-ppa.launchpad.net\" rel=\"nofollow\">https://private-ppa.launchpad.net</a> saucy Release: The following\n  signatures couldn't be verified because the public key is not\n  available: NO_PUBKEY E131728675254D99</p>\n</blockquote>\n\n<hr>\n\n<p>My <code>apt-get upgrade</code></p>\n\n<blockquote>\n  <p>Fetched 360 MB in 3min 28s (1,730 kB/s)<br>\n  Extracting templates from packages: 100% Preconfiguring packages ...\n  Setting up apt (0.9.9.1~ubuntu3.1) ... gpg: symbol lookup error:\n  /usr/local/lib/libreadline.so.6: undefined symbol: UP gpg: symbol\n  lookup error: /usr/local/lib/libreadline.so.6: undefined symbol: UP\n  dpkg: error processing apt (--configure):  subprocess installed\n  post-installation script returned error exit status 127 No apport\n  report written because MaxReports is reached already\n                                                                Errors were encountered while processing:  apt E: Sub-process /usr/bin/dpkg\n  returned an error code (1)</p>\n</blockquote>\n"},{"id":471365,"title":"Error during installing skype , software update and while starting ubuntu","body":"<p>when installing skype on ubuntu 12.04 Lts gets the following error</p>\n\n<pre><code>$ sudo dpkg --add-architecture i386\n[sudo] password for shailendra: \ndpkg: error: unknown option --add-architecture\n\nType dpkg --help for help about installing and deinstalling packages [*];\nUse `dselect' or `aptitude' for user-friendly package management;\nType dpkg -Dhelp for a list of dpkg debug flag values;\nType dpkg --force-help for a list of forcing options;\nType dpkg-deb --help for help about manipulating *.deb files;\n\nOptions marked [*] produce a lot of output - pipe it through `less' or `more' !\n\n\n$ sudo dpkg--add-architecture i386\nsudo: dpkg--add-architecture: command not found\n</code></pre>\n\n<p>My ubuntu is 12.04 LTS OS type 64 bit\nTrying to install it through commands</p>\n\n<pre><code>sudo dpkg --add-architecture i386\n</code></pre>\n\n<p>it gives the above mentioned error\nAlso while software updates getting message</p>\n\n<pre><code>locale:cannot set LC_ctype to default locale: no such file or directory\n                  LC_MESSAGES, LC_ALL no such file or directory\n</code></pre>\n\n<p>I have an error at the start before entering my identity to start ubuntu</p>\n\n<pre><code>The disc2 drive for /dev/mapper/cryptswap1 not mounted or unmount\n</code></pre>\n"},{"id":463457,"title":"How to find packages when updating Ubuntu and creating standard source.list file","body":"<p>I just upgrade to <code>Ubuntu 14.04 LTS, amd64</code>.  I'm trying to install some software and it says for <code>Ubuntu 13.10</code> and above, the following libraries need to be installed for 32-bit compatibility components:</p>\n\n<pre><code>sudo apt-get install libgtk2.0-0:i386 libxtst6:i386 libpangox-1.0-0:i386 \\\nlibpangoxft-1.0-0:i386 libidn11:i386 libglu1-mesa:i386 \\\nlibncurses5:i386 libudev1:i386 libusb-1.0:i386 libusb-0.1:i386 \\\ngtk2-engines-murrine:i386\n</code></pre>\n\n<p>I know when I had <code>Ubuntu 13.10</code> I was able to download these packages, but now that I updated, none of these packages can be found: </p>\n\n<pre><code>Reading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nE: Unable to locate package libgtk2.0-0\nE: Couldn't find any package by regex 'libgtk2.0-0'\n</code></pre>\n\n<p>How do I go about finding these packages in <code>Ubuntu 14.04 LTS, amd64</code>?  Why could I find them in 13.10 and they no longer exist in 14.04?  Did these things get renamed and moved around?  How do I find out and resolve this issue?  How do people resolve these issues when updating Ubuntu?  Thanks in advance.</p>\n\n<h2>Edit</h2>\n\n<p>I get this error message when running commands suggested below:  </p>\n\n<pre><code>Reading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nE: Unable to locate package libgtk2.0-0\nE: Couldn't find any package by regex 'libgtk2.0-0'\nE: Unable to locate package libxtst6\nE: Unable to locate package libpangox-1.0-0\nE: Couldn't find any package by regex 'libpangox-1.0-0'\nE: Unable to locate package libpangoxft-1.0-0\nE: Couldn't find any package by regex 'libpangoxft-1.0-0'\nE: Unable to locate package libidn11\nE: Unable to locate package libglu1-mesa\nE: Unable to locate package libncurses5\nE: Unable to locate package libudev1\nE: Unable to locate package libusb-1.0\nE: Couldn't find any package by regex 'libusb-1.0'\nE: Unable to locate package libusb-0.1\nE: Couldn't find any package by regex 'libusb-0.1'\nE: Unable to locate package gtk2-engines-murrine\n</code></pre>\n"}]}]