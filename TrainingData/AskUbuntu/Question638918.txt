[{"id":638918,"title":"Why is bash the default shell in most OS?","body":"<p>Why is bash the default shell in most OSes (Ubuntu, Fedora, OSX, etc.)? Why is it that a lot of advanced users mostly use zsh? If it is that good, why is it not the default?</p>\n\n<p>I use both I don't see a difference for all my tasks are simple :)</p>\n","related_questions":[{"id":661863,"title":"Nautilus-Open-Terminal tries to open ZSH instead of bash","body":"<p>I recently tried zsh as a shell but didn't like it much. Then removed it and I still continue to use bash.</p>\n\n<p>When I was using bash, I had this cool script 'nautilus-open-terminal' which lets you open a terminal in the directory you are currently in, with right-click to an empty area in nautilus.</p>\n\n<p>However, after removing zsh from my computer, I noticed that nautilus-open-terminal was not working. When I press 'Open In Terminal', the terminal was being opened for a split second and immediately closing itself.</p>\n\n<p>To avoid the terminal to close itself, I set the terminal's preferences as\n[When Command Exits: Hold the Terminal Open]</p>\n\n<p><img src=\"http://i.stack.imgur.com/15S6o.png\" alt=\"\"></p>\n\n<p>As you can see in the above link, Hold The Terminal Open is selected</p>\n\n<p>And after doing this, now I could see the problem. When I pressed 'Open In Terminal', I saw this screen:</p>\n\n<p><img src=\"http://i.stack.imgur.com/CRS9Y.png\" alt=\"\"></p>\n\n<p>Nautilus-Open-Terminal tries to use zsh</p>\n\n<hr>\n\n<p>To conclude, <strong>my nautilus-open-terminal tries to use zsh instead of my bash; therefore it crashes since i do not have a /bin/zsh file anymore</strong>.</p>\n\n<p>This problem of 'nautilus-open-terminal immediately closes itself' is quite common as far as I can see. However, from the posts I have seen, people talk about different issues that cause the same problem that I have.</p>\n\n<p>Now comes my question:</p>\n\n<p><strong>How do I reconfigure my nautilus-open-terminal so that it will use the bash instead of zsh?</strong></p>\n\n<ul>\n<li>And yes, I tried purged remove and installing it again.</li>\n</ul>\n\n<p>Thank you for your interests.</p>\n"},{"id":661161,"title":"How can I use ZSH when I use sudo commands but not as default root shell?","body":"<p>So, I would like to keep <code>bash</code> as the default shell for root.</p>\n\n<p>But, I would prefer to use <code>zsh</code>, my shell, when I run <code>sudo</code> commands, and that <code>sudo</code> executes also the .zshrc in /root.</p>\n\n<p>For testing purposes, I have created an alias in my <code>/root/.zshrc</code> and <code>~/.zshrc</code> :</p>\n\n<pre><code>alias test1='echo \"Test OK\"'\n</code></pre>\n\n<p>Now, when I run <code>sudo su</code> <kbd>enter</kbd> <code>zsh</code> <kbd>enter</kbd> <code>test1</code> <kbd>enter</kbd></p>\n\n<p>I got the expected result : <code>Test OK</code></p>\n\n<p>However, all of these commands result in : <code>test1: command not found</code></p>\n\n<pre><code>sudo test1\nsudo su -c 'zsh -c test1'\nsudo -E zsh -c 'test1'\nsudo ZDOTDIR=/root/.zshrc test1\nsudo ZDOTDIR=/root/.zshrc zsh -c 'test1'\nsudo ZDOTDIR=/root/.zshrc zsh -c 'source /root/.zshrc &amp;&amp; test1'\n</code></pre>\n\n<p>I found <a href=\"https://askubuntu.com/questions/57915/environment-variables-when-run-with-sudo\">this question on askubuntu</a>, but I think this is more related to <a href=\"https://unix.stackexchange.com/questions/131716/start-zsh-with-a-custom-zshrc\">this one on Unix &amp; Linux</a>.</p>\n\n<p>However, none of these posts help me.</p>\n\n<p>What I want to achieve in final is to create a simple alias that could replace <code>sudo</code> when I want to use <code>zsh</code> with its /root/.zshrc file, and prefix the command I want to run.</p>\n\n<p>Any hints ?   </p>\n"},{"id":621801,"title":"How to change the default shell used in Byobu without changing user shell?","body":"<p>I've been using</p>\n\n<pre><code>set -g default-shell /usr/bin/zsh\nset -g default-command /usr/bin/zsh\n</code></pre>\n\n<p>in my <code>~/.byobu/.tmux.config</code> for several years to set the shell that Byobu uses without changing (<code>chsh</code>) my login shell, as explained in \n<a href=\"http://askubuntu.com/questions/296377/how-do-i-change-the-default-shell-used-in-byobu-tmux\">How do I change the default shell used in Byobu (tmux)?</a> by @Dustin Kirkland, the author and maintainer of Byobu.</p>\n\n<p>I installed Byobu on a new machine from the PPA (currently version 5.92) and this setting does not have any effect. Byobu uses the user shell (<code>bash</code> in my case). I've checked and <code>zsh</code> is indeed in <code>/usr/bin/</code>. How can I determine why this setting is not picked up by Byobu?</p>\n"},{"id":385672,"title":"changing shell from zsh to bash","body":"<p>My web server was tampered by someone who was using zsh shell. I feel more comfortable using bash shell, as that's the defaults that come with Ubuntu and OS X (the two main operating systems I use). But this questions is focused on Ubuntu server. I have 4 websites running on this web server, I use byobu, I use tmux, I use ruby/ruby on rails, node.js, apache, a few daemons. If I switch the current root shell from zsh to bash, could there be any negative side effects that might result from this switch? For example, will processes be killed because their parent process (the shell) has been switched?  </p>\n"},{"id":470708,"title":"How to fix symbolic links after switching from Bash to ZSH","body":"<p>I had <code>bash</code> as my default shell even though I was only using <code>zsh</code>.</p>\n\n<p>I always started it myself by opening the terminal and typing <code>zsh</code>.</p>\n\n<p>Today I decided to use it as my default shell. So I found <a href=\"http://superuser.com/questions/231735/how-do-i-change-my-default-shell-from-bash-to-zsh\">this link</a> and ran the following command</p>\n\n<pre><code>sudo chsh -s $(which zsh) john\n</code></pre>\n\n<p>where <code>john</code> is my user.</p>\n\n<p>It all worked fine until I tried accessing my bank's website and noticed that the symbolic link I had created for the Java Chrome Plugin didn't work anymore.</p>\n\n<p>I tried deleting it and creating a new one via <code>zsh</code> with this command:</p>\n\n<pre><code>sudo ln -s /opt/jre1.7.0_55/lib/amd64/libnpjp2.so\n</code></pre>\n\n<p>but it didn't work. Should I do something different now that I'm using <code>zsh</code>? How do I get my symbolic links working again?</p>\n"},{"id":1577,"title":"Moving from bash to zsh","body":"<p>I'm considering moving from bash to zsh as I often come across posts praising zsh. I'm an experienced command line user and I'm assuming the basics are pretty much the same, so I'm looking for advice to get the benefits of moving, and any gotchas to be aware of.</p>\n\n<p>Please just give one bit of advice per answer. I'm looking for bite-size chunks where I can come back and integrate extra bits of info into my shell usage at a steady pace rather than trying to learn it all in one go.</p>\n"},{"id":28969,"title":"How do you change the default shell for ALL USERS to bash?","body":"<p>I want every new user from now on to have bash as their shell by default.  </p>\n\n<p>I know that to change your own shell to bash, you would use the command \"chsh -s /bin/bash\", but how do I automatically set all future users' shell to bash by default?</p>\n"},{"id":253812,"title":"Change default shell for Terminator","body":"<p>I want to change the default shell of Terminator to zsh.\nIn <code>/etc/passwd/</code> I've changed the default shell to <code>/bin/zsh</code>.\nThis settings changes the default shell in LXTerminal (the default terminal on Lubuntu), but not in Terminator. So I tried <code>chsh -s /bin/zsh</code>, but that doesn't work either.</p>\n\n<p>The Terminator <a href=\"http://software.jessies.org/terminator/faq.html#heading_toc_j_17\">documentation</a> says:</p>\n\n<blockquote>\n  <p><strong>How do I change my default shell?</strong></p>\n  \n  <p>Terminator will always start the shell specified by the SHELL\n  environment variable. (It will fall back to /bin/sh if the SHELL\n  environment variable isn't set.) You could simply influence\n  Terminator's environment, but the best solution is to tell your\n  operating system which shell you'd like, and it will ensure that SHELL\n  is set correctly for all applications, not just Terminator. See the\n  documentation for your operating system for details on how to change\n  your default shell.</p>\n</blockquote>\n\n<p>So I expected my attempts to work, but they don't. How can I change the default shell in Terminator.</p>\n"},{"id":296260,"title":"When $SHELL variable does not change when I switch shell","body":"<p>I am using 'zsh' by default.</p>\n\n<p>But when I am in my zsh shell, I enter 'bash' to switch to bash, why the $SHELL variable does not change?</p>\n\n<p>Can I make screen to use whatever shell I right before execute the 'screen' command?</p>\n\n<pre><code>zsh % screen\n&lt;the shell is zsh&gt;\n\nzsh % bash\nbash $ screen\n&lt;the shell is still bash, can I make screen to automatically start bash here&gt;\n</code></pre>\n"},{"id":108851,"title":"asked for sudo password, post login to bash shell","body":"<p>With 11.10 when any of my users with the bash shell login upon success they are asked to provide their sudo password e.g.</p>\n\n<pre><code>Last login: Fri Jan 20 19:13:36 2012 from x.x.x.x\n[sudo] password for *user*:\n</code></pre>\n\n<p>However, using a different shell (viz. zsh) they aren't asked for their sudo password.</p>\n\n<p>What's up?</p>\n\n<p><strong>[edit: more info]</strong></p>\n\n<p>So, of course it was obvious, but strange still.</p>\n\n<p><strong>/etc/bash.bashrc</strong></p>\n\n<pre><code>#!/bin/sh -e\n#execute firstlogin.sh only once\nif [ ! -e /root/firstlogin_done ]; then\n    if [ -e /root/firstlogin.sh ]; then\n        /root/firstlogin.sh\n    fi\n    # This part should not be necessary any more\n    # sudo dpkg-reconfigure -p critical console-setup &amp;&gt; /dev/null\n    sudo touch /root/firstlogin_done\nfi\n</code></pre>\n\n<p>The file is created just fine e.g.</p>\n\n<pre><code>$sudo ls -al /root/firstlogin_done\n-rw-r--r-- 1 root root 0 2012-02-29 16:04 /root/firstlogin_done\n</code></pre>\n\n<p><strong>[edit: is it a bug]</strong></p>\n\n<p>So, I get why this happens. But, I don't get <em>why</em> this is happening. Is this a bug that I haven't updated?</p>\n"}]}]