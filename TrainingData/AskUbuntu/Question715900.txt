[{"id":715900,"title":"How to prevent graphical applications from being started with sudo","body":"<p>I am persuaded that I <a href=\"http://askubuntu.com/questions/270006/why-user-should-never-use-normal-sudo-to-start-graphical-application\">should never use sudo to start a graphical application</a>. How can I prevent it from ever happening? Getting more sleep might be the correct solution but I want a better one.</p>\n","related_questions":[{"id":209558,"title":"How can I fix broken sudo - sudo: parse error in /etc/sudoers near line 23?","body":"<p>I am getting this error:</p>\n\n<pre><code>sudo: parse error in /etc/sudoers near line 23\nsudo: no valid sudoers sources found, quitting\nsudo: unable to initialize policy plugin\n</code></pre>\n\n<p>I was trying to disable password authentication so I don't have to type password every time I want to install something, but I probably changed it in a not very good way.\nI am a newbie to Ubuntu, I got sick of Windows :)</p>\n\n<p>So far I've found some people suggesting booting in single user mode, but I'm afraid of messing things up more.</p>\n\n<p>How can I fix this error?</p>\n"},{"id":599228,"title":"how to prevent sudo from executing a non root file?","body":"<p>I want to prevent <code>sudo</code> from executing files not owned by root.</p>\n\n<p>so, to allow sudo run such file, I want the file to be:<br>\n<code>chown root:root filename</code><br>\n<code>chmod go-w filename</code>  </p>\n\n<p>Is it possible to limit <code>sudo</code> this way?</p>\n\n<p>It should also be inherited by graphical <code>sudo</code> like runners (gksudo, kdesudo, ...), but I think it could be too much tricky, not sure tho.</p>\n"},{"id":270006,"title":"Why user should never use normal sudo to start graphical application?","body":"<p>I've read <a href=\"https://help.ubuntu.com/community/RootSudo\">the comunity \"RootSudo\" documentation</a> and am interested in this line:</p>\n\n<blockquote>\n  <p>You should <strong>never</strong> use normal sudo to start graphical applications as Root.</p>\n</blockquote>\n\n<p>Why? What is the difference? Please provide a simple explanation, as I'm just a normal desktop user.</p>\n"},{"id":80873,"title":"How to prevent a Gtk.SourceView from grabbing the URI of a file","body":"<p>I'm making a text editor using GTK3 in Vala. I need to drag a file and, when I drop it into the application window, the application opens that file. I'm using a <code>Gtk.Notebook</code> that contains the <code>Gtk.SourceView</code>'s. It works when I drop a file into an empty <code>Gtk.Notebook</code>, but when there is at least one <code>Gtk.SourceView</code> appended on it, the <code>SourceView</code> grabs the URI of the file, shows it and the window can't handle the opening of the file.</p>\n\n<p>In this case, what can I do to prevent a <code>Gtk.SourceView</code> from grabbing the URI of a file when I drop a file into a <code>Gtk.SourceView</code>.</p>\n\n<p><strong>PS:</strong> I tried to use the <code>drag_dest_unset()</code> inside the <code>SourceView</code> derived class. It worked, the <code>SourceView</code> didn't grab the URI and the window could open the file, but the application showed a message like this, in runtime:</p>\n\n<pre><code>Gtk-WARNING **: Can't set a target list on a widget until you've called gtk_drag_dest_set() to make the widget into a drag destination\n</code></pre>\n"},{"id":293303,"title":"how to be warned if terminal has sudo privileges and also show how much time is left?","body":"<p>How to see in the terminal that you have sudo privileges? (so knowing I have these privileges, I can just type <code>sudo -k</code>) It would be better to not add too much information into the terminal also, just some kind of simple and small alert!</p>\n\n<p><strong>REMAINING TIME IS IMPOSSIBLE, right?</strong> </p>\n\n<p>Also, how to see how much time I still have with those privileges on that specific terminal? (so I can just let it end instead of typing <code>sudo -k</code>). I think that remaining time could show up each time I press Enter key. </p>\n\n<p><strong>EDIT: I researched more and found that <code>/var/lib/sudo/$USER/$nPts</code> (where $nPts is current terminal pts as of <code>ps -p $$</code>) has its timestamp updated everytime a sudo command is issued, and it is only accessible if you use a sudo command, so the remaining time will always be the configured one...</strong></p>\n\n<p>PS.: Alternatively to that, I tried <code>alias sudo='sudo -k'</code> but I dislike having to type the password for every command... And also, this <code>alias sudos='sudo -k'</code> (or <code>alias ssudo='sudo -k'</code>, good if you typed a long line, just press Home and type 's') works if you only want to issue one command by typing <code>sudos</code>. But I still miss to know when I have normal sudo privileges to know I need to act...</p>\n"},{"id":309202,"title":"How often is the password asked for sudo commands? Where can I set it up?","body":"<p>I execute quite a lot of <code>sudo</code> commands.</p>\n\n<p>I noticed that if I execute one and then another one within few minutes, the 2nd time I don't get the message:</p>\n\n<blockquote>\n  <p>[sudo] password for my_username:</p>\n</blockquote>\n\n<p>but I do get it when there is more time between the execution of the two commands.</p>\n\n<p>What's the period of time in which the message is not appearing? How can we check it / update it?</p>\n"},{"id":329424,"title":"cannot start graphical programs with sudo","body":"<p>i have a fresh ubuntu 12.04 installation with encrypted home partition.</p>\n\n<p>i copied over my home folder from another computer.</p>\n\n<p>when i try to launch graphical programs via sudo i get errors like the following.</p>\n\n<pre><code>nailor@macbuntu:~$ sudo synaptic\nNo protocol specified\nNo protocol specified\n\n(synaptic:18080): Gtk-WARNING **: cannot open display: :0\n</code></pre>\n\n<p>or</p>\n\n<pre><code>nailor@macbuntu:~$ sudo gedit\nNo protocol specified\n\n** (gedit:18085): WARNING **: Command line `dbus-launch --autolaunch=3122eb74fe95c3593833223f0000000c --binary-syntax --close-stderr' exited with non-zero exit status 1: No protocol specified\\nNo protocol specified\\nAutolaunch error: X11 initialization failed.\\n\nNo protocol specified\nCannot open display: \nRun 'gedit --help' to see a full list of available command line options.\n</code></pre>\n\n<p>or</p>\n\n<pre><code>nailor@macbuntu:~$ sudo xterm\nNo protocol specified\nNo protocol specified\nWarning: This program is an suid-root program or is being run by the root user.\nThe full text of the error or warning message cannot be safely formatted\nin this environment. You may get a more descriptive message by running the\nprogram as a non-root user or by removing the suid bit on the executable.\nxterm Xt error: Can't open display: %s\nnailor@macbuntu:~$ \n</code></pre>\n\n<p>what can i do to correct the situation?</p>\n\n<p>ps: situation with gksudo</p>\n\n<pre><code>nailor@macbuntu:~$ gksudo xterm\nError copying '/home/nailor/.Xauthority' to '/tmp/libgksu-yRgesp': No such file or directorynailor@macbuntu:~$\n</code></pre>\n"},{"id":96693,"title":"How do I prevent webpages from stealing focus in Webkit?","body":"<p>I use a gtk TreeView to display different websites in my Python program. When the selected rows change, the web page is updated to the url field in the store. This works nicely, but a lot of web pages uses javascript to focus an input field. This means I can't use the keyboard to navigate the TreeView. </p>\n\n<p>I don't know how to disable javascript completely, but I also don't want to, because an increasing number of pages are dependent on it. However, I would like to prevent the focus theft. One thing I could do, is to implement some sort of memory about what the user has done, and if focus is removed without user interaction, then I move focus back to the last widget the user interacted with. But this seems ugly. Is there a better way? </p>\n"},{"id":154558,"title":"How to create Python app , which asks for sudo permissions?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://askubuntu.com/questions/125314/how-do-i-call-a-dialog-for-authentication\">How do I call a dialog for authentication?</a>  </p>\n</blockquote>\n\n\n\n<p>My application needs sudo permissions , so I want that when program starts , it asks for sudo permission , like Software Center does , when something will be installed. I`m using python and GTK+. </p>\n"},{"id":21343,"title":"How to make sudo remember my password and how to add an application to startup","body":"<p>I guess this should be a simple thing for ubuntu users out there. I have two questions.</p>\n\n<ol>\n<li><p>Whenever I need to run some command that requires permission from root, I run as sudo followed by that command. It would be nice if that does not prompt for password (but I should still be issuing a sudo to make sure that I know what I am doing). How to do this?</p></li>\n<li><p>Every time I start my system, I go to terminal and start my VPN using sudo vpnc. This is almost everytime! How to automate this to a startup script?</p></li>\n</ol>\n\n<p>Help much appreciated! Thanks</p>\n"}]}]