[{"id":401273,"title":"How do you create a live persistent Ubuntu USB on a Mac that will boot to a Mac or PC?","body":"<p>Hello I have actually successfully created a live Ubuntu USB (12.04.3 64-bit on 8GB LiveUSB) using unetbootin, however it is not persistent and will not boot on a Mac. </p>\n\n<p>Or, if anyone has any suggestions on how to edit the .iso file so it boots from a Mac and is persistent, that would be great too. I am running OSX Mavericks so the application would have to run on Mavericks too. </p>\n\n<p>I tried following  <a href=\"http://ubuntuforums.org/showthread.php?t=2174630\" rel=\"nofollow\">http://ubuntuforums.org/showthread.php?t=2174630</a> ans, as suggested below, chose GUID partition (not MBR) and then add persistent word in grub.cfg file. and after I booted and changed a few settings, I tried to reboot using the restart option in the ubuntu menu, and it didn't work. I manually powered my computer off and on, but when I tried to boot the second time, I got past the Ubuntu logo and then my screen went black. I tried this some more times and got the same result. here is my text from the grub.cfg file: </p>\n\n<pre><code>if loadfont /boot/grub/font.pf2 ; \nthen set gfxmode=auto insmod efi_gop insmod efi_uga insmod gfxterm terminal_output gfxterm \nfi \n\nset menu_color_normal=white/black   \nset menu_color_highlight=black/light-gray \n\nmenuentry \"Try Ubuntu without installing\" \n{ set gfxpayload=keep linux /casper/vmlinuz.efi persistent file=/cdrom/preseed/ubuntu.seed boot=casper quiet splash -- \ninitrd  /casper/initrd.lz } \n\nmenuentry \"Install Ubuntu\" \n{ set gfxpayload=keep linux /casper/vmlinuz.efi file=/cdrom/preseed/ubuntu.seed boot=casper only-ubiquity quiet splash -- \ninitrd  /casper/initrd.lz }\n\n\nmenuentry \"Check disc for defects\" \n{ set gfxpayload=keep linux /casper/vmlinuz.efi boot=casper integrity-check quiet splash -- \ninitrd  /casper/initrd.lz }\n</code></pre>\n","related_questions":[{"id":643080,"title":"How to create a live system on usb-drive with persistent changes on disk/hdd","body":"<p>I was trying to install Ubuntu live on a USB-drive with persistent changes. However i wanted to write the changes to HDD instead of USB for various reasons (Performance, Space).</p>\n\n<p>I found out, that the changes are handled within a file with a ext3 file-system that is mounted by the system (casper-rw).\nBut it seem to be auto-detected on flash-drive on startup.</p>\n\n<p>How can i create a new casper-rw file on HDD and reroute the Ubuntu live system on the USB-drive to HDD?</p>\n\n<p>edit 2015-07-14:</p>\n\n<p>Thank you for the answers so far. They are very interesting and help a lot to understand the mechanics of the \"live system persistent save feature\" better, and show good approaches to solve the problem.\nUnfortunately i was trying to overcome some limitations that i had in mind when asking the question regarding access to the host system and/or access to new hardware i did not clearly state (sorry for that).</p>\n\n<p>If partitioning is an option, i think the answer stated <a href=\"http://askubuntu.com/a/181062/419511\">here</a> is very good, since it only requires you to create a new partition, label it casper-rw and you're done (work's great, i tested it).</p>\n\n<p>If buying new hardware is an option, usb3.0 Flash-Drive (MLC or SLC), portable HDDs, eSATA and other options come to mind that have a far better performance than an average USB2.0 flash-drive.</p>\n\n<p>So i was wondering if there is a way to just create a casper-rw file instead of a partition on a disk with limited access to (or copy/link the one on the flash-drive).</p>\n\n<p>This way it would be easy to just copy the casper-rw file back to the flash-drive and use it from there again or move it to an other computer, granting great flexibility, minimal changes to the HDD and easy removal of changes done to the system.</p>\n"},{"id":647950,"title":"Live Ubuntu USB drive with persistence - headless install","body":"<p>I am looking for a way to make a Live USB with Persistence that can be run headless (i.e. by a bash script, therefor with no GUI interaction), either from Mac OS or Ubuntu.</p>\n\n<p>I need this to be able to program multiple USB drives easily for my students.</p>\n\n<p>I managed to make a Live USB from Mac, either by using UNetbootin (even if I did not manage to make the persistence work) or by using the dd command. However, I did not manage to make it persistent without the use of a GUI tool.</p>\n\n<p>Do you guys know how I could do that ?</p>\n\n<p>Thanks !</p>\n"},{"id":623654,"title":"Ubuntu Customization Kit (UCK) for Ubuntu Mac version","body":"<p>I am using UCK for creating custom ubuntu 14.04 ISO live-cds,\nI then burn the ISO into usb-disk with YUMI or Universal USB Installer or uNetBootin or similar.</p>\n\n<p>Booting on PCs it really works well.\nThen i tried to boot on a Mac, following the steps here indicated\n<a href=\"http://www.makeuseof.com/tag/how-to-boot-a-linux-live-usb-stick-on-your-mac/\" rel=\"nofollow\">http://www.makeuseof.com/tag/how-to-boot-a-linux-live-usb-stick-on-your-mac/</a></p>\n\n<p>It boots ok, but suddenly Ubuntu uses to crash in a kind of \"blue (black) screen\" with a dump of memory and registers.</p>\n\n<p>I think it is happening because the version of Ubuntu of customized and burned wasnt the \"mac\" version, am i right ?</p>\n\n<p>may i be confident that the \"mac\" version of the Ubuntu is enough tested to be used in a live environment ? why does exists a \"mac\" version ? is out there a cross-platform version of ubuntu ? or may i easily add the required files for mac to make my pc-version of ubuntu mac compatible ?\nif so, is there any tutorial about it ?</p>\n\n<p>what about the 15.04 version ?</p>\n\n<p>thank you very much</p>\n\n<p>javier</p>\n"},{"id":620284,"title":"How to make a bootable mac usb IN ubuntu","body":"<p>I screwed with some bin files in MAC OSX, and can't log in. Anyways, I want a bootable ubuntu usb so I can recover my files/look at the disks. I KNOW HOW TO MAKE A USB BOOTABLE IN MAC. However, I do not know how to make one in Ubuntu. I have a computer with ubuntu, but need to make a bootable usb FOR A MAC. Any help is greatly appreciated.</p>\n"},{"id":548850,"title":"Live linux USB to boot on a MAC but made on a PC? Please assist!","body":"<p>Good afternoon,</p>\n\n<p>Piggy-backing off of the only internet link from google (listed below) that i can find, i'm trying to get more info on this subject. </p>\n\n<p><a href=\"http://askubuntu.com/questions/360130/how-to-create-a-mac-bootable-live-linux-usb-on-windows\">How to create a Mac bootable live Linux USB on Windows?</a></p>\n\n<p>I'm trying to create a bootable linux live USB that will work on a MAC (by holding the option/alt button down while booting)OSX Lion 10.7.somthing.  This USB must be created on a PC however. Windows 7 or 8, it doesn't matter which one I use.  The link i mention above does say to use UNetbootin yet in the second paragraph, under requirements, there is a blurb that the resulting USB will only be usable on PC's.</p>\n\n<p>I'm a little new to the Linux community, but in school, and I'm learning about EFI so my question is, is it a specific distro that would launch on both Windows and Macs as a live USB or what do i need to do to accomplish this task?</p>\n\n<p>Bottom line is: I'm trying to help a co-worker recover files. I don't have a MAC myself nor access to one.  Virtual box with MAC software is also off the table.  Within my curriculum we are studying live boot USB's, so the challenge has been issued.</p>\n\n<p>It seems that this has been asked before but no clear answers are presenting.  Whether EFI is an issue or not, what process do I take to create this USB?  Any takers on this challenge?  I thank everyone in advance for any help they can offer. I'm stumped!</p>\n"},{"id":517394,"title":"Trying to make bootable USB on OS X -- the disk you inserted was not readable by this computer ??","body":"<p>So I formatted the USB thing to FAT, I tried using a 4GB and then figured maybe it's the disk so then I used a 2GB and got the same errors.  Followed the instructions just as they are on the page... </p>\n\n<p><a href=\"http://www.ubuntu.com/download/desktop/create-a-usb-stick-on-mac-osx\" rel=\"nofollow\">http://www.ubuntu.com/download/desktop/create-a-usb-stick-on-mac-osx</a></p>\n\n<p>I do the install command and I can see the lights start to go on my USB drive like it's being used... it continues for a few minutes and then I get this error pop up that says the \"disk you inserted was not readable by this computer\"</p>\n\n<p>what's wrong here? I'm following all of these instructions properly and I've tried it several times each way.  using osx 10.9.4 and trying to get a bootable USB so I can install ubuntu on another partition.  I don't have a CD drive so I can't do that. </p>\n\n<p>By the way, It says under step 3 in a Note: that OSX adds the .dmg to the file so it comes out like blabla.img.dmg after the conversion. Am I supposed to edit the name of the file and remove that .dmg at the end or keep it? It doesn't say what to do about it in the instructions. </p>\n"},{"id":260416,"title":"Making bootable usb in Mac OS 9?","body":"<p>So I have an old G3 imac with mac os 9.2 and mac os 10.1.5  installed on it. I would like to use this computer to make a bootable ubuntu usb stick. However when I followed the instructions for using terminal in os x,it did not work.I dont know if the computer is just too old. I am new to linux. Is there any way that I can use this computer to create a bootable usb?</p>\n"},{"id":414508,"title":"Ubuntu 3.11.0-15 (on machine with NVidia) - can boot from USB drive - not hard-drive","body":"<p>In trying to install nvidia drivers a number of times I end up corrupting my install of Ubuntu to the point where it won't boot.  I end up with the messages:</p>\n\n<pre>\nnvidia: module license 'NVIDIA' taints kernel\nDisabling lock debugging due to kernel taint\nnvidia: module verification failed: signature and/or required key missing - tainting kernel\n</pre>\n\n<p>Since then reinstalled Ubuntu about four times.</p>\n\n<p>I have only recently managed to get into the login screen for the  \"UI\" (is that called \"X\"?) from the harddrive.  That said I can get to a terminal on my harddrive by doing the following:</p>\n\n<ol>\n<li>Select Advanced from GRUB start-up menu\n<li>Select 3.11.0-15-generic recovery mode\n<li>Optionally click on network (enable networking) if I want the \"dpkg\" step to actually update/download/fix anything\n<li>Select dpkg (repair broken packages) from recovery menu (to make file-system read/write)\n<li>Select root (\"drop to root shell prompt\")\n<li>Now I have a full screen terminal and I can do things like update the /etc/default/grub file\n</ol>\n\n<p>But, I have yet to figure out anything (nomodeset, backlight, etc) which get me past the login screen from the harddrive.  </p>\n\n<p>It seems like my problem is 99% likely to be the drivers I have installed, my xorg.conf and the specific graphics card I have (NVIDIA GeForce GTX 780 - 3 GB - 941 GHZ).  </p>\n\n<p>One approach I'd like to try is to get my harddrive \"config file\" to match the USB drive \"config file\".  Unfortunately I would only be able to look at the harddrive \"config file\" from that same \"full screen terminal\" - whereas I could use the UI to look at the USB drive start-up config file.  I do notice the USB drive uses some argument/parameters to the Linux command like casper and am wondering if I could do similarly when I start from the harddrive.  Otherwise I think my next best bet is to try to get the harddrive boot to more closely match the USB drive boot.</p>\n\n<p>For example this is the command for the harddrive call to the command linux:</p>\n\n<pre>\nlinux /boot/vmlinuz-3.11.0-15-generic root=UUID=01494fc3-a040-46dd-b8ef-23ce81b59dbe ro quiet splash nomodeset $vt_handoff \n</pre>\n\n<p>And here is the command for booting from the usb drive:</p>\n\n<pre>\nlinux /casper/vmlinuz.efi file=/cdrom/preseed/ubunutu.seed cdrom-detect/try-usb=true noprompt floppy.\\allowed_drive_mask=0 ignore_uuid boot=casper quiet splash -- nomodeset\n</pre>\n\n<p>Can I use the \"casper\" aspect of the USB drive in my boot from the harddrive or should I be looking at some \"start-up config file\" to see if I can make the hard-drive one match the USB drive one.  </p>\n\n<p>One other idea - I do notice when I list the drivers from the terminal/shell on the harddrive using the command:\njockey-text -l</p>\n\n<p>I only see the two nvidida drivers (kmod:nvidia_319_updates and kmod:nvidia_319) and never the nouveau video driver.  Just to be sure my version of Nouveau was up to date and working on my harddrive - I also just ran this:</p>\n\n<pre>\nsudo apt-get install noveau-firmware xserver-xorg-video-nouveau xsever-xorg-video-nouveau-dbg\n</pre>\n\n<p>It installed - but same thing - I get to the login screen, can see the password field update as I type my password, but as soon as I hit enter the screen goes black.</p>\n\n<p>Also it is worth mentioning I can't boot from the harddrive even using the graphics fail-safe selection from the recovery menu.  However, I took a look at this file</p>\n\n<pre>xorg.conf.failsafe</pre>\n\n<p>and in that file I notice the device driver is set to \"vesa\".  I also noticed I didn't have a xorg.conf - so I created one with a reference to nouveau.</p>\n\n<p>By running the command:</p>\n\n<pre>\nX -configure\n</pre>\n\n<p>a new file /root/xorg.conf.new is generated - so I moved it to /etc/X11 and took a look at it.</p>\n\n<p>It has eight screens configured in it and the screen named \"Screen2\" shows nouveau.  I renamed it to xorg.conf (in the /etc/X11 directory) for the first time (in over 48 hours) I now see a start-up screen loaded off my harddrive!</p>\n\n<p>However, when I enter my password, the screen goes black.  One poster showed me you can use ctrl-alt f6 on the login UI (assuming that appears for you) and that gives you the non X (non UI) terminal interface (you can login here).  But, even if I do that - I still don't know what to try next.  As soon as I login on the login screen appear - the screen just goes black.  Presumably this is still related to my graphics set-up - perhaps deleting those seven other entries in my /etc/X11/xorg.conf file?</p>\n\n<p>After trying to improve the situation by doing things like installing bumblebee - the login screen stopped appearing.</p>\n\n<p>One thing that might be worth mentioning is if I list all my drivers using <pre>jockey-text -l</pre> I see</p>\n\n<pre>\nkmod:nvidia_319_updates (proprietary, disabled, not in use)\nkmod:nvidia_319 (proprietary, disabled, not in use)\n</pre>\n\n<p>When I installed bumblebee it added this entry</p>\n\n<pre>\nkmod:nvidia_304 (proprietary, enabled, not in use)\n</pre>\n\n<p>The reason they're all marked \"not in use\" is because I got to this terminal through the recovery mode menu.</p>\n\n<p>I then purged/removed the nvidia_304 driver using this page:\n<a href=\"http://askubuntu.com/questions/314268/disabling-restricted-graphics-drivers-not-listed-by-jockey-text\">Disabling restricted graphics drivers not listed by jockey-text</a></p>\n\n<p>Specifically this bit</p>\n\n<pre>\nsudo apt-get remove --purge nvidia-*\n</pre>\n\n<p>When I ran the desktop command - it was already installed and at latest.</p>\n\n<p>So now I can get back to the login screen - but it still goes black when I login and something else I just noticed is that the UI stops responding/updating if I move the mouse.</p>\n\n<p>More shooting in the dark - when I ran this command:</p>\n\n<pre>\ndpkg -l | grep -i nvidia*\n</pre>\n\n<p>I noticed the primus and bumblebee drivers were still installed/resident on my machine in addition to the following:</p>\n\n<pre>\nbbswitch-dkms amd64\nnouveau-firmware all\n</pre>\n\n<p>So I used the following command:</p>\n\n<pre>\nsudo apt-get remove --purge bumblebee\n</pre>\n\n<p>Which uninstalled both bumblebee and primus.  That didn't make things any worse - I was still able to reach the login screen and type my password - but again after entering my password - the screen goes black and I'm forced to restart.</p>\n\n<p>Any other suggestions?</p>\n\n<p>Thanks!</p>\n"},{"id":390673,"title":"What is the role of the following files during boot from live usb?","body":"<ul>\n<li>/boot/vmlinuz-3.8.0-29-generic</li>\n<li>/boot/vmlinuz-3.8.0-29-generic.efi.signed</li>\n<li>/usr/lib/linux/vmlinuz-3.8.0-29-generic.efi.signature</li>\n<li>/casper/vmlinuz.efi</li>\n<li>/cdrom/preseed/ubuntu.seed</li>\n<li>/casper/initrd.lz</li>\n<li>/EFI/BOOT/BOOTx64.EFI</li>\n<li>/EFI/BOOT/grubx64.efi</li>\n</ul>\n"},{"id":360130,"title":"How to create a Mac bootable live Linux USB on Windows?","body":"<p>Right, I'll get right to it.</p>\n\n<p>How can I make a Linux Live USB on Windows, that I can use on a Mac.</p>\n\n<p>In front of me, I have a Windows laptop, and a dropped Mac Book Pro that won't properly boot. I need the Live USB to see what's wrong with the Mac, but conventional methods won't work. Running Linux on VM on the Windows isn't really viable, as it's a very old laptop, and I can only do basic stuff on it.</p>\n\n<p>The Live USB has to boot on the MAC.</p>\n\n<p>Spec on Mac:\n2.4GHz Intel Core i5<br>\n13.3 inch MacBook Pro<br>\nModel MD313X<br>\nBought early 2012  </p>\n\n<p>Sort of in a rush...</p>\n\n<p>Thank you!</p>\n"}]}]