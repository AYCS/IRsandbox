[{"id":713654,"title":"line 42: syntax error: unexpected end of file","body":"<p>I'm relatively new to bash scripting so bare with me but I need some help. I feel like i have all the right stuff there but it ain't quite going. I'm attempting to make a simply security log in the prompts the user to input a name and then if said name matches one of the if statements then it proceeds to have them enter a password followed by an su log in. it kicks back with \" line 42: syntax error: unexpected end of file\n\" after entering the data into the first user input prompt for the name.</p>\n\n<pre><code>#!/bin/bash\n\nclear\n\nread -p \"Please enter your name:\" i\n\nif [ \"$i\" = \"Tyler\" ]\n    then\n        read -p \"Hello Tyler. Please enter you password now:\" b         \n\n            if [ \"$b\" = \"1234567890\" ]\n                    then\n                        echo \"You really are Tyler!! Prove it again!!\"\n                        su\n\n            else\n                echo \"WRONG ANSWER!!\"\n\nif [ \"$i\" = \"LouRae\" ]\n    then \n        read -p \"Hey there beautiful. Please enter you password now:\" b\n\n            if [ \"$b\" = \"123456789\" ]\n                    then\n                        echo \"You really are LouRae!! Prove it again!!\"\n                        su\n            else\n                        echo \"WRONG ANSWER!!!\"\n\nif [ \"$i\" = \"Emma\" ]\n    then\n        read -p \"Hello Emma. Please enter you password now:\" b\n\n            if [ \"$b\" = \"12345678\" ]\n                    then\n                        echo \"You really are Emma!! Prove it again!!\"\n                        su\n            else\n                        echo \"WRONG ANSWER!!!\"\n\nfi\n</code></pre>\n","related_questions":[{"id":711448,"title":"bash: syntax error: unexpected end of file","body":"<pre><code>[~/bin]: ./trashing_rm.sh\n./trashing_rm.sh: line 70: syntax error: unexpected end of file\n[~/bin]: \n</code></pre>\n\n<p>here's <code>trashing_rm.sh</code>:</p>\n\n<pre><code>#echo $@ #dbg\n\nfunction help(){\n    if [[ $2 = \"--help:setup\" ]]; then\n        echo \"`basename $0` --setup :\"\n        echo \"appends to your bashrc (found at ~/.bashrc) the following line:\"\n        echo \"\\\"alias rm='$0'\\\"\"\n        echo \"by executing this command:\"\n        echo \"echo \\\"alias rm='$0'\\\" &gt;&gt; ~/.bashrc\"\n        exit 0 #don't print the other help.\n    fi\n    echo -e \"\\e[01m-- `basename $0` :: help --\\e[00m\"\n    echo\n    echo    \"`basename $0` --help         : this help page\"\n    echo -e \"`basename $0` &lt;\\e[04mfile\\e[00m&gt;         : trash \\e[04mfile\\e[00m to ~/TRASH.tar\"\n    echo    \"`basename $0` -r | --recover : extract trash to ~/recovered-trash\"\n    echo    \"`basename $0` --setup        : append some stuff to your .bashrc ( \\\"--help:setup\\\" )\"\n    echo \"Return status:\"\n    echo \"0 : No problems; file added to ~/TRASH.tar\"\n    echo \"1 : File not found\"\n    echo \"2 : minor problems - ~/TRASH.tar not found\"\n    echo \"3 : printed help message\"\n    echo\n    echo \"* if this script is aliased to 'rm', do '/bin/rm' for the builtin remove util.\"\n    echo\n    echo \"The source file is located at: $0\"\n    exit 0\n}\n\nif [[ $1 = \"--help\" ]]; then\n    help\nfi\n###################################################\n\nif [[ $1 = \"--recover\" ]]; then\n    if [[ -e ~/TRASH.tar ]]; then\n        #create recovered-trash if it doesn't exist.\n        if [[ -d ~/recovered-trash ]]; then\n            mkdir ~/recovered-trash\n        cp ~/TRASH.tar recovered-trash\n        tar -xf ~/recovered-trash/TRASH.tar\n        rm ~/recovered-trash/TRASH.tar #remove the copy\n        echo \"trash file extracted to ~/recovered-trash\"\n    else\n        echo \"no trash file found :(\"\nfi\n\nif [[ ! $1 ]]; then #we aren't passed anything\n    echo \"What do you want to trash?  [do -? for help]\"\n    exit 0\nfi\n\n\nif [ ! -e $1 ]; then #file doesn't exist\n    echo \"$0 : error 1: file '$1' not found\"\n    exit 1\nfi\n\n\nif [ -e ~/TRASH.tar ]; then #if trash file already exists\n    tar -r -f ~/TRASH.tar $1\n    /bin/rm $1 #if this script is aliased to 'rm',\n               #we call ourselves if we do 'rm'.\nelse\n    tar -c -f TRASH.tar $1\n    /bin/rm $1\nfi\n\nexit 0\n</code></pre>\n\n<p>(basically, it tars whatever you pass it, but i've overcomplicated it.)</p>\n\n<p>not sure if this is helpful, but:</p>\n\n<pre><code>[~/bin]: bash --version\nGNU bash, version 4.2.25(1)-release (x86_64-pc-linux-gnu)\nCopyright (C) 2011 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later &lt;http://gnu.org/licenses/gpl.html&gt;\n\nThis is free software; you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n</code></pre>\n"},{"id":687232,"title":"if command syntax","body":"<p>My code of shell script is as follows:</p>\n\n<pre><code>echo \"Enter file name\";\nread fname;\nif [-f$fname];\nthen\n    echo \"File already exists\";\nfi`\n</code></pre>\n\n<p>However, when I run my script, I get this error:</p>\n\n<pre><code>[-ffile]: not found\n</code></pre>\n\n<p>I have tried spacing <code>-f $fname</code> but I still get the same error.\nWhy is this happening and how can I fix it?</p>\n"},{"id":654223,"title":"Bash &quot;unexpected end of file&quot; on line 11, there is no line 11","body":"<p>I'm trying a new conky theme on my Lubuntu system, and for running it I need to start a bash script:</p>\n\n<pre><code>#!/bin/bash\n#sleep 18&amp;&amp;\nconky -c /home/mathijs/conky/conky1&amp;&amp;\nsleep 1&amp;&amp;\nconky -c /home/mathijs/conky/conky2&amp;&amp;\nsleep 1&amp;&amp;\nconky -c /home/mathijs/conky/conky3&amp;&amp;\nsleep 1&amp;&amp;\nconky -c /home/mathijs/conky/conkyxx&amp;&amp;\nsleep 1&amp;&amp;\n</code></pre>\n\n<p>When I run the script, the terminal gives me this error:</p>\n\n<pre><code>./start.sh: line 11: syntaxerror: unexpected end of file\n</code></pre>\n\n<p>Yet in the script there are only 10 lines. I rewrote it by hand, and checked again, but got the same error. What am I missing?</p>\n"},{"id":485567,"title":"Unexpected end of file","body":"<p>Can someone explain why the end of the file is unexpected on line 49? (Line 49 is one line after the last line)</p>\n\n<pre><code>#!/bin/bash \n\ntimeend=$(date -u +%H%M)\ntimestart=$(date --date \"$timeend 30 minutes ago\" -u +%H%M)\nfirsttime=0\n\nwhile true\ndo\n    if [[ $firsttime -eq 0 ]]; then\n    time=$timestart\n    increment=0\n    fi\n    if [[ $firsttime -ne true ]]; then\n    increment=$(( $increment + 2 ))\n    time=$(( $timestart + $increment ))\n    fi\n    if [[ $time -ge $timeend ]]; then\n    break\n    fi \n\n    gpnids &lt;&lt; EOF\n    RADFIL   = NEXRIII|CLT|TR0\n    RADTIM   = \"$time\"\n    TITLE    = 1/-2\n    PANEL    = 0\n    DEVICE   = gif|radar\"$increment\".gif|1280;1024|C\n    CLEAR    = Y\n    TEXT     = 1/2/2/hw\n    COLORS   = 7\n    WIND     =  \n    LINE     =  \n    CLRBAR   =  \n    IMCBAR   = 5/v/LL/.005;.6/.4;.01\n    GAREA    = dset\n    MAP      = 24 + 23 + 1/1/2 + 14 + 15/1/2\n    LATLON   = 0\n    OUTPUT   = t\n\n    $mapfil = lorvus.usg + hicnus.nws + hipona.nws + louhus.nws + loisus.nws\n    run\n\n    exit\n    EOF\n    firsttime=1\n\n    gpend\n\n done\n</code></pre>\n"},{"id":571544,"title":"Bash Tab Completion: &#39;-bash: unexpected EOF while looking for matching `)&#39; -bash: syntax error: unexpected end of file","body":"<p>I'm trying to go into an <code>irb</code> session with specific environment variables from a file with this command:</p>\n\n<pre><code>$ env $(cat env.sh) irb\n</code></pre>\n\n<p>But when I try press <code>Tab</code> after I type <code>env.</code> to complete it, I get this following error:</p>\n\n<pre><code>$ env $(cat env.-bash: unexpected EOF while looking for matching `)'\n-bash: syntax error: unexpected end of file\n</code></pre>\n\n<p>Another interesting thing is that if I'm logged in as root, this error does not occur. </p>\n\n<p>Here's the output of <code>find ~ -uid 0</code>:</p>\n\n<pre><code>$ find ~ -uid 0\n/home/(redacted)/.rpmdb\n/home/(redacted)/.rpmdb/Group\n/home/(redacted)/.rpmdb/Conflictname\n/home/(redacted)/.rpmdb/Installtid\n/home/(redacted)/.rpmdb/Sha1header\n/home/(redacted)/.rpmdb/Providename\n/home/(redacted)/.rpmdb/__db.002\n/home/(redacted)/.rpmdb/Requirename\n/home/(redacted)/.rpmdb/Sigmd5\n/home/(redacted)/.rpmdb/__db.001\n/home/(redacted)/.rpmdb/Obsoletename\n/home/(redacted)/.rpmdb/.dbenv.lock\n/home/(redacted)/.rpmdb/Name\n/home/(redacted)/.rpmdb/Basenames\n/home/(redacted)/.rpmdb/Triggername\n/home/(redacted)/.rpmdb/Packages\n/home/(redacted)/.rpmdb/Dirnames\n/home/(redacted)/.rpmdb/__db.003\n</code></pre>\n\n<p>Can anyone explain to me why this is happening and if so, how do I fix it in when I'm not a root user?</p>\n"},{"id":560813,"title":"Syntax Error: Unexpected end of file","body":"<p>I'm trying to run this script below and I have no idea why its not working.  I keep getting an error message that says \"Syntax Error: Unexpected end of file\" and I don't know how to trouble shoot this</p>\n\n<pre><code>#!/bin/bash\n\nAdd_Entry(){\n\n        echo \"Go Flight\"\n        pause\n}\n\nDelete_Entry(){\n\n        echo \"Go Flight\"\n        pause\n}\n\nView_Entry() {\n\n        echo \"Go Flight\"\n        pause\n\nShow_menus() {\n\n        echo \"~~~~~~~~~~~~~~~~~~~~~\"\n        echo \" M A I N - M E N U\"\n        echo \"~~~~~~~~~~~~~~~~~~~~~\"\n        echo \"1. Add Entry\"\n        echo \"2. Delete Entry\"\n        echo \"3. View Entry\"\n        echo \"4. Exit\"\n}\n\nExit(){\n\n        exit\n}\n\nRead_options(){\n\n        echo \"Please choose from the menu\"\n        read choice\n        case $choice in\n                1) Add_Entry ;;\n                2) Delete_Entry ;;\n                3) View_Entry ;;\n                4) Exit ;;\n        esac\n}\n\n# Main\nwhile true\ndo\n\n        Show_menus\n        Read_options\ndone\n</code></pre>\n\n<p>The Add Entry, View Entry and Delete Entry are just full of dummy code at the moment.  Still I have no idea why I'm getting this error.  Any help would be most appreciated!</p>\n"},{"id":521207,"title":"&quot;Syntax error: Unterminated quoted string&quot;","body":"<p>I am trying to use a backup script that will backup my sql database and website files.\nI am running Ubuntu 12.04 32 bit version and zPanel.</p>\n\n<p>Here is what my DB structure is along with which DB I want to backup: </p>\n\n<p><img src=\"http://i.stack.imgur.com/SMlKM.png\" alt=\"enter image description here\"></p>\n\n<p>In my script I also did not know what to put in at:\nMYSQL=\"$()\"\nMYSQLDUMP=\"$()\"\nGZIP=\"$()\"</p>\n\n<p>So I just put my DB name in for the first two and .gz in the third one.</p>\n\n<p>Here is the script:</p>\n\n<pre><code>#!/bin/sh\n#----------------------------------------------------------------\n# Daily Backup Routine - Backup and Sync to Dropbox\n# This script creates a backup using today's date, then deleted\n# any backups made 3 days ago. If run every day it will ensure\n# you have a week's worth of backups of your MySQL databases and\n# zPanel web directories. \n#\n# Uses whatever Dropbox account is running on the server.\n#\n# Written by Richard Ferreira for the backup of zPanel websites.\n# Contact me - richard[at]beetle001.com\n#----------------------------------------------------------------\n#\n# Before we get started, we should set some parameters. We'll need these for later.\n# The webserver's datafiles:\nWEBDIR=\"/var/zpanel/hostdata/\"\n# Where do we want the backup to go?  (SET THIS - IT'S A TEMP FOLDER)\nBACKUP=\"/root/backup-temp\"\n# Where is our dropbox folder? (SET THIS TO YOUR ABSOLUTE BACKUP PATH)\nDROPBOX=\"/root/Dropbox/Backups\n# What do we want our date to look like?\nNOW=$(date +\"%d-%m-%Y\")\n# We need to know the date 3 days ago to purge any backups that were made 3 days ago.\n# This ensures we don't keep unnecessarily old backups.\n# It doesn't matter if it skips one every now and then - we'll just have to check manually from time to time.\n# If you want to keep more days backups, change the \"3 days ago\" to \"x days ago\"\nDAYSAGO=$(date --date=\"3 days ago\" +\"%d-%m-%Y\")\n# What should our file backup look like?\nWEBFILE=\"webdirs-full-$NOW.tar.gz\"\n# Our MySQL Login information and some paths (we'll use 'which' to make sure we get them):\nSQLUSER=\"root\"\n# Don't forget to change the root password here!\nSQLPASS=\"xxxxxxxxxxxx\"\nSQLHOST=\"localhost\"\nMYSQL=\"$(dogeboosting)\"\nMYSQLDUMP=\"$(dogeboosting)\"\nGZIP=\"$(.gz)\"\n#\n# Let's just, for sanity's sake, make sure our temp backup folder exists.\nmkdir $BACKUP\n# DON'T EDIT ANYTHING BELOW THIS LINE\n#----------------------------------------------------------------\n# Now let's start!\n# Let's get the databases that we want to backup.\nDBS=\"$($MYSQL -u $SQLUSER -h $SQLHOST -p$SQLPASS -Bse 'show databases')\"\n# Now let's dump them to .sql files and put them in our backup directory.\nfor db in $DBS\ndo\nFILE=$BACKUP/mysql-$db.$NOW.gz\n$MYSQLDUMP -u $SQLUSER -h $SQLHOST -p$SQLPASS $db | $GZIP -9 &gt; $FILE\ndone\n#\n# Let's shove the whole webserver directory into a tarball and throw that in with the sql files:\ntar -zcvf /root/backup/$WEBFILE $WEBDIR\n# That's all done - we should put the backups on Copy by putting them into our Copy folder.\n# First let's make a folder for today.\nmkdir $DROPBOX/$NOW\n# Copy our backups into it.\ncp -R $BACKUP/* $DROPBOX/Asterix/$NOW\n# We can delete the backup we made 3 days ago from Copy now.\nrm -rf $DROPBOX/$DAYSAGO\n# And clear out the temporary director for next time.\nrm $BACKUP/*\n# Job well done!\n# Have a beer and relax!\n</code></pre>\n\n<p>Here is my problem:\nWhen I try to run the script I get this error:\n./backup.sh: 66: ./backup.sh: Syntax error: Unterminated quoted string</p>\n\n<p>If anyone could help me with this would appreciate it alot!</p>\n"},{"id":383906,"title":"Syntax Error while running an install.sh file","body":"<p>I have a problem with a .sh file. This file will install a. Py file in the same folder! The file looks like this:</p>\n\n<pre><code>#!/bin/bash/  \npython install.py \"$ @\" \n</code></pre>\n\n<p>Can somebody pleace help me?</p>\n"},{"id":161381,"title":"How do I solve this &quot;unexpected &#39;}&#39; syntax error&quot; in my bash script?","body":"<p>I have a piece of code that has some serious issues and I was hoping to get it solved soon but no one has offered any help. I thought I'd try some Ubuntu users since this is the OS running the script. </p>\n\n<pre><code>mc_addplugin() {\n    if pgrep -u $USERNAME -f $SERVICE &gt; /dev/null\n    then\n        echo \"$SERVICE is running! Please stop the service before adding a plugin.\"\n    else\n        echo \"Paste the URL to the .JAR Plugin...\"\n        read JARURL\n        JARNAME=$(basename \"$JARURL\")\n        if [ -d \"$TEMPPLUGINS\" ]\n        then\n            as_user \"cd $PLUGINSPATH &amp;&amp; wget -r -A.jar $JARURL -o temp_plugins/$JARNAME\"\n        else\n            as_user \"cd $PLUGINSPATH &amp;&amp; mkdir $TEMPPLUGINS &amp;&amp; wget -r -A.jar $JARURL -o temp_plugins/$JARNAME\"\n        fi\n    if [ -f \"$TMPDIR/$JARNAME\" ]\n    then\n        if [ -f \"$PLUGINSPATH/$JARNAME\" ]\n        then\n            if `diff $PLUGINSPATH/$JARNAME $TMPDIR/$JARNAME &gt;/dev/null`\n            then \n                echo \"You are already running the latest version of $JARNAME.\"\n            else\n                NOW=`date \"+%Y-%m-%d_%Hh%M\"`\n                echo \"Are you sure you want to overwrite this plugin? [Y/n]\"\n                echo \"Note: Your old plugin will be moved to the \"$TEMPPLUGINS\" folder with todays date.\"\n                select yn in \"Yes\" \"No\"; do\n                    case $yn in\n                        Yes ) as_user \"mv $PLUGINSPATH/$JARNAME $TEMPPLUGINS/${JARNAME}_${NOW} &amp;&amp; mv $TEMPPLUGINS/$JARNAME $PLUGINSPATH/$JARNAME\"; break;;\n                        No ) echo \"The plugin has not been installed! Removing temporary plugin and exiting...\"\n                            as_user \"rm $TEMPPLUGINS/$JARNAME\"; exit;;\n                    esac\n                done\n                echo \"Would you like to start the $SERVICE now? [Y/n]\"\n                select yn in \"Yes\" \"No\"; do\n                    case $yn in\n                        Yes ) mc_start; break;;\n                        No ) \"$SERVICE not running! To start the service run: /etc/init.d/craftbukkit start\"; exit;;\n                        esac\n                done\n            fi\n        else\n            echo \"Are you sure you want to add this new plugin? [Y/n]\"\n            select yn in \"Yes\" \"No\"; do\n                case $yn in\n                    Yes ) as_user \"mv $PLUGINSPATH/$JARNAME $TEMPPLUGINS/${JARNAME}_${NOW} &amp;&amp; mv $TEMPPLUGINS/$JARNAME $PLUGINSPATH/$JARNAME\"; break;;\n                    No ) echo \"The plugin has not been installed! Removing temporary plugin and exiting...\"\n                        as_user \"rm $TEMPPLUGINS/$JARNAME\"; exit;;\n                esac\n            done\n            echo \"Would you like to start the $SERVICE now? [Y/n]?\"\n            select yn in \"Yes\" \"No\"; do\n                case $yn in\n                    Yes ) mc_start; break;;\n                    No ) \"$SERVICE not running! To start the service run: /etc/init.d/craftbukkit start\"; exit;;\n                esac\n            done\n        fi\n    else\n        echo \"Failed to download the plugin from the URL you specified!\"\n        exit;\n    fi\n}\n</code></pre>\n\n<p>It throws it at the closing bracket at the end of the function. </p>\n"},{"id":145900,"title":"&quot;syntax error: unexpected end of file&quot; simple script","body":"<p>i need some help for a very siple script, i don't get were the fault is.\nThe script :</p>\n\n<pre><code>#!/bin/bash\n\ndeclare -i s\ndeclare -i m\ndeclare -i h\n\nif [ \"$3\" &lt; 50 ]; then s=$3+10  m=$2  h=$1\n        else if [\"$2\" &lt; 50 ];\n                then s=$3-50  m=$2+1  h=$1\n                    else s=$1-50  m=$2-50  h=$1+1 fi \nfi \n\necho \"$h:$m:$s\"\n</code></pre>\n\n<p>The script add 10sc to the time we've entered.</p>\n\n<p>I get this error message : \"sub_change_dirrect: line 14: syntax error: unexpected end of file\"</p>\n"}]}]