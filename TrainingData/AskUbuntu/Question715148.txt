[{"id":715148,"title":"Just simple file syncing for ubuntu","body":"<p>I'm just a new guy with Ubuntu VPS. I've a simple purpose to solve.</p>\n\n<p>I've a gameserver to manage, I've some friends that develop files with me.</p>\n\n<p>Is there any way I can give them some files, folders to access? So that they can do their development in their own folder? </p>\n\n<p>Like edit, download, upload in their own folder?</p>\n\n<p>I've tried following things:\nGADMIN-PROFTPD\nDropbox\nvsftpd\nopenssh\nchroot\nPureadmin</p>\n\n<p>And nothing of those haven't worked for me. If you can help me with this, please do. Try to be noob friendly if you can... thanks. </p>\n","related_questions":[{"id":707231,"title":"Ubuntu 12.04 FTP over TLS Error 530","body":"<p>I have a ProFTPD Server running on Ubuntu 12.04, but my problem is that this FTP Server does not have a TLS encryption. So I tried to set up a TLS encryption with this tutorial: <a href=\"https://www.thomas-krenn.com/de/wiki/FTP-Server_unter_Debian_einrichten\" rel=\"nofollow\">https://www.thomas-krenn.com/de/wiki/FTP-Server_unter_Debian_einrichten</a></p>\n\n<p>It is in german, but of course the commands are similar as in english ;)</p>\n\n<p>Anyway when I edited the conf.d file in /etc/proftpd/ with the followed content:</p>\n\n<pre><code>&lt;IfModule mod_tls.c&gt;\n    TLSEngine on\n    TLSLog /var/log/proftpd/tls.log\n    TLSProtocol TLSv1\n    TLSRSACertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem\n    TLSRSACertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key\n    TLSVerifyClient off\n    TLSRequired on\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>And create an SSL certificat with the followed command:</p>\n\n<pre><code>make-ssl-cert generate-default-snakeoil --force-overwrite\n</code></pre>\n\n<p>As well as check if the tls module is in the /etc/proftpd/modules.conf file. </p>\n\n<p>And at the end restart the ProFTPD service with </p>\n\n<pre><code>service ProFTPD restart \n</code></pre>\n\n<p>I could not connect to my FTP Server over TLS with Filezilla. The error message: \"Error 530 Login incorrect\" appears. But my credentials are correct, because they also work without TLS. </p>\n"},{"id":706405,"title":"FTP works from command line but not from &quot;Connect to Server&quot; GUI (vsftp)","body":"<p>I have vsftpd installed on my Ubuntu server. Here is my config:</p>\n\n<pre><code># Example config file /etc/vsftpd.conf\n#\n# The default compiled in settings are fairly paranoid. This sample file\n# loosens things up a bit, to make the ftp daemon more usable.\n# Please see vsftpd.conf.5 for all compiled in defaults.\n#\n# READ THIS: This example file is NOT an exhaustive list of vsftpd options.\n# Please read the vsftpd.conf.5 manual page to get a full idea of vsftpd's\n# capabilities.\n#\n#\n# Run standalone?  vsftpd can run either from an inetd or as a standalone\n# daemon started from an initscript.\nlisten=YES\n#\n# Run standalone with IPv6?\n# Like the listen parameter, except vsftpd will listen on an IPv6 socket\n# instead of an IPv4 one. This parameter and the listen parameter are mutually\n# exclusive.\n#listen_ipv6=YES\n#\n# Allow anonymous FTP? (Disabled by default)\nanonymous_enable=NO\n#\n# Uncomment this to allow local users to log in.\nlocal_enable=YES\n#\n# Uncomment this to enable any form of FTP write command.\nwrite_enable=YES\n#\n# Default umask for local users is 077. You may wish to change this to 022,\n# if your users expect that (022 is used by most other ftpd's)\nlocal_umask=077\n#\n# Uncomment this to allow the anonymous FTP user to upload files. This only\n# has an effect if the above global write enable is activated. Also, you will\n# obviously need to create a directory writable by the FTP user.\nanon_upload_enable=YES\n#\n# Uncomment this if you want the anonymous FTP user to be able to create\n# new directories.\nanon_mkdir_write_enable=YES\n#\n# Activate directory messages - messages given to remote users when they\n# go into a certain directory.\ndirmessage_enable=YES\n#\n# If enabled, vsftpd will display directory listings with the time\n# in  your  local  time  zone.  The default is to display GMT. The\n# times returned by the MDTM FTP command are also affected by this\n# option.\nuse_localtime=YES\n#\n# Activate logging of uploads/downloads.\nxferlog_enable=YES\n#\n# Make sure PORT transfer connections originate from port 20 (ftp-data).\nconnect_from_port_20=YES\n#\n# If you want, you can arrange for uploaded anonymous files to be owned by\n# a different user. Note! Using \"root\" for uploaded files is not\n# recommended!\n#chown_uploads=YES\n#chown_username=whoever\n#\n# You may override where the log file goes if you like. The default is shown\n# below.\n#xferlog_file=/var/log/vsftpd.log\n#\n# If you want, you can have your log file in standard ftpd xferlog format.\n# Note that the default log file location is /var/log/xferlog in this case.\n#xferlog_std_format=YES\n#\n# You may change the default value for timing out an idle session.\n#idle_session_timeout=600\n#\n# You may change the default value for timing out a data connection.\n#data_connection_timeout=120\n#\n# It is recommended that you define on your system a unique user which the\n# ftp server can use as a totally isolated and unprivileged user.\n#nopriv_user=ftpsecure\n#\n# Enable this and the server will recognise asynchronous ABOR requests. Not\n# recommended for security (the code is non-trivial). Not enabling it,\n# however, may confuse older FTP clients.\n#async_abor_enable=YES\n#\n# By default the server will pretend to allow ASCII mode but in fact ignore\n# the request. Turn on the below options to have the server actually do ASCII\n# mangling on files when in ASCII mode.\n# Beware that on some FTP servers, ASCII support allows a denial of service\n# attack (DoS) via the command \"SIZE /big/file\" in ASCII mode. vsftpd\n# predicted this attack and has always been safe, reporting the size of the\n# raw file.\n# ASCII mangling is a horrible feature of the protocol.\n#ascii_upload_enable=YES\n#ascii_download_enable=YES\n#\n# You may fully customise the login banner string:\nftpd_banner=Welcome to The Don FTP.\n#\n# You may specify a file of disallowed anonymous e-mail addresses. Apparently\n# useful for combatting certain DoS attacks.\n#deny_email_enable=YES\n# (default follows)\n#banned_email_file=/etc/vsftpd.banned_emails\n#\n# You may restrict local users to their home directories.  See the FAQ for\n# the possible risks in this before using chroot_local_user or\n# chroot_list_enable below.\nchroot_local_user=YES\n#\n# You may specify an explicit list of local users to chroot() to their home\n# directory. If chroot_local_user is YES, then this list becomes a list of\n# users to NOT chroot().\n# (Warning! chroot'ing can be very dangerous. If using chroot, make sure that\n# the user does not have write access to the top level directory within the\n# chroot)\n#chroot_local_user=YES\n#chroot_list_enable=YES\n# (default follows)\n#chroot_list_file=/etc/vsftpd.chroot_list\n#\n# You may activate the \"-R\" option to the builtin ls. This is disabled by\n# default to avoid remote users being able to cause excessive I/O on large\n# sites. However, some broken FTP clients such as \"ncftp\" and \"mirror\" assume\n# the presence of the \"-R\" option, so there is a strong case for enabling it.\n#ls_recurse_enable=YES\n#\n# Customization\n#\n# Some of vsftpd's settings don't fit the filesystem layout by\n# default.\n#\n# This option should be the name of a directory which is empty.  Also, the\n# directory should not be writable by the ftp user. This directory is used\n# as a secure chroot() jail at times vsftpd does not require filesystem\n# access.\nsecure_chroot_dir=/var/run/vsftpd/empty\n#\n# This string is the name of the PAM service vsftpd will use.\npam_service_name=vsftpd\n#\n# This option specifies the location of the RSA certificate to use for SSL\n# encrypted connections.\nrsa_cert_file=/etc/ssl/certs/ssl-cert-snakeoil.pem\n# This option specifies the location of the RSA key to use for SSL\n# encrypted connections.\nrsa_private_key_file=/etc/ssl/private/ssl-cert-snakeoil.key\n\nallow_writeable_chroot=YES\nfile_open_mode=0777\n</code></pre>\n\n<p>I am running a Minecraft server on it and it is a headless computer; I need to access files remotely. I have a user on the server named <code>mc_admin</code>. The user's home directory is my minecraft server folder, <code>/data0/minecraft/</code> so it gets chrooted by <code>vsftpd</code> there. This is all fine and dandy, and I can FTP in from a remote machine (also running Ubuntu) with <code>ftp</code> and my <code>vsftpd</code> log shows:</p>\n\n<pre><code>Sat Dec  5 16:11:42 2015 [pid 25014] CONNECT: Client \"(my ip here)\"\nSat Dec  5 16:11:42 2015 [pid 25013] [mc_admin] OK LOGIN: Client \"(my ip here)\"\n</code></pre>\n\n<p>BUT, if I try to login from the SAME computer, but this time by going to \"Places\" and \"Connect to Server...\" and setting \"FTP (with login)\" on Port 21, and entering my credentials, my log shows this on the server:</p>\n\n<pre><code>Sat Dec  5 16:11:25 2015 [pid 25005] [mc_admin] OK LOGIN: Client \"(my ip here)\"\nSat Dec  5 16:11:26 2015 [pid 25011] CONNECT: Client \"(my ip here)\"\nSat Dec  5 16:11:28 2015 [pid 25010] [mc_admin] FAIL LOGIN: Client \"(my ip here)\"\n</code></pre>\n\n<p>So for some reason it is authenticating me successfully and immediately failing my login? Anyone know why? I really need to be able to use the GUI FTP. Thanks.</p>\n"},{"id":691375,"title":"On Ubuntu 14.04.3 - something is changing regular user&#39;s password within 24 hours causing access problems","body":"<p>I'm using a Digital Ocean droplet (Ubuntu 14.04.3) to create a temporary ftp server to get some data (it doesn't need security).  I've set up vsftpd so that access is given to regular chrooted users on the system.  I also created just one regular user (ftpuser) using the <code>adduser</code> command.</p>\n\n<p>The problem is that I can ftp using the ftpuser without issue but within 24 hours something happens to the user password and then I can no longer login.  If ssh into the system as root and do a <code>passwd ftpuser</code> and change the password to what I was using before - then it works fine for the next 24 hours and once again - it doesn't work anymore.</p>\n\n<p>This is driving me completely crazy because it doesn't make any sense.</p>\n\n<p>Here are details of configuration:</p>\n\n<pre><code>vsftpd.conf:\nlisten=YES\nlocal_enable=YES\nwrite_enable=YES\ndirmessage_enable=YES\nuse_localtime=YES\nxferlog_enable=YES\nconnect_from_port_20=YES\nchroot_local_user=YES\n#pam_service_name=vsftpd\npam_service_name=ftp\n</code></pre>\n\n<p>I've also updated Ubuntu with the latest security patches fwiw.</p>\n"},{"id":644921,"title":"Fake SFTP for Ubuntu","body":"<p>I have a Java project which I'm currently trying to test on my localhost. In production, it sends some files via FTP/SFTP to another server. However, I want to create a local SFTP server on my computer. Is there a good tool for ubuntu to achive this?</p>\n\n<p>In windows development environments, we are using this software to create a fake sftp server on localhost: <a href=\"http://www.coreftp.com/server/\" rel=\"nofollow\">http://www.coreftp.com/server/</a></p>\n\n<p>Do you know any alternative software to create a local sftp server on Ubuntu? I'm currently using Ubuntu 15.04 version.</p>\n\n<p>Edit: Comments have convinced me to use openssh as sftp server. Now I'm changing my question as such: how can I hide my sftp user from PC's login screen?</p>\n\n<p>Thank you.</p>\n"},{"id":622919,"title":"Dropbox desktop app on Ubuntu 14.04 does not sync correctly","body":"<p>I've been using Dropbox for my development work (since I have 2 computers), and very recently I've noticed that any code that I write on my Ubuntu 14.04 computer does not sync to my mac. When I open the dropbox web app, it turns out that the new files/changes in existing files haven't synced to dropbox (web) itself.</p>\n\n<p>I mean - all my code is stored in my dropbox folder itself, on both the ubuntu and mac computers. So there's no need to separately copy-paste files to the dropbox folder. The only way the sync finally works is when I restart the ubuntu computer at least twice. After the restart, the sync appears on both dropbox online, as well as the dropbox folder on the mac. </p>\n\n<p>I've been through this question where the problem is that <a href=\"http://askubuntu.com/questions/511486/dropbox-does-not-sync-on-ubuntu-14-04\">Dropbox doesn't sync at all</a>, but mine is different.</p>\n\n<p>Interestingly, this problem seems to be happening more often on my ubuntu computer ever since Dropbox started popping up the <a href=\"http://askubuntu.com/questions/148171/dropbox-error-echo-100000-sudo-tee-proc-sys-fs-inotify-max-user-watches\">\"Dropbox can't monitor the filesystem. Please run ...\"</a> notification. I did modify the <code>/etc/sysctl.conf</code> file, but the changes(100000 instead of 8192) seem to be overwritten after every restart. And I'm not even sure these two problems are related.</p>\n\n<p>Can someone please help.</p>\n"},{"id":621915,"title":"FTP SERVER FAIL LOGIN on Ubuntu 14.04","body":"<p>Already installed ProFTPd before in my Ubuntu 14.04 and it was working great. Suddenly, users could no longer connect (I didn't make any changes it just stopped working). So I tried to fix it but failed and ultimately removed ProFTPd from my server.</p>\n\n<p>After removing ProFTPd, I installed vsFtpd. I think I got the setup right but still users could not log-in. I think authentication was the problem but I'm sure I was using the right credentials (anonymous is off). Still with no luck I removed vsFtpd and installed ProFTPd again and removed it again.</p>\n\n<p>Currently I have vsFtpd installed. I did not make much changes yet to config file and I'm still having log-in problems (with this fresh install).</p>\n\n<p>Changes I made:</p>\n\n<ol>\n<li>(Enabled) write_enable=YES</li>\n<li>(Enabled) Chroot_local_user=YES</li>\n<li>(Changed from vsftpd) pam_service_name=ftp</li>\n</ol>\n\n<p>I'm trying to log-in using a user that has Bash in /etc/passwd. And home directory is owned by root.</p>\n\n<p>PROBLEM: I enter the correct username and password and the server does not let me in. The vsftpd.log says FAIL LOGIN: Client \"xxx.xxx.xxx.xxx\". Connecting using Firefox returns error <strong>530 Login incorrect</strong>.</p>\n\n<p>What I am doing wrong? Or was there an update that caused this because my FTP Server was working fine until one day users could no longer authenticate.</p>\n\n<p>Thank you for your reply.</p>\n"},{"id":533063,"title":"I want to create an FTP account that can oversee multiple other FTP accounts. How should I manage my permissions and users?","body":"<p>I rent my own virtual server. I installed Ubuntu Server 14.04 and use it as a webserver. I have hosted some websites of my own on this server, as virtual hosts. I also have a few friends who I give access to my server, so they can host their websites, use FTP to my server and so forth.</p>\n\n<p>My <em>/var/www/html</em> looks like this:</p>\n\n<pre><code>phpmyadmin/\nmyownsite/\nmysecondsite/\nfriendssite/\nanotherfriendssite/\n...\n</code></pre>\n\n<p>I give my friends their own login for PHPMyAdmin, I create them a new user for ProFTPd, and setup a new folder for them to mess around in. I don't want them to be able to access <strong>all</strong> of the files under <em>/var/www/html</em>, so I make sure they are locked into their own home folder and set their home folder to be <em>/var/www/html/[theirsite]</em></p>\n\n<p>However, I want to have an \"overseeing\" FTP user for myself, so I can easily help my friends set up their website while providing them with their own login. This FTP user should have permission to write, delete etc in all of the folders. </p>\n\n<p>Big problem: I cannot use root for this. Login to FTP by root is disabled by default, and when I do enable it, it's trapped inside it's home folder (/root, which cannot be changed), just like all other users. How should I manage my users and permissions? Also, the PHP files need stay able to write to the server too, of course. </p>\n"},{"id":329564,"title":"Dropbox NAS replication through Ubuntu Server 12.04","body":"<h2>Background</h2>\n\n<p>I have a D-LINK DNS-320 NAS which works well to provide SMB shares but not much else. I have mounted the volumes on my NAS to my Ubuntu Server 12.04 VM which runs as production for me for several internal and external sites.</p>\n\n<p>My own Documents, Pictures, etc... I moved to the NAS some time ago to a folder on my own name.</p>\n\n<h2>Dropbox</h2>\n\n<p>I have since installed Dropbox and made it into a daemon by following another article and this resulted in my user's home folder having a new folder called Dropbox inside which replicates without issue.</p>\n\n<p>My problems comes from that inside that folder I created a soft link called Documents to the folder named after me on my NAS through the mount.  i.e.</p>\n\n<p>/home/user/Dropbox/Documents -> /mnt/nas1/vol1/Files/user</p>\n\n<h2>Problem</h2>\n\n<p>Now whenever I reboot it seems to me like the NAS is not mounting before Dropbox kicks in because rebooting the Ubuntu Server causes Dropbox to wipe all my files.  Then if I SSH in and run their python script to restart Dropbox then it finds everything (almost everything) again and starts to upload it.  This back and forth is causing me issues and to loose some of my files.</p>\n\n<h2>Current status</h2>\n\n<p>I have for now disabled the Dropbox daomon on my Ubuntu Server and I am currently working with Dropbox to try to restore all of my files.</p>\n\n<p>Once I have done this, I need to come up with a better method.</p>\n\n<h2>Original Idea</h2>\n\n<p>My original idea was that Dropbox would simply replicate all of my Documents and allow not only everything to be synced between smart phones, tables, laptops, and desktops, but for me to also keep a synced copy on my NAS for backup purposes.</p>\n\n<p>Clearly at this point I cannot do this if I cannot fix the above issue so I am reaching out for some help and I would welcome ideas.</p>\n"},{"id":314679,"title":"How to FTP transfer files to /var/www?","body":"<p>I'm new to linux and I've set up a web server with Ubuntu Desktop edition so I can practice with the GUI a bit before transitioning to Ubuntu Server. </p>\n\n<p>I've already set up a LAMP stack as well as FTP. Now I just need to know how to transfer my web files to the /var/www folder in Ubuntu. Previously I've worked on Mac OS and there's a central server for all the web files where I can FTP to. </p>\n\n<p>Anyone able to help me understand how do I FTP to the /var/www folder in Ubuntu?</p>\n\n<p>Thanks</p>\n"},{"id":42377,"title":"Sync Computers Using Ubuntu One without the Cloud","body":"<p>I am looking for a way that I can synchronize the files on two computers (assuming both run Ubuntu) WITHOUT uploading the files to the cloud as Ubuntu One does. Windows Live Mesh does this natively (I can synchronize essentially as many files/folders as I want, and pick and choose which of these I actually want \"backed up\" to the online cloud). So essentially, with Windows Live Mesh, I can synchronize a large amount of data (I currently sync something like 30gb) between two computers, while only something like 1Gb actually gets loaded to the cloud.</p>\n\n<p>Is there a way to do this with Ubuntu One or even Ubuntu in general? </p>\n\n<p>It seems a shame that Ubuntu One should be limited to being able to do nothing more than any other fileshare program (like Dropbox) can. </p>\n"}]}]