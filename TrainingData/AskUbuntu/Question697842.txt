[{"id":697842,"title":"Where is the smb mount point in 15.10 of shares mounted via the file manager?","body":"<p>From Ubuntu 15.10 I want to access movie files on a samba server for editing in Avidemux. I cannot open the files from within the file open dialog of Avidemx because the smb network share doesn't show up. Neither can I find the gvfs mount point to navigate to the files (it used to be in ~/home/.gvfs in 12.04, then it moved to /run/user/UID/gvfs, but now in 15.10 I cannot find it anywhere. The /proc/mounts shows only \"gvfsd-fuse /run/user/1001/gvfs ....\" but that directory appears empty. This means that I cannot use the command line at all to fix the problem by creating a link (as I used to do in 14.04).\nAny help?</p>\n\n<p>Thanks,\nMichael</p>\n","related_questions":[{"id":343205,"title":"Where can I find the mount point for SMB shares in 13.04?","body":"<p>In older Ubuntu releases, you were able to access the SMB shares mounted with Nautilus by going into the <code>~/.gvfs/</code> directory. I found it very convenient, since I like to use Nautilus to mount the shares, but do all disk operations (copy, mv, find etc.) using command line.</p>\n\n<p>I now have Ubuntu 13.04, and even though I can mount the share and use it with Nautilus (which I never use), I am unable to find the actual mount point. Is it still somewhere? Or has it been abandoned? Can I get it back?</p>\n\n<p>I know that I can mount the shares using CIFS and <code>/etc/fstab</code>, but I'd rather use the user space. That way, when I install a new system or transfer my home to another machine, my preferences (including credentials) stay in my home directory and I don't need to worry about updating fstab.</p>\n\n<p>Also, I do not want to mount it manually with sudo (with <code>sudo mount -t cifs ...</code>). Yes, I could create an alias or a script, but then I would have to either type my password every time or store my password in a credentials file. And type the sudo password. And then each time I encounter a new share, I'd need to remember how to create a credentials file. So yes, I might end up with this solution, but I would rather not change my current habits, if it is possible.</p>\n\n<p>Furthermore, there is the matter of other users for which I often provide a simple command-line solution. In 13.04, this is no longer possible (for example, because the users to whom I provide the solution are not allowed to sudo mount on their machines).</p>\n\n<p>In any case, I'm curious as to what happened to gvfs and why I can't see the mounted directories.</p>\n"},{"id":663742,"title":"Where is the GVFS folder in 15.04","body":"<p>I can't seem to locate the GVFS folder in Ubuntu 15.04 has its location changed from 14.10?</p>\n\n<p>The old location:</p>\n\n<pre><code>/run/user/1000/gvfs/\n</code></pre>\n\n<p>Is always empty, no matter how many samba shares are mounted. <a href=\"http://i.stack.imgur.com/17Czh.png\" rel=\"nofollow\"><img src=\"http://i.stack.imgur.com/17Czh.png\" alt=\"View of gvfs folders showing empty despite a samba share being mounted.\"></a></p>\n\n<p>So has the location moved? The reason that I ask is that I am having problems playing video and music files from Samba shares since upgrading from 14.10 to 15.04 and I am guessing that gvfs is the cause. </p>\n\n<p>I have tried another answer that suggested that I install gvfs-fuse, but this was already installed - a re-installation didn't help. </p>\n\n<p>I guess a second question would be if the location is the same, why isn't anything mounting there anymore?</p>\n"},{"id":667419,"title":"How do I pass SMB/CIFS nobrl (or other mount) option to gvfs-mount?","body":"<p>I'd like to mount a dedicated NAS box SMB share from userland (no sudo or root access) via gvfs-mount, and specify various mount.cifs options such as <code>nobrl</code> (no byte-range locking) for compatibility purposes.</p>\n\n<p>For example, I need to mount a share from userland -- this works to get the share mounted:</p>\n\n<pre><code>$ gvfs-mount smb://user@server/share\n</code></pre>\n\n<p>But I don't know how to specify other smbclient-specific options.  I have been able to mount using the <code>nobrl</code> option via <code>sudo mount -t cifs //server/share/ /mnt/foo -o username=$USER,nobrl</code> so I'm hoping there's some way to do the same via <code>gvfs-mount</code>.</p>\n\n<p>I've searched in all the usual places, so far unable to find the magic incantation.  </p>\n\n<p>(Running Ubuntu 15.04 X64.)</p>\n"},{"id":61196,"title":"Why do my gvfs mounts not show up under ~/.gvfs or /run/user/&lt;login&gt;/gvfs?","body":"<p>From what I read, when mounting a network share via nautilus or <code>gvfs-mount</code> the mount point should be in <code>~/.gvfs</code>. This seems not to be the case for me: I tried mounting both an FTP and SMB share via both nautilus and <code>gvfs-mount</code> under both Ubuntu Maverick and Natty and in none of the cases did I see any mount point under <code>~/.gvfs</code>. I can access the shares just find in nautilus, but I want to have access via the command line, which is why I need a mount point in the file system.</p>\n\n<p><strong>Edit:</strong> Debugging following James Henstridge's answer and enzotib's comment revealed that on my laptop <code>gvfs-fuse-daemon</code> is running and consequently gvfs mounts show up in <code>~/.gvfs</code>, whereas on the 2 workstations where <code>~/.gvfs</code> remained empty <code>gvfs-fuse-daemon</code> was not running. On all 3 machines there are other gvfs processes running: <code>gvfsd</code>, <code>gvfs-afc-volume-monitor</code>, ...</p>\n\n<p>On the laptop, <code>mount | fgrep gvfs</code> yields</p>\n\n<pre><code>gvfs-fuse-daemon on /home/xxx/.gvfs type fuse.gvfs-fuse-daemon (rw,nosuid,nodev,user=xxx)\n</code></pre>\n\n<p>That raises the questions:</p>\n\n<ul>\n<li>How are shares mounted without <code>gvfs-fuse-daemon</code> running? Is there no mount point created in that case and is every access to the share a gvfs library call? Which daemon is responsible? <code>gvfsd</code>?</li>\n<li>What's the role of <code>gvfs-fuse-daemon</code>? Does it only create a fuse mount point in <code>~/.gvfs</code>?</li>\n</ul>\n\n<p><strong>Update:</strong> On 12.10 and later, mounts are under <code>/run/user/&lt;login&gt;/gvfs</code>.</p>\n"},{"id":621020,"title":"How is mounting samba share in terminal different to mounting in Nautilus?","body":"<p>I have a server operating a samba share that I can happily navigate by browsing the network, finding the server and share. When I open the share I'm asked to log in. I use my username and password and have full access to the drive and its shares.</p>\n\n<p>When I attempt to mount the same server and share with the same login details, the permissions on the share are all different. What is the difference between the two methods and how can I mount a share with the same permissions that nautilus can? I am using the command:</p>\n\n<pre><code>sudo mount -t cifs -o user=&lt;username&gt; //&lt;IP&gt;/&lt;share&gt;/ &lt;share_folder&gt;/\n</code></pre>\n\n<p>The problem is a lot of software does not know how to open and save files to/from a network share in nautilus, so I need to mount it to the local file system.</p>\n"},{"id":618147,"title":"I don&#39;t have permission to access the subdirectories of a mounted share I created","body":"<p>After I mounted a domain share I tried to find duplicates with fdupes, but then I found out that I don't have permissions to the subdirectories of the share.</p>\n\n<p>This is how I mounted the share:</p>\n\n<p>First I made the <code>/media/sharename</code> with <code>mkdir</code>.</p>\n\n<p>Then I added this line in <code>/etc/fstab</code>:</p>\n\n<pre><code>//servername/sharename /media/sharename cifs credentials=/home/ubuntuusername/.smbcredentials,iocharset=utf8,sec=ntlm 0 0\n</code></pre>\n\n<p>And I made the file with the credentials with:</p>\n\n<pre><code>gedit ~/.smbcredentials\n</code></pre>\n\n\n\n<pre><code>username=msusername\npassword=mspassword\ndomain=DOMAIN\n</code></pre>\n\n<p>Then I used the <code>sudo mount -a</code> to mount the share.</p>\n\n<p>I can reach the share (also at the GUI) but I cannot open the subdirs because I don't have permissions.</p>\n\n<p>Is the share not looking at the permissions of my MS account/credentials?</p>\n\n<p>Or do I have to change something in the fstab line to do that? Or is it possible to do this another way?</p>\n"},{"id":485412,"title":"Error when mounting a shared drive via Samba","body":"<p>I have set up a windows workgroup in order to see my network drive. </p>\n\n<p>The network shows it but I can't mount it via smb4K and access it. </p>\n\n<p>And get the error message</p>\n\n<pre><code>The Share \"//MYBOOKLIVE/Public could not be mounted\nmount.cifs:permission denied:no match for /home/viktoria/smb4k/MYBOOKLIVE/Public in etc/fstab\n</code></pre>\n\n<p>I have installed samba\nsudo apt-get install samba</p>\n\n<p>I have opened the configuration \nsudo gedit/etc/samba/smb.conf\n and changed the file according to <a href=\"http://askubuntu.com/questions/119668/share-ext4-partition-over-network\">Share Ext4 Partition Over Network</a> using of course my configuration. My computer can trace find the other computer on the network, can find the printers and the network drive but I cannot mount it or access the files. I am sorry for my silly questions but I am a first time Ubuntu user and i understand very little about it.  </p>\n\n<p>I have to mention that there are two workgroups that I am connecting to. The one has two windows PCs and the other has only the network drive. I don't why this is happening. The other thing is that sometimes I see the workgroup with the network drive in the smb4K and sometimes i don't. I am pretty sure that I have to do something more but I don't know what.</p>\n\n<p>What do I have to do? </p>\n\n<p>Thanks in advance</p>\n"},{"id":330001,"title":"How to let smb share mount via fstab assign full permission to new created file or directory?","body":"<p>How can we fstab mount a samba share that give permission 0777 (to every samba users in the write list) for new created directory or files? E.g. I created a new directory in client PC (Ubuntu 12.10), and want the directory to have permission drwxrwxrwx in the server (Ubuntu 12.04 LTS).</p>\n\n<p>dir_mode=0777,file_mode=0777 already been set in the fstab, still no effect. I can read/write the mounted smb share, but other users in the write list cannot write to the new directory created by me. The permissions in server is always drwxr-xr-x. </p>\n\n<p>Other option that I have tried 'nounix', 'noperm','uid'. But still cannot get it work.</p>\n\n<p>Any idea?</p>\n"},{"id":222622,"title":"Cdrom is mounted, but where?","body":"<p>A Nautilus folder will be opened automatically when inserting a CD in a drive. It is under Devices with name Audiodisk. As long as the files are accessed via Nautilus everything is fine. </p>\n\n<p>The problem is that I can not find the cdrom files from the File System. This means that I can not access the cdrom files directly from applications.</p>\n\n<p>This is a problem in 12.10.</p>\n\n<p>I have checked all subfolders in /media, /mnt and /cdrom and didn't find the cdrom content there.</p>\n\n<p>mount and df commands do not show anything related to cdrom.</p>\n\n<p>In /etc/fstab there is a line</p>\n\n<blockquote>\n  <p>/dev/scd0       /media/cdrom0   udf,iso9660 user,noauto,exec,utf8 0<br>\n  0</p>\n</blockquote>\n\n<p>But the cdrom files are not in /media/cdrom0, it seems empty.</p>\n\n<p>Disks show the drive as </p>\n\n<blockquote>\n  <p>Device /dev/sr0 (Read-Only)</p>\n</blockquote>\n\n<p>When clicking a cdrom file in Nautilus and checking the properties it says under the Basic tab </p>\n\n<blockquote>\n  <p>Location: cdda://sr0/</p>\n</blockquote>\n\n<p>/etc/mtab commmand output</p>\n\n<pre>\n/dev/sda1 / ext3 rw,relatime,errors=remount-ro 0 0\nproc /proc proc rw 0 0\nsysfs /sys sysfs rw,noexec,nosuid,nodev 0 0\nnone /sys/fs/fuse/connections fusectl rw 0 0\nnone /sys/kernel/debug debugfs rw 0 0\nnone /sys/kernel/security securityfs rw 0 0\nudev /dev devtmpfs rw,mode=0755 0 0\ndevpts /dev/pts devpts rw,noexec,nosuid,gid=5,mode=0620 0 0\ntmpfs /run tmpfs rw,noexec,nosuid,size=10%,mode=0755 0 0\nnone /run/lock tmpfs rw,noexec,nosuid,nodev,size=5242880 0 0\nnone /run/shm tmpfs rw,nosuid,nodev 0 0\nnone /run/user tmpfs rw,noexec,nosuid,nodev,size=104857600,mode=0755 0 0\n/dev/sda6 /home ext3 rw,relatime,user_xattr 0 0\nbinfmt_misc /proc/sys/fs/binfmt_misc binfmt_misc rw,noexec,nosuid,nodev 0 0\ngvfsd-fuse /run/user/s/gvfs fuse.gvfsd-fuse rw,nosuid,nodev,user=s 0 0\n</pre>\n\n<p>How to find the mount point?</p>\n"},{"id":224441,"title":"How do applications open from/save to smb shares?","body":"<p>When, in different applications, using the menu to open/save files, the dialog that appears might offer different choices. A lot of them lacks the ability to browse the network and connect to (in my case) a smb (samba) share on my NAS. My question: <em>where is it going wrong</em> ?  <em>Or which packages are buggy</em> ?</p>\n\n<p>I have samba installed on my machine (Xubuntu 12.10), and also gvfs and its backends.</p>\n\n<p>With <strong>Thunar</strong> (1.5.3), I can easily access shares by:<br />  - clicking the 'Browse Network' shortcut in the Side Pane,<br />  - using self-made shortcuts directing to a folder on the share<br />  - typing a path such as 'smb://datastore/action/Pictures'<br />When a share is not mounted yet, a dialog appears to enter my credentials.</p>\n\n<p>Thunar adds the self-made shortcuts to the file ~/.gtk-bookmarks, and to be sure I linked it with .config/gtk-3.0/bookmarks.</p>\n\n<p>In <strong>LibreOffice</strong> ( 3.6.2.2) I find the same shortcuts as in Thunar, only 'Browse Network' is missing. Shortcuts to a smb share do work but only for browsing. Typing in a path works as long as I end it with a '/' ('smb://datastore/action/' does work, 'smb://datastore/action' not).<br /> When entering 'smb://datastore/' all shares are shown, but clicking them results in an error message \"Not a directory\".<br />When at last I click the Save button, I get an error-message stating \"Path to the file does not exist\". If I try to open a file, the dialog closes and nothing happens.</p>\n\n<p>The erroneous behavior only seems to be associated with the dialog. Opening a LibreOffice file on the smb share by clicking it in Thunar does work, as does saving it by clicking the save button on the LibreOffice toolbar.</p>\n\n<p>I tested <strong>Archive Manager</strong> (3.6.1.1), <strong>gThumb</strong> (3.0.2), <strong>Gimp</strong> (2.8.2) <strong>Inkscape</strong> (0.48.3.1) and <strong>Gnome MPlayer</strong> (1.0.6). They act similar to LibreOffice, although opening a file might work.</p>\n\n<p>Looking at <strong>Firefox</strong> (17.0), <strong>Leafpad</strong> (0.8.18.1) and <strong>Audacity</strong> (2.0.1), I find no way to access smb shares. All shortcuts referring to a smb share are missing, typing a path that starts with 'smb://' yields no result.</p>\n\n<p>So, where is the cause ?  Is it gvfs, gtk, samba, the applications themselves, some packages missing ?  And what about applications that rely on java, python, perl, ...  Do they need additional packages to access smb shares ?  Is this a problem only for smb shares ?  Or is it common to all type of network shares ?  Maybe it has to do with the recent change of mounting point (~/.gvfs/ -> /run/user/$USER/gvfs/) and its awful mappings ?</p>\n\n<p>Anymore insight information is more than welcome !</p>\n"}]}]