[{"id":714642,"title":"Installed to external drive, Grub using wrong architecture","body":"<p>I installed Lubuntu on a flash drive as you would an HD (not live/squashfs). But whenever I boot it I get a grub rescue prompt.</p>\n\n<p>It says it <code>can't find /boot/grub/i386-pc/normal.mod</code> which explains the rescue prompt. However, it's installed for x86_64. The folder for that arch is there with all the modules. When I did grub-install I targeted it to x86_64. When I try to explicitly insmod it it says <code>wrong arch elf magic</code>. So it is definitely looking for i386 and in the right place, but why and how do I fix it?</p>\n\n<p>My question is different than the suggested duplicate because there is no Windows installation on the flash drive, which must be machine-independent. Also, the solutions provided do not help - even boot-repair doesn't fix it.</p>\n","related_questions":[{"id":446682,"title":"How to install Ubuntu on portable external Hard Drive?","body":"<p>OS: Windows 7. I want install Linux Ubuntu on portable external Hard Drive USB 2.0.\nI read a variety of methods, but I'm confused by contradictory advices and methods. Actually, installing Ubuntu on anything other than clean PC looks much more complicated than installing Windows.\nI need to have <code>Ubuntu package + Python 2.7 + C compiler</code> installed. My external hard drive is partially filled, I need to keep all files. </p>\n\n<p>Will Ubuntu run entirely on external hardrive, without writing anythinhg to Windows system folders and to registry?</p>\n\n<p>Can anyone post detailed guide how install Ubuntu on external hard drive? </p>\n"},{"id":683981,"title":"Fresh install boots into grub","body":"<p>Linux newbie here. Just recently reinstalled Ubuntu and every time I boot, I get thrown into the grub shell. I've looked everywhere, wasted a lot of time and can't track the problem for the life of me.</p>\n\n<p>The partition table is laid out as:\n/dev/sda1 - The actual OS\n/dev/sda2 - EFI \n/dev/sda3 - Swap</p>\n\n<p>By running:</p>\n\n<pre><code>set root=(hd0,gpt1)\nlinux /vmlinuz_something root=/dev/sda1 ro\ninitrd /initrd.img\nboot\n</code></pre>\n\n<p>I boot into the OS and then run update-grub. It appears as it has succesfully located the kernels updated the entries, but still boots into grub. So I further looked into the issue and ran into some instances suggesting it might have something to do with the way GRUB handles booting following unsuccesful boot attempts.</p>\n\n<p>From what I could make out of those, I decided to try and add to my /etc/default/grub:</p>\n\n<pre><code>GRUB_TIMEOUT=0\nGRUB_RECORDFAIL_TIMEOUT=$GRUB_TIMEOUT\n</code></pre>\n\n<p>I ran update-grub once more and the issue persisted. Also tried other values as a guess, which didn't work unsurprisingly. I apologize for  bringing up this exhausted topic, but the solutions I found just haven't worked for me. Any ideas on how to fix this? </p>\n"},{"id":676181,"title":"Boot after installation error: no such device (Installed to External Hard Drive partition)","body":"<p>Installed Ubuntu 14.04.3-desktop-i386 alongside Windows Vista Home Premium. The installation only offered the 4.0 Tb EXTERNAL HARD DRIVE for installation, so I assigned (NOT within the advanced interface) approx 900 Gb of the external drive to Ubuntu. Upon boot-up, I'm now getting the error message </p>\n\n<pre>error: no such device: 51367ed2-0a88-462c-bcdd-039a3b0715a4\nEntering rescue mode... \ngrub rescue> (with a flashing underscore)</pre>  \n\n<p>Is there some information that the grub rescue can be given to recognize the device that is now unrecognized? I cannot access windows to uninstall Ubuntu. I still have access to Ubuntu boot DVD operating system and to the BIOS. Is there something I can do in the DVD system to make the partition in the external hard drive recognizable, or in the Bios to bypass the Ubuntu routine and allow the old Windows boot sequence?</p>\n\n<pre>grub rescue> ls</pre>\n\n<p>Returns...</p>\n\n<pre>(hd0) (hd1) (hd1,gpt5) (hd1,gpt4) (hd1,gpt4) (hd1,gpt2) (hd1,gpt1)</pre>\n\n<p>My entries...</p>\n\n<pre>grub rescue>ls (hd0)</pre>\n\n<pre>grub rescue>ls (hd1)</pre>\n\n<p>...</p>\n\n<pre>grub rescue>ls (hd1,gpt1)</pre>\n\n<p>All return...</p>\n\n<pre>(hd0): File system is unknown</pre>\n\n<p>...</p>\n\n<pre>(hd1,gpt1): File system is unknown</pre>\n\n<p>Adding a forward \"/\" or \" /\" at the end of my entry lines doesn't help either. No entries return a line mentioning \"lost+found\" as mentioned in <a href=\"http://askubuntu.com/questions/375801/unknown-filesystem-grub-rescue\">unknown filesystem, grub rescue</a></p>\n"},{"id":654622,"title":"&quot;Fixing Grub&quot; in single boot installation process","body":"<p>I installed Ubuntu 14.04.02 on my 2011 Macbook Pro following the instructions at <a href=\"https://help.ubuntu.com/community/MacPro\" rel=\"nofollow\">this page</a>.</p>\n\n<p>After the installation completed, the impulse to play with my new toy rushed over me and I took a little look around but haven't installed anything or connected to any network. I have rebooted the machine a couple times with no issue. </p>\n\n<p>Now, according the information at the aforementioned page, I need to \"fix grub\". I only know that grub is a kind of multiboot program. I don't know why I need to fix it. My machine now boots fine. Also, when I follow the instructions to fix grub, I encounter some issues. </p>\n\n<p>During the install, I placed / in the free space in dev/sda. I then made a partition for swap space in dev/sda. I left EFI alone as per the instructions, although I don't know why it was necessary - there are other instructions for the same install that don't say to keep EFI. </p>\n\n<p>Now for the first step in \"Fixing Grub\", it says to mount the hard drive which Ubuntu was installed on. I think I can skip this since I deleted everything except what was in dev/sda (?).</p>\n\n<p>In step 2 when I enter the command \"sudo mount --bind /sys [path] /sys\" bash returns \"mount: special device sysfs does not exist\".</p>\n\n<p>What will installing Grub do for me? And how might one install it in this situation? </p>\n\n<p>Also, why was keeping EFI necessary? </p>\n\n<p>Thanks! </p>\n"},{"id":643739,"title":"Can&#39;t boot after installing Ubuntu 14.04 with disk encryption","body":"<p>I install Ubuntu to one of my hard drives, and selected both \"Encrypt the new Ubuntu installation\" and \"Use LVM with the new Ubuntu installation.\" After trying to use that drive as my boot device, I get 'error: \"unknown filesystem\"', followed by a grub rescue prompt. What should I do?</p>\n"},{"id":467803,"title":"Installing Ubuntu 14.04 onto external HDD","body":"<p>I'm having problems with installing Ubuntu 14.04 onto my Verbatim 1TB external drive.\nI tried all kinds of tutorials, partitioning but nothing seems to work. I did put the bootloader on sdc (hard drive)  When i boot from the hdd, it just loads grub rescue. I'm installing this from laptop HP Probook 455, could this be a problem?</p>\n\n<ul>\n<li>What partitions should i put; where should ntfs partition be and what mount point?</li>\n<li>I've tried repairing grub from live cd, don't know what to try else.</li>\n</ul>\n"},{"id":582423,"title":"Clean install 14.04, after restart error: no such device:","body":"<p>After having numerous problems upgrading to 14.04 from 12.04 (there is a known conflict between the drivers for my graphics card and wine), I decided to do a complete clean install with a new graphics card. </p>\n\n<p>The PC is a dell T5500 workstation with 3 HDD, each of 2Tb. I booted from the Live CD and selected the <code>something else</code> option in order to format and partition the first drive. The first drive is partitioned into a 50G block for the OS and mounted as <code>/</code> with the remaining space for user files and mounted at <code>/home</code>, both on <code>ext4</code>. </p>\n\n<p>The second drive has a 50G partition for <code>swap</code> and the rest is unmounted (I manually mount later as I use this for backup). The install process seems to go smoothly but after ejecting the disk and rebooting, I get the error </p>\n\n<p><code>no such device:</code> </p>\n\n<p>followed by a long string of characters and it sits at the grub rescue. </p>\n\n<p>I have checked the integrity of the live CD and its fine. I also tried a clean install from the i386 version of 14.04 rather than the default amd but the result was the same. This is a 100% Ubuntu machine so no issues with windows and I'm at a bit of a loss how to proceed apart from reinstalling 12.04 LTS again. All versions tested run happily if you select <code>Try Ubuntu</code> and load from the live CD rather than installing. </p>\n\n<p>FYI, the old graphics card was a firepro v7900 and the new one is listed by <code>lspci</code> as NVIDIA GT218 [GeForce 310].</p>\n"},{"id":552501,"title":"&#39;/boot/grub/i386-pc/normal.mod&#39; not found","body":"<p>I know there are a few questions in this already (<a href=\"http://askubuntu.com/questions/266429/error-file-grub-i386-pc-normal-mod-not-found\">error: file &#39;/grub/i386-pc/normal.mod&#39; not found</a>, <a href=\"http://askubuntu.com/questions/361981/error-file-boot-grub-i386-pc-normal-mod-not-found\">error: file &#39;/boot/grub/i386-pc/normal.mod&#39; not found</a>, <a href=\"http://askubuntu.com/questions/519463/boot-grub-i386-pc-normal-mod-not-found-in-grub-rescue\">/boot/grub/i386-pc/normal.mod not found in grub rescue</a>) but non of those solves my problem.</p>\n\n<p>I upgraded a DELL PowerEdge 830 from 12.04 LTS to 14.04LTS and found myself staring at the \"grub rescue\" prompt. (Funny thing is that non of the commands that should work, like 'boot', are recognized by the grub trying to talk to me...)</p>\n\n<p>I used the <a href=\"https://help.ubuntu.com/community/Boot-Repair\" rel=\"nofollow\">BootRepair</a>, which was a nice utility. Unfortunately it didn't help. Still \"grub rescue\".</p>\n\n<p><a href=\"http://paste.ubuntu.com/9168771\" rel=\"nofollow\">Here's the link</a> to its log if someone would be kind enough to have a look at it.</p>\n\n<p>I also tried <a href=\"http://askubuntu.com/a/229453/51631\">this</a> and <a href=\"http://askubuntu.com/a/403508/51631\">this</a>, which are mostly the same. So obviously there is something differently wrong with my setup.</p>\n\n<p>At the grub rescue prompt I did \"ls\" to ensure I had the partitions I wanted. I can see the 3 expected partions on the first drive, /dev/sda1 being marked as boot and ext3. Here's a session with grub rescue:</p>\n\n<pre><code>grub rescue&gt; ls\n(hd0) (hd0,msdos5) (hd0,msdos1) (hd1) (hd1, msdos)\ngrub rescue&gt; ls (hd0)\n(hd0): Filesystem is unknown.\ngrub rescue&gt; ls (hd0,1)\n(hd0,1): Filesystem is fat\ngrub rescue&gt; ls (hd0,5)\n(hd0,5): Filesystem is fat.\ngrub rescue&gt; set\ncmdpath=(hd0)\nprefix=(hd0,msdos1)/boot/grub\nroot=hd0,msdos1\ngrub rescue&gt; normal\nunknown command ‘normal’\ngrub rescue&gt; insmod normal\nerror: file ‘/boot/grub/i386-pc/normal.mod’ not found\ngrub rescue&gt; ls (hd0,1)/boot\nerror: file '/boot' not found.\n</code></pre>\n\n<p>Seems like grub thinks hd0,msdos1 is a FAT partition, right? fdisk (from a LiveCD) says its an ext3. That's causing \"normal.mod not found\", I suppose, since the kernel on a Linux system does not have FAT-support, which it shouldn't need...</p>\n\n<p>This is our \"production\" server so I'd appreciate any quick replies so I can get it back running before Monday, thanks.</p>\n\n<p>UPDATE: I did find a number of file system markings using wipefs (no, it doesn't wipe the filesystem...), but removing all but one (ext3) still did not fix my issue.</p>\n\n<p>Biting the bullet, and many nightly hours later I had a fresh install and most of the data restored piece by piece from backup.</p>\n\n<p>So, no solution.</p>\n"},{"id":368913,"title":"After re-installing ubuntu 13.10, stuck at GRUB Rescue, Boot-Repair didn&#39;t work!","body":"<p>Because i could not get the WiFi login work, i thought i will reinstall ubuntu, with internet connection to have updated drivers for wireless &amp; graphics etc. </p>\n\n<p>I have deleted earlier linux partitions usings gparted and re-installed ubuntu 13.10, exactly following the same steps as i did earlier, making a 100GB /home on dev/sda and pointing root to /dev/sdb (SSD) and swap on dev/sda/ . Installing boot on /dev/sdb. </p>\n\n<p>But, somehow i think the grub is either corrupted or removed because i am unable to boot the laptop to any OS now. </p>\n\n<p>I get the following message: \n\"no such device\"  xxxxx followed by huge HEX number\nGRUB rescue> </p>\n\n<p>when i type ls on Grub rescue> prompt, i can see hd0 &amp; hd1, but thats about it. i tried Boot-repair but it is unable to fix the problem. The following log is generated via boot-repair create log: </p>\n\n<p><a href=\"http://paste.ubuntu.com/6326504/\" rel=\"nofollow\">Boot-repair log</a></p>\n\n<p>I am unable to boot into windows or linux at the moment and need help to fix the grub so i can boot !! </p>\n"},{"id":485038,"title":"grub rescue, blind mode","body":"<p>i updated osx last night and when i try to boot to linux, i get sent to the grub rescue prompt.</p>\n\n<p>i have performed the following steps:</p>\n\n<pre><code>set prefix=(hd1,gpt5)/boot/grub  (contains grub.cfg but mod \n                                  files in subdir x86_64-efi)\nset root=(hd1,gpt5)\ninsmod linux\nlinux /vmlinuz root=/dev/sdb5 ro  # Example: root=/dev/sda1 , /dev/sdb5\ninitrd /initrd.img\nboot\n</code></pre>\n\n<p>the result is:</p>\n\n<pre><code>error: no suitable video mode found.\nBooting in blind mode\n</code></pre>\n\n<p>and then it stays there forever.  the system does not reboot or restart.</p>\n\n<p>is this because it cannot find my mod files?</p>\n"}]}]