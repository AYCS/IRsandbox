[{"id":714066,"title":"Dual Boot Installing Ubuntu 12.0.4.5 on Mac Book Pro June 2009 from Partition","body":"<p>I followed a tip in <a href=\"http://askubuntu.com/questions/228552/cant-make-bootable-usb-on-mac/294282#294282\">this Ask Ubuntu</a> thread to get Ubuntu running on my 2009 Mac Book Pro with OSX Yosemite as a dual boot option with the aide of <a href=\"http://www.rodsbooks.com/refind/installing.html\" rel=\"nofollow\">rEFInd</a>:</p>\n\n<ul>\n<li><p>Partition the Mac hard disk using disk utilities:</p></li>\n<li><p>Create a 40GB fat32 partition for Ubuntu</p></li>\n<li><p>Create a 5GB partition to hold the bootable Linux image</p></li>\n<li><p>Use <a href=\"https://unetbootin.github.io/\" rel=\"nofollow\">Unetbootin</a> to directly create the image in the 5GB partition.</p></li>\n<li><p>Restart - hold down option key - boot into Ubuntu using rEFIT.</p></li>\n</ul>\n\n<p>Did this on my MBP 2009 and rEFInd showed four options: </p>\n\n<ul>\n<li>OSX, </li>\n<li><p>Boot EFI\\BOOT\\grub64.efi from UBUNTU (Ubuntu Logo),</p></li>\n<li><p>Boot fallback boot loader from Ubuntu (Ubuntu Logo)</p></li>\n<li><p>and Boot Linux from Ubuntu (Penguin).</p></li>\n</ul>\n\n<p>The first two Ubuntu additions did start to load Ubuntu for installation but seemed to hang and the final Penguin icon only loads a black screen.. Not sure whether I was too impatient or I was missing something. But I moved on.</p>\n\n<p><strong>Pwconv error shown with No Splash Screen</strong></p>\n\n<p>I realized I had run into an issue with writing to hdd:\nHad this error <code>pwconv: failed to change the mode of etc/passwd- to 0600</code> and was able to see this when I started the installation without Splash or not using quiet. </p>\n\n<p><strong>NB</strong> </p>\n\n<p>Adjusted grub following <a href=\"https://ubuntu-mate.community/t/solved-install-hangs-ubuntu-mate-15-04-64bit-efi-usb/1690/15\" rel=\"nofollow\">ubuntu-mate.community/t/…</a> to see all taking place from the command line.</p>\n\n<p><strong>ACPI</strong></p>\n\n<p>Tried another Grub parameter after reading: <a href=\"http://askubuntu.com/questions/50451/error-fixing-recursive-fault-but-reboot-is-needed\">askubuntu.com/questions/50451/…</a> ' tip of <code>acpi=off</code> besides <code>noapi</code> got me into the installation window but no keyboard nor mouse.  </p>\n\n<p><strong>Maxcpus</strong></p>\n\n<p><code>maxcpus=1</code> and Ubuntu 12.0.4.5 (brand new installation to partition) - <a href=\"https://wiki.debian.org/MacBook\" rel=\"nofollow\">tip found here</a> - allowed me to start installation and have keyboard working. <code>acpi=off</code> made keyboard and mouse useless. </p>\n\n<p><strong>Cannot mount CD Rom</strong></p>\n\n<p>With the Grub changes made I was able to start the installation, pick general language, keyboard type and so on using the MBP's keyboard. Only now stuck at cannot mount the cd-rom while it should continue loading of the bootable partition. </p>\n\n<p><strong>NB</strong></p>\n\n<p>When I tried to load Ubuntu of a bootable USB stick I got the error that the cd rom contains a CD which cannot be used for the installation.</p>\n\n<p><strong>How to make Grub Load Installation files from Partition disk0s4 ?</strong></p>\n\n<p>The current setup on Macintosh hdd:</p>\n\n<pre><code>diskutil list\n\n/dev/disk0\n\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n\n   0:      GUID_partition_scheme                        *500.1 GB   disk0\n\n   1:                        EFI EFI                     209.7 MB   disk0s1\n\n   2:                  Apple_HFS Macintosh HD            454.8 GB   disk0s2\n\n   3:                 Apple_Boot Recovery HD             650.0 MB   disk0s3\n\n   4:       Microsoft Basic Data UBUNTU BOOT             5.0 GB     disk0s4\n\n   5:       Microsoft Basic Data UBUNTU                  39.3 GB    disk0s5\n</code></pre>\n\n<p>So how can I now that the installation go ahead and make Grub 1.99 -config file located at /Volumes/Ubuntu \\Boot/boot/grub/grub.cfg:</p>\n\n<pre><code>if loadfont /boot/grub/font.pf2 ; then\n    set gfxmode=auto\n    insmod efi_gop\n    insmod efi_uga\n    insmod gfxterm\n    terminal_output gfxterm\nfi\n\nset menu_color_normal=white/black\nset menu_color_highlight=black/light-gray\n\nmenuentry \"Install Ubuntu\" {\n    set gfxpayload=keep\n    linux   /install/vmlinuz  file=/cdrom/preseed/ubuntu.seed quiet --\n    initrd  /install/initrd.gz\n}\nmenuentry \"Install in expert mode\" {\n    set gfxpayload=keep\n    linux   /install/vmlinuz  file=/cdrom/preseed/ubuntu.seed priority=low --\n    initrd  /install/initrd.gz\n}\nmenuentry \"Check disc for defects\" {\n    set gfxpayload=keep\n    linux   /install/vmlinuz  MENU=/bin/cdrom-checker-menu quiet --\n    initrd  /install/initrd.gz\n}\nmenuentry \"Rescue a broken system\" {\n    set gfxpayload=keep\n    linux   /install/vmlinuz  rescue/enable=true --\n    initrd  /install/initrd.gz\n}\n</code></pre>\n\n<p>load the installation files from the Partition where I added the bootable files?</p>\n\n<p>Grub Config seems to be the file I need to adjust as it looks for a file on a cdrom, but adjusting it properly I do not not know yet. </p>\n","related_questions":[{"id":695351,"title":"Dual boot issue with ubuntu 14.04 and RHEL 6 on GPT partition","body":"<p>I have dual booted my laptop model(hp 15-ac098TU) with 1 TB harddisk. First I have installed Ubuntu 14.04 and then installed RHEL 6. I can see both the OS in the splash screen of ubuntu. When I boot the Ubuntu it is working fine. <em>But while booting Redhat, the screen gets stuck with a blank purple screen and it does not boots the Redhat.</em> </p>\n\n<p><strong>I have run the boot info script. Please find the output of the script:</strong></p>\n\n<pre><code>              Boot Info Script 0.61      [1 April 2012]\n</code></pre>\n\n<p>============================= Boot Info Summary: ===============================</p>\n\n<p>=> No boot loader is installed in the MBR of /dev/sda.</p>\n\n<p>sda1: __________________________________________________________________________</p>\n\n<pre><code>File system:       ext4\nBoot sector type:  -\nBoot sector info: \nOperating System:  \nBoot files:        /grub/grub.cfg /extlinux/extlinux.conf\n</code></pre>\n\n<p>sda2: __________________________________________________________________________</p>\n\n<pre><code>File system:       swap\nBoot sector type:  -\nBoot sector info: \n</code></pre>\n\n<p>sda3: __________________________________________________________________________</p>\n\n<pre><code>File system:       ext4\nBoot sector type:  -\nBoot sector info: \nOperating System:  Ubuntu 14.04.3 LTS\nBoot files:        /etc/fstab\n</code></pre>\n\n<p>sda4: __________________________________________________________________________</p>\n\n<pre><code>File system:       vfat\nBoot sector type:  FAT32\nBoot sector info:  No errors found in the Boot Parameter Block.\nOperating System:  \nBoot files:        \n</code></pre>\n\n<p>sda5: __________________________________________________________________________</p>\n\n<pre><code>File system:       ext4\nBoot sector type:  Grub Legacy\nBoot sector info:  Grub Legacy (v0.97) is installed in the boot sector \n                   of sda5 and looks at sector 1318834768 on boot drive \n                   #1 for the stage2 file.  A stage2 file is at this \n                   location on /dev/sda.  Stage2 looks on partition #5 \n                   for /boot/grub/grub.conf.\nOperating System:  Red Hat Enterprise Linux Server \n                   release 6.0 (Santiago) Kernel on an\nBoot files:        /boot/grub/menu.lst /boot/grub/grub.conf /etc/fstab\n</code></pre>\n\n<p>============================ Drive/Partition Info: =============================</p>\n\n<p>Drive: sda _____________________________________________________________________</p>\n\n<p>Disk /dev/sda: 1000.2 GB, 1000204886016 bytes\n255 heads, 63 sectors/track, 121601 cylinders, total 1953525168 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 4096 bytes</p>\n\n<p>Partition  Boot  Start Sector    End Sector  # of Sectors  Id System</p>\n\n<p>/dev/sda1                   1 1,953,525,167 1,953,525,167  ee GPT</p>\n\n<p>GUID Partition Table detected.</p>\n\n<p>Partition    Start Sector    End Sector  # of Sectors System\n/dev/sda1           2,048     2,000,895     1,998,848 Data partition (Linux)\n/dev/sda2       2,000,896    17,813,503    15,812,608 Swap partition (Linux)\n/dev/sda3      17,813,504 1,317,814,271 1,300,000,768 Data partition (Linux)\n/dev/sda4   1,317,814,272 1,317,881,855        67,584 EFI System partition\n/dev/sda5   1,317,881,856 1,527,597,055   209,715,200 EFI System partition</p>\n\n<p>\"blkid\" output: ________________________________________________________________</p>\n\n<p>Device           UUID                                   TYPE       LABEL</p>\n\n<p>/dev/sda1        50576ad4-f2fa-4a6b-8c46-8b3c0b78134f   ext4<br>\n/dev/sda2        f29419d0-cccd-4ec2-9eca-0798a2bc0f23   swap<br>\n/dev/sda3        6673b14d-37b2-43f2-87c9-59c26093f968   ext4<br>\n/dev/sda4        138B-B232                              vfat<br>\n/dev/sda5        8d4f826a-9967-432f-a6ba-0c01c460fca1   ext4       </p>\n\n<p>================================ Mount points: =================================</p>\n\n<p>Device           Mount_Point              Type       Options</p>\n\n<p>/dev/sda1        /boot                    ext4       (rw)\n/dev/sda3        /                        ext4       (rw,errors=remount-ro)\n/dev/sda4        /boot/efi                vfat       (rw)</p>\n\n<p>============================= sda1/grub/grub.cfg: ==============================</p>\n\n<hr>\n\n<p>#</p>\n\n<h1>DO NOT EDIT THIS FILE</h1>\n\n<p>#</p>\n\n<h1>It is automatically generated by grub-mkconfig using templates</h1>\n\n<h1>from /etc/grub.d and settings from /etc/default/grub</h1>\n\n<p>#</p>\n\n<h3>BEGIN /etc/grub.d/00_header</h3>\n\n<p>if [ -s $prefix/grubenv ]; then\n  set have_grubenv=true\n  load_env\nfi\nif [ \"${next_entry}\" ] ; then\n   set default=\"${next_entry}\"\n   set next_entry=\n   save_env next_entry\n   set boot_once=true\nelse\n   set default=\"0\"\nfi</p>\n\n<p>if [ x\"${feature_menuentry_id}\" = xy ]; then\n  menuentry_id_option=\"--id\"\nelse\n  menuentry_id_option=\"\"\nfi</p>\n\n<p>export menuentry_id_option</p>\n\n<p>if [ \"${prev_saved_entry}\" ]; then\n  set saved_entry=\"${prev_saved_entry}\"\n  save_env saved_entry\n  set prev_saved_entry=\n  save_env prev_saved_entry\n  set boot_once=true\nfi</p>\n\n<p>function savedefault {\n  if [ -z \"${boot_once}\" ]; then\n    saved_entry=\"${chosen}\"\n    save_env saved_entry\n  fi\n}\nfunction recordfail {\n  set recordfail=1\n  if [ -n \"${have_grubenv}\" ]; then if [ -z \"${boot_once}\" ]; then save_env recordfail; fi; fi\n}\nfunction load_video {\n  if [ x$feature_all_video_module = xy ]; then\n    insmod all_video\n  else\n    insmod efi_gop\n    insmod efi_uga\n    insmod ieee1275_fb\n    insmod vbe\n    insmod vga\n    insmod video_bochs\n    insmod video_cirrus\n  fi\n}</p>\n\n<p>if [ x$feature_default_font_path = xy ] ; then\n   font=unicode\nelse\ninsmod part_gpt\ninsmod ext2\nset root='hd0,gpt3'\nif [ x$feature_platform_search_hint = xy ]; then\n  search --no-floppy --fs-uuid --set=root --hint-bios=hd0,gpt3 --hint-efi=hd0,gpt3 --hint-baremetal=ahci0,gpt3  6673b14d-37b2-43f2-87c9-59c26093f968\nelse\n  search --no-floppy --fs-uuid --set=root 6673b14d-37b2-43f2-87c9-59c26093f968\nfi\n    font=\"/usr/share/grub/unicode.pf2\"\nfi</p>\n\n<p>if loadfont $font ; then\n  set gfxmode=auto\n  load_video\n  insmod gfxterm\n  set locale_dir=$prefix/locale\n  set lang=en_IN\n  insmod gettext\nfi\nterminal_output gfxterm\nif [ \"${recordfail}\" = 1 ] ; then\n  set timeout=30\nelse\n  if [ x$feature_timeout_style = xy ] ; then\n    set timeout_style=hidden\n    set timeout=0\n  # Fallback hidden-timeout code in case the timeout_style feature is\n  # unavailable.\n  elif sleep --interruptible 0 ; then\n    set timeout=0\n  fi\nfi</p>\n\n<h3>END /etc/grub.d/00_header</h3>\n\n<h3>BEGIN /etc/grub.d/05_debian_theme</h3>\n\n<p>set menu_color_normal=white/black\nset menu_color_highlight=black/light-gray\nif background_color 44,0,30,0; then\n  clear\nfi</p>\n\n<h3>END /etc/grub.d/05_debian_theme</h3>\n\n<h3>BEGIN /etc/grub.d/10_linux</h3>\n\n<p>function gfxmode {\n    set gfxpayload=\"${1}\"\n    if [ \"${1}\" = \"keep\" ]; then\n        set vt_handoff=vt.handoff=7\n    else\n        set vt_handoff=\n    fi\n}\nif [ \"${recordfail}\" != 1 ]; then\n  if [ -e ${prefix}/gfxblacklist.txt ]; then\n    if hwmatch ${prefix}/gfxblacklist.txt 3; then\n      if [ ${match} = 0 ]; then\n        set linux_gfx_mode=keep\n      else\n        set linux_gfx_mode=text\n      fi\n    else\n      set linux_gfx_mode=text\n    fi\n  else\n    set linux_gfx_mode=keep\n  fi\nelse\n  set linux_gfx_mode=text\nfi\nexport linux_gfx_mode\nmenuentry 'Ubuntu' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-simple-6673b14d-37b2-43f2-87c9-59c26093f968' {\n    recordfail\n    load_video\n    gfxmode $linux_gfx_mode\n    insmod gzio\n    insmod part_gpt\n    insmod ext2\n    set root='hd0,gpt1'\n    if [ x$feature_platform_search_hint = xy ]; then\n      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,gpt1 --hint-efi=hd0,gpt1 --hint-baremetal=ahci0,gpt1  50576ad4-f2fa-4a6b-8c46-8b3c0b78134f\n    else\n      search --no-floppy --fs-uuid --set=root 50576ad4-f2fa-4a6b-8c46-8b3c0b78134f\n    fi\n    linux   /vmlinuz-3.13.0-66-generic.efi.signed root=UUID=6673b14d-37b2-43f2-87c9-59c26093f968 ro  quiet splash nomodeset $vt_handoff\n    initrd  /initrd.img-3.13.0-66-generic\n}\nsubmenu 'Advanced options for Ubuntu' $menuentry_id_option 'gnulinux-advanced-6673b14d-37b2-43f2-87c9-59c26093f968' {\n    menuentry 'Ubuntu, with Linux 3.13.0-66-generic' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-3.13.0-66-generic-advanced-6673b14d-37b2-43f2-87c9-59c26093f968' {\n        recordfail\n        load_video\n        gfxmode $linux_gfx_mode\n        insmod gzio\n        insmod part_gpt\n        insmod ext2\n        set root='hd0,gpt1'\n        if [ x$feature_platform_search_hint = xy ]; then\n          search --no-floppy --fs-uuid --set=root --hint-bios=hd0,gpt1 --hint-efi=hd0,gpt1 --hint-baremetal=ahci0,gpt1  50576ad4-f2fa-4a6b-8c46-8b3c0b78134f\n        else\n          search --no-floppy --fs-uuid --set=root 50576ad4-f2fa-4a6b-8c46-8b3c0b78134f\n        fi\n        echo    'Loading Linux 3.13.0-66-generic ...'\n        linux   /vmlinuz-3.13.0-66-generic.efi.signed root=UUID=6673b14d-37b2-43f2-87c9-59c26093f968 ro  quiet splash nomodeset $vt_handoff\n        echo    'Loading initial ramdisk ...'\n        initrd  /initrd.img-3.13.0-66-generic\n    }\n    menuentry 'Ubuntu, with Linux 3.13.0-66-generic (recovery mode)' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-3.13.0-66-generic-recovery-6673b14d-37b2-43f2-87c9-59c26093f968' {\n        recordfail\n        load_video\n        insmod gzio\n        insmod part_gpt\n        insmod ext2\n        set root='hd0,gpt1'\n        if [ x$feature_platform_search_hint = xy ]; then\n          search --no-floppy --fs-uuid --set=root --hint-bios=hd0,gpt1 --hint-efi=hd0,gpt1 --hint-baremetal=ahci0,gpt1  50576ad4-f2fa-4a6b-8c46-8b3c0b78134f\n        else\n          search --no-floppy --fs-uuid --set=root 50576ad4-f2fa-4a6b-8c46-8b3c0b78134f\n        fi\n        echo    'Loading Linux 3.13.0-66-generic ...'\n        linux   /vmlinuz-3.13.0-66-generic.efi.signed root=UUID=6673b14d-37b2-43f2-87c9-59c26093f968 ro recovery nomodeset \n        echo    'Loading initial ramdisk ...'\n        initrd  /initrd.img-3.13.0-66-generic\n    }\n    menuentry 'Ubuntu, with Linux 3.13.0-32-generic' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-3.13.0-32-generic-advanced-6673b14d-37b2-43f2-87c9-59c26093f968' {\n        recordfail\n        load_video\n        gfxmode $linux_gfx_mode\n        insmod gzio\n        insmod part_gpt\n        insmod ext2\n        set root='hd0,gpt1'\n        if [ x$feature_platform_search_hint = xy ]; then\n          search --no-floppy --fs-uuid --set=root --hint-bios=hd0,gpt1 --hint-efi=hd0,gpt1 --hint-baremetal=ahci0,gpt1  50576ad4-f2fa-4a6b-8c46-8b3c0b78134f\n        else\n          search --no-floppy --fs-uuid --set=root 50576ad4-f2fa-4a6b-8c46-8b3c0b78134f\n        fi\n        echo    'Loading Linux 3.13.0-32-generic ...'\n        linux   /vmlinuz-3.13.0-32-generic.efi.signed root=UUID=6673b14d-37b2-43f2-87c9-59c26093f968 ro  quiet splash nomodeset $vt_handoff\n        echo    'Loading initial ramdisk ...'\n        initrd  /initrd.img-3.13.0-32-generic\n    }\n    menuentry 'Ubuntu, with Linux 3.13.0-32-generic (recovery mode)' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-3.13.0-32-generic-recovery-6673b14d-37b2-43f2-87c9-59c26093f968' {\n        recordfail\n        load_video\n        insmod gzio\n        insmod part_gpt\n        insmod ext2\n        set root='hd0,gpt1'\n        if [ x$feature_platform_search_hint = xy ]; then\n          search --no-floppy --fs-uuid --set=root --hint-bios=hd0,gpt1 --hint-efi=hd0,gpt1 --hint-baremetal=ahci0,gpt1  50576ad4-f2fa-4a6b-8c46-8b3c0b78134f\n        else\n          search --no-floppy --fs-uuid --set=root 50576ad4-f2fa-4a6b-8c46-8b3c0b78134f\n        fi\n        echo    'Loading Linux 3.13.0-32-generic ...'\n        linux   /vmlinuz-3.13.0-32-generic.efi.signed root=UUID=6673b14d-37b2-43f2-87c9-59c26093f968 ro recovery nomodeset \n        echo    'Loading initial ramdisk ...'\n        initrd  /initrd.img-3.13.0-32-generic\n    }\n}</p>\n\n<h3>END /etc/grub.d/10_linux</h3>\n\n<h3>BEGIN /etc/grub.d/20_linux_xen</h3>\n\n<h3>END /etc/grub.d/20_linux_xen</h3>\n\n<h3>BEGIN /etc/grub.d/20_memtest86+</h3>\n\n<h3>END /etc/grub.d/20_memtest86+</h3>\n\n<h3>BEGIN /etc/grub.d/30_os-prober</h3>\n\n<p>menuentry 'Red Hat Enterprise Linux Server release 6.0 (Santiago) (on /dev/sda5)' --class gnu-linux --class gnu --class os $menuentry_id_option 'osprober-gnulinux-simple-8d4f826a-9967-432f-a6ba-0c01c460fca1' {\n    insmod part_gpt\n    insmod ext2\n    set root='hd0,gpt5'\n    if [ x$feature_platform_search_hint = xy ]; then\n      search --no-floppy --fs-uuid --set=root --hint-bios=hd0,gpt5 --hint-efi=hd0,gpt5 --hint-baremetal=ahci0,gpt5  8d4f826a-9967-432f-a6ba-0c01c460fca1\n    else\n      search --no-floppy --fs-uuid --set=root 8d4f826a-9967-432f-a6ba-0c01c460fca1\n    fi\n    linux /boot/vmlinuz-2.6.32-71.el6.i686 ro root=UUID=8d4f826a-9967-432f-a6ba-0c01c460fca1 rd_NO_LUKS rd_NO_LVM rd_NO_MD rd_NO_DM LANG=en_US.UTF-8 SYSFONT=latarcyrheb-sun16 KEYBOARDTYPE=pc KEYTABLE=us crashkernel=auto rhgb quiet\n    initrd /boot/initramfs-2.6.32-71.el6.i686.img\n}\nsubmenu 'Advanced options for Red Hat Enterprise Linux Server release 6.0 (Santiago) (on /dev/sda5)' $menuentry_id_option 'osprober-gnulinux-advanced-8d4f826a-9967-432f-a6ba-0c01c460fca1' {\n    menuentry 'Red Hat Enterprise Linux (2.6.32-71.el6.i686) (on /dev/sda5)' --class gnu-linux --class gnu --class os $menuentry_id_option 'osprober-gnulinux-/boot/vmlinuz-2.6.32-71.el6.i686--8d4f826a-9967-432f-a6ba-0c01c460fca1' {\n        insmod part_gpt\n        insmod ext2\n        set root='hd0,gpt5'\n        if [ x$feature_platform_search_hint = xy ]; then\n          search --no-floppy --fs-uuid --set=root --hint-bios=hd0,gpt5 --hint-efi=hd0,gpt5 --hint-baremetal=ahci0,gpt5  8d4f826a-9967-432f-a6ba-0c01c460fca1\n        else\n          search --no-floppy --fs-uuid --set=root 8d4f826a-9967-432f-a6ba-0c01c460fca1\n        fi\n        linux /boot/vmlinuz-2.6.32-71.el6.i686 ro root=UUID=8d4f826a-9967-432f-a6ba-0c01c460fca1 rd_NO_LUKS rd_NO_LVM rd_NO_MD rd_NO_DM LANG=en_US.UTF-8 SYSFONT=latarcyrheb-sun16 KEYBOARDTYPE=pc KEYTABLE=us crashkernel=auto rhgb quiet\n        initrd /boot/initramfs-2.6.32-71.el6.i686.img\n    }\n}</p>\n\n<p>set timeout_style=menu\nif [ \"${timeout}\" = 0 ]; then\n  set timeout=10\nfi</p>\n\n<h3>END /etc/grub.d/30_os-prober</h3>\n\n<h3>BEGIN /etc/grub.d/30_uefi-firmware</h3>\n\n<p>menuentry 'System setup' $menuentry_id_option 'uefi-firmware' {\n    fwsetup\n}</p>\n\n<h3>END /etc/grub.d/30_uefi-firmware</h3>\n\n<h3>BEGIN /etc/grub.d/40_custom</h3>\n\n<h1>This file provides an easy way to add custom menu entries.  Simply type the</h1>\n\n<h1>menu entries you want to add after this comment.  Be careful not to change</h1>\n\n<h1>the 'exec tail' line above.</h1>\n\n<h3>END /etc/grub.d/40_custom</h3>\n\n<h3>BEGIN /etc/grub.d/41_custom</h3>\n\n<p>if [ -f  ${config_directory}/custom.cfg ]; then\n  source ${config_directory}/custom.cfg\nelif [ -z \"${config_directory}\" -a -f  $prefix/custom.cfg ]; then\n  source $prefix/custom.cfg;\nfi</p>\n\n<h2>### END /etc/grub.d/41_custom ###</h2>\n\n<p>========================= sda1/extlinux/extlinux.conf: =========================</p>\n\n<hr>\n\n<h2>/boot/extlinux/extlinux.conf</h2>\n\n<h1>#</h1>\n\n<h2>IMPORTANT WARNING</h2>\n\n<h1>#</h1>\n\n<h2>The configuration of this file is generated automatically.</h2>\n\n<h2>Do not edit this file manually, use: extlinux-update</h2>\n\n<p>default l0\nprompt 1\ntimeout 50</p>\n\n<h2>include themes/debian/theme.cfg</h2>\n\n<p>=================== sda1: Location of files loaded by Grub: ====================</p>\n\n<pre><code>       GiB - GB             File                                 Fragment(s)\n</code></pre>\n\n<p>================= sda1: Location of files loaded by Syslinux: ==================</p>\n\n<pre><code>       GiB - GB             File                                 Fragment(s)\n</code></pre>\n\n<p>============== sda1: Version of COM32(R) files used by Syslinux: ===============</p>\n\n<p>extlinux/chain.c32                 :  COM32R module (v4.xx)</p>\n\n<p>=============================== sda3/etc/fstab: ================================</p>\n\n<hr>\n\n<h1>/etc/fstab: static file system information.</h1>\n\n<p>#</p>\n\n<h1>Use 'blkid' to print the universally unique identifier for a</h1>\n\n<h1>device; this may be used with UUID= as a more robust way to name devices</h1>\n\n<h1>that works even if disks are added and removed. See fstab(5).</h1>\n\n<p>#</p>\n\n<h1>               </h1>\n\n<h1>/ was on /dev/sda3 during installation</h1>\n\n<p>UUID=6673b14d-37b2-43f2-87c9-59c26093f968 /               ext4    errors=remount-ro 0       1</p>\n\n<h1>/boot was on /dev/sda1 during installation</h1>\n\n<p>UUID=50576ad4-f2fa-4a6b-8c46-8b3c0b78134f /boot           ext4    defaults        0       2</p>\n\n<h1>/boot/efi was on /dev/sda4 during installation</h1>\n\n<p>UUID=138B-B232  /boot/efi       vfat    defaults        0       1</p>\n\n<h1>swap was on /dev/sda2 during installation</h1>\n\n<h2>UUID=f29419d0-cccd-4ec2-9eca-0798a2bc0f23 none            swap    sw              0       0</h2>\n\n<p>=================== sda3: Location of files loaded by Grub: ====================</p>\n\n<pre><code>       GiB - GB             File                                 Fragment(s)\n</code></pre>\n\n<p>============== sda3: Version of COM32(R) files used by Syslinux: ===============</p>\n\n<p>boot/extlinux/chain.c32            :  COM32R module (v4.xx)</p>\n\n<p>========================== sda5/boot/grub/grub.conf: ===========================</p>\n\n<hr>\n\n<h1>grub.conf generated by anaconda</h1>\n\n<p>#</p>\n\n<h1>Note that you do not have to rerun grub after making changes to this file</h1>\n\n<h1>NOTICE:  You do not have a /boot partition.  This means that</h1>\n\n<h1>all kernel and initrd paths are relative to /, eg.</h1>\n\n<h1>root (hd0,4)</h1>\n\n<h1>kernel /boot/vmlinuz-version ro root=/dev/sda5</h1>\n\n<h1>initrd /boot/initrd-[generic-]version.img</h1>\n\n<h1>boot=/dev/sda5</h1>\n\n<p>default=0\ntimeout=5\nsplashimage=(hd0,4)/boot/grub/splash.xpm.gz\nhiddenmenu\ntitle Red Hat Enterprise Linux (2.6.32-71.el6.i686)\n    root (hd0,4)\n    kernel /boot/vmlinuz-2.6.32-71.el6.i686 ro root=UUID=8d4f826a-9967-432f-a6ba-0c01c460fca1 rd_NO_LUKS rd_NO_LVM rd_NO_MD rd_NO_DM LANG=en_US.UTF-8 SYSFONT=latarcyrheb-sun16 KEYBOARDTYPE=pc KEYTABLE=us crashkernel=auto rhgb quiet</p>\n\n<h2>    initrd /boot/initramfs-2.6.32-71.el6.i686.img</h2>\n\n<p>=============================== sda5/etc/fstab: ================================</p>\n\n<hr>\n\n<p>#</p>\n\n<h1>/etc/fstab</h1>\n\n<h1>Created by anaconda on Sun Oct 25 23:02:09 2015</h1>\n\n<p>#</p>\n\n<h1>Accessible filesystems, by reference, are maintained under '/dev/disk'</h1>\n\n<h1>See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</h1>\n\n<p>#\nUUID=8d4f826a-9967-432f-a6ba-0c01c460fca1 /                       ext4    defaults        1 1\nUUID=f29419d0-cccd-4ec2-9eca-0798a2bc0f23 swap                    swap    defaults        0 0\ntmpfs                   /dev/shm                tmpfs   defaults        0 0\ndevpts                  /dev/pts                devpts  gid=5,mode=620  0 0\nsysfs                   /sys                    sysfs   defaults        0 0</p>\n\n<h2>proc                    /proc                   proc    defaults        0 0</h2>\n\n<p>=================== sda5: Location of files loaded by Grub: ====================</p>\n\n<pre><code>       GiB - GB             File                                 Fragment(s)\n</code></pre>\n\n<p>=============================== StdErr Messages: ===============================</p>\n\n<p>cat: /tmp/BootInfo-VTFrg4gL/Tmp_Log: No such file or directory\ncat: /tmp/BootInfo-VTFrg4gL/Tmp_Log: No such file or directory\ncat: /tmp/BootInfo-VTFrg4gL/Tmp_Log: No such file or directory\ncat: /tmp/BootInfo-VTFrg4gL/Tmp_Log: No such file or directory</p>\n"},{"id":694945,"title":"Attempting to fresh install ubuntu dual boot rEFInd does not recognize live boot","body":"<p>Attempted to do a fresh install by following the procedure found here: <a href=\"http://ubuntuforums.org/showthread.php?t=1587938\" rel=\"nofollow\">http://ubuntuforums.org/showthread.php?t=1587938</a> (I ASSuMEd that the fact that it was for vista instead of os x was inconsequential - did I end up making an ASS out of ME?)</p>\n\n<p>Now when rEFInd starts up, I still see the option for osx and ubuntu but no option for installing ubuntu (sorry don't know correct term for that option)</p>\n\n<p>When I click the ubuntu option it says \"error: no such partition. entering recovery mode\"</p>\n\n<p>Any ideas on how to resolve this? Any and all input would be greatly appreciated!</p>\n\n<p>Furthermore, I attempted to start up gparted again to see if I missed something and now rEFInd isn't seeing it either? Don't know if this is useful info? Does Gparted depend on the presence of Ubuntu?</p>\n"},{"id":468483,"title":"Where can I find the refind.conf configuration file?","body":"<p>I'm in the process of installing ubuntu 14.04 LTS on macbook pro 13inch retina display with the end goal of having a dual boot setup with OS X. I'm using reFind as my boot manager, and since I have disk encryption enabled on my OS X partition, I can't install reFind on my mac os x partition. To work around this I created a separate 1GB partition just for the reFind boot manager and installed refind on it using install.sh with the --ownhfs and --alldrivers options. Currently my diskutil list output looks like this : </p>\n\n<pre>\nMy-MacBook-Pro:~ yatin$ diskutil list\n/dev/disk0\n   #:                       TYPE NAME                    SIZE       IDENTIFIER\n   0:      GUID_partition_scheme                        *251.0 GB   disk0\n   1:                        EFI EFI                     209.7 MB   disk0s1 -- ESP\n   2:                  Apple_HFS REFIND_BOOTMGR          864.0 MB   disk0s2 -- custom HFS refind partition\n   3:                  Apple_HFS OS X                    82.9 GB    disk0s3 -- OS X\n   4:                 Apple_Boot Recovery HD             650.0 MB   disk0s4 \n   5: 0FC63DAF-8483-4772-8E79-3D69D8477DE4               83.5 GB    disk0s5 -- ubuntu\n   6:                 Linux Swap                         14.5 GB    disk0s6 \n   7: 0FC63DAF-8483-4772-8E79-3D69D8477DE4               68.4 GB    disk0s7 -- shared volume\n</pre>\n\n<p>Now when I boot up my mac, I see refind's boot selector which displays three entries, one for ubuntu, one for my mac and a third for grub. I would like to remove the grub refind entry since it serves no purpose given that refind is booting my ubuntu image directly, but I'm unable to find the refind.conf file. I don't see the refind.conf under the usual location on the REFIND_BOOTMGR volume ie /EFI/refind/refind.conf. Where should it be located ?</p>\n"},{"id":663770,"title":"After upgrading GRUB, cannot boot Windows from rEFInd","body":"<p>I'm triple booting Ubuntu, Windows 7, and Mountain Lion from a single hdd in my Macbook Pro 5,3.\nSomehow, when I got everything set up, I had two options to boot Windows from rEFInd: one that read \"boot Windows from WINDOWS\" (which I'd named the partition I installed Windows on) and one that read \"boot Windows from LINUX\" (the partition I used for Ubuntu.\nOddly enough, the first option brought me to the GRUB menu (which had options for booting Ubuntu and Mountain Lion, but not Windows), while the second option actually let me boot Windows.\nA few weeks back I upgraded GRUB as part of Ubuntu's updates. Now both Windows boot options take me to GRUB, which lacks an entry for booting Windows.\nMind you, my Windows partition still exists, the files are still there, and I can boot it from a virtual machine without a problem.</p>\n"},{"id":665404,"title":"How would I set up dual-booting on a 2009 Mac Mini with Ubuntu as primary partition and OSX as secondary?","body":"<p>I have an old 2009 Mac Mini that I am going to switch over Linux (Ubuntu Mate to be more accurate). However I would like to have the ability to boot to OSX still having Ubuntu as the main partition (automatically booting into Ubuntu). I have found guides online about setting up a dual boot with OSX as the primary partition but I was looking for Ubuntu to be the main OS. Does anyone know how I would set this up or is there a guide online that I have overlooked?</p>\n\n<p>It's not a big problem as I don't mind having it single boot but I would like the option if it is possible. Cheers!</p>\n"},{"id":614959,"title":"Mac only booting into Ubuntu and not rEFInd","body":"<p>I installed rEFInd on my Mid-2010 13-inch MBP and installed Ubuntu on another partition. The Mac does not boot into rEFInd to select OS X or Ubuntu, it only boots into Ubuntu. I can still access the data on my OS X partition from Ubuntu, but I can't boot into the OS X partition.</p>\n"},{"id":542972,"title":"Cannot boot into Refit (to choose Ubuntu) on Mac after Yosemite Upgrade","body":"<p>I do yosemite upgrade on MacBook Pro (13 inchi, mid 2012 model). After upgrade it, I cannot boot into refit, no OS option available, just boot into Mac OSX yosemite directly. </p>\n\n<ul>\n<li>I tried to reinstal refit, it didn't work. </li>\n<li>I tried install refind with --esp argument as explain <a href=\"http://www.rodsbooks.com/refind/yosemite.html\" rel=\"nofollow\">here</a>, it also didn't work.</li>\n<li>I install refind without any argument, just run install.sh, the message shows it can be installed successfully but nothing change.</li>\n<li>I install refind with --alldrivers,  the message shows it can be installed successfully but nothing change.</li>\n<li>I do diskutil corestorage revert /dev/disk1 as explain <a href=\"http://curtis.hovey.name/\" rel=\"nofollow\">here</a>, it bring my Mac OSX yosemite into white screen only when booting. I repair it from recovery --> startup disk.</li>\n</ul>\n\n<p>So, I would like to ask your help folks to solve my problem. Ubuntu on Mac is my main equipment to do a lot of my jobs, hence I need Ubuntu to show again on refit/refind boot on mac.\nHere is the content of my partition inspector I did from refit.</p>\n\n<pre><code>Current GPT partition table:\n #      Start LBA      End LBA  Type\n 1             40       409639  EFI System (FAT)\n 2         409640    331171351  Mac OS X HFS+\n 3      331171352    332440887  Mac OS X Boot\n 4      332440888    333710423  Mac OS X HFS+\n 5      333711360    580364287  Unknown\n 6      580364288    592750591  Linux Swap\n 7      592750592   1465147391  Unknown\n\nCurrent MBR partition table:\n # A    Start LBA      End LBA  Type\n 1              1   1465149167  ee  EFI Protective\n\nMBR contents:\nBoot Code: GRUB\n\nPartition at LBA 40:\nBoot Code: None\nFile System: Unknown\nListed in GPT as partition 1, type EFI System (FAT)\n\nPartition at LBA 409640:\nBoot Code: None\nFile System: HFS Extended (HFS+)\nListed in GPT as partition 2, type Mac OS X HFS+\n\nPartition at LBA 331171352:\nBoot Code: None\nFile System: HFS Extended (HFS+)\nListed in GPT as partition 3, type Mac OS X Boot\n\nPartition at LBA 332440888:\nBoot Code: None\nFile System: HFS Extended (HFS+)\nListed in GPT as partition 4, type Mac OS X HFS+\n\nPartition at LBA 333711360:\nBoot Code: None\nFile System: ext4\nListed in GPT as partition 5, type Unknown\n\nPartition at LBA 580364288:\nBoot Code: None\nFile System: Unknown\nListed in GPT as partition 6, type Linux Swap\n\nPartition at LBA 592750592:\nBoot Code: None\nFile System: ext4\nListed in GPT as partition 7, type Unknown\n</code></pre>\n"},{"id":571558,"title":"Dual Boot Ubuntu from USB on a Mac: &quot;Loop not found&quot; and &quot;Load Kernel First&quot; Error in GRUB","body":"<p>I have the Mac version of Ubuntu loaded onto a USB, booted using ReFINd with an EFI partition. All runs until I select the Ubuntu EFI Boot in reFINd. Once loading begins, I get a \"Loop not found\", \"Load Kernel First\" error in GRUB. Then appears a blank Grub terminal. </p>\n\n<p>I have followed most of the tutorials for Yosemite. Still, nothing. Any suggestions? </p>\n"},{"id":465521,"title":"Dual-booting Ubuntu with Refind from an external hdd on a MacBook Pro","body":"<p>I'm dual-booting a late-2013 Macbook Pro with Ubuntu 14.04 x64 (vmlinuz-3.13.0-24-generic) and OSX 10.9.2 with Refind. This worked well after I installed Refind's ext4 driver. </p>\n\n<p>I also have the hard-drive from my previous laptop on a USB external drive with copies of Windows and Ubuntu on separate partitions which I'd like to boot on the Mac. I can mount these partitions on OSX or Ubuntu, but as Refind didn't recognise the installations I used Gdisk to change the disk to GPT. </p>\n\n<p>After that, Refind recognised the existence of the external Ubuntu and Windows installations, but doesn't give any information about the kernel and shows a penguin icon for Ubuntu. Trying to boot this leads to a pause then a blank screen with the message: </p>\n\n<blockquote>\n  <p>No bootable device - insert boot disk and press any key</p>\n</blockquote>\n\n<p>I added a stanza in refind.conf referring to Ubuntu by UUID, and I added a refind_linux.conf to the Boot folder in the Ubuntu 13.04 x64 partition on the external drive, but this made no difference:</p>\n\n<p><code>\"Boot x64 13.04 with standard options\"        \"ro root=31b998f7-0607-40f3-ba7f-67f297d79a2d quiet splash\"</code></p>\n\n<p>Can anyone suggest where I've gone wrong, or how to get it working?</p>\n\n<p>Thanks.</p>\n"},{"id":369472,"title":"Get rid of Mac OS X partition on Dual boot","body":"<p>First time posting on AskUbuntu. I am new to Ubuntu/Linux and I have a MacBook Pro. I have finally got the dual boot to work. My laptop is a little older so it only has a 250Gb hard drive. I am running the 64bit Ubuntu 12.04. I really want to just transition to Ubuntu and get rid of Mac OS X so I can fully immerse myself to learn it. What is holding me back is iTunes. I have a iPhone and I use iTunes to manage my music and what not. I have read a little that Rhythmbox can manage iphone music, but I don't know if it would work with iOS 7. I am trying to learn Linux because I am trying to make it in the information security field and I know a lot of security functions come from Linux.</p>\n\n<p>My question is... How can I make my Mac OS partition smaller (just enough to keep iTunes + my 80gb of music + a little room to keep adding music) and dedicate the new free/unallocated space to my Ubuntu os? I am sure that you would use gpartition to do this, but I have NO IDEA how to do it. Nor do I want to do a fresh install, because it took a while to figure out which drivers I needed to get the Nvidia drivers to work; I have already set up my Ubuntu 12.04 and like my setup. Does anyone have a iPhone and manage the music successfully using Ubuntu?</p>\n\n<p>Hopefully someone on here can help! Thanks!</p>\n"}]}]