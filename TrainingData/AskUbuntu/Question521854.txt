[{"id":521854,"title":"RSA certificate configured for localhost.localdomain:443 does NOT include an ID which matches the server name","body":"<p>I got this error when setting up ssl on Ubuntu 14.04.1 LTS (apache2, openssl)</p>\n\n<pre><code>AH01909: RSA certificate configured for localhost.localdomain:443 does NOT include an ID which matches the server name\n</code></pre>\n\n<p>Any thoughts on what might be going on here?</p>\n\n<p>Thanks!</p>\n","related_questions":[{"id":682878,"title":"More than one SSL certificate in a virtual host?","body":"<p>I have a server running Ubuntu 12.04.3 LTS and two running Ubuntu 14.04.1 LTS, of which have SSL certificates on them. All are bitnami stacks so have their apache2 config files in:</p>\n\n<pre><code>/opt/bitnami/apache2/conf/bitnami\n</code></pre>\n\n<p>The requirement was for multiple domain name certificates for two domains with and without <code>www.</code> so really 4 in total.</p>\n\n<pre><code>website.com\nwww.website.com\nwebsite.co.uk\nwww.website.co.uk\n</code></pre>\n\n<p>In the end it had one certificate for all these domains set up in the <code>virtual-host _default_:443</code> section of the Apache2 bitnami.conf file. However the certificate provider suggested having two certificates instead of one (as it would be cheaper). </p>\n\n<ul>\n<li><p>Is it possible to have two certificates in the Apache2 conf when there is only one physical server for both domains? </p></li>\n<li><p>If so then how would you set up the virtual-host to handle two certificates?</p></li>\n</ul>\n"},{"id":661557,"title":"I have just updated my Web server with the new updates. Now when I tried to load the home page it has an SSL error","body":"<p>From FireFox, it says:</p>\n\n<p>Secure Connection Failed.</p>\n\n<p>An error occurred during a connection to www.sagaftra.org. SSL received a record that exceeded the maximum permissible length. (Error code: ssl_error_rx_record_too_long).</p>\n\n<ul>\n<li><p>The page you are trying to view cannot be shown because the authenticity of the the received data could not be verified.</p></li>\n<li><p>Please contact the website owners to inform them of this problem.</p></li>\n</ul>\n\n<hr>\n\n<p>And from the command line, when I issued the openssl command to connect to SSL on that server, I get this error message:</p>\n\n<p>root@ubu-www1-d:/etc/ssl/certs# openssl s_client -connect ubu-www4-p:443\nCONNECTED(00000003)</p>\n\n<h2>140560773228192:error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol:s23_clnt.c:795:</h2>\n\n<h2>no peer certificate available</h2>\n\n<h2>No client certificate CA names sent</h2>\n\n<h2>SSL handshake has read 7 bytes and written 305 bytes</h2>\n\n<p>New, (NONE), Cipher is (NONE)\nSecure Renegotiation IS NOT supported\nCompression: NONE</p>\n\n<h2>Expansion: NONE</h2>\n\n<hr>\n\n<p>I am assuming this is an Apache SSL configuration issue.\nWhere should I look for the directive to set this length ?</p>\n\n<p>Regards,\nTan</p>\n"},{"id":653493,"title":"How to Install Real CA signed SSL certs to Webmin","body":"<p>I have an SSL package that i got through Namecheap, and they got it through Comodoo. I have all my websites as virtual hosts and the ones that use SSL have lines inside the virtualhost docs pointing to their ssl certs.</p>\n\n<p>I would like to be able to access my webmin page via <a href=\"https://medomaine.com:port\" rel=\"nofollow\">https://medomaine.com:port</a> but as of now, I can only access via another virtualhost that starts with an \"a\" or my private IP. (CHROME ONLY)</p>\n\n<p>In chrome atleast it blocks my server domain saying it usually uses HSTS but in firefox I can get past the warning and access my server via <a href=\"https://medomaine.com:port\" rel=\"nofollow\">https://medomaine.com:port</a>, but I still get a nasty error, and its using a self signed cert I think I set up during postfix-dovecot installion for mail.mydomain.com???.....</p>\n\n<p>Any thoughts?</p>\n\n<p>BTW my certs is a .crt .key and a bundle.crt that I made from 3 files originally emailed to me when I got the certs (as per there instructions for installing into apache was to do cat certs > bundle.crt.</p>\n\n<p>Webmin seems to want a .pem file, ive tried cat'ing the key and .crt to no avail.</p>\n"},{"id":651242,"title":"changing apache server to https","body":"<p>I am a naive in programming. I am trying to create a webpage with an i-frame. My i-frame wasn't running https sites as my localhost was running on http, so in attempt to change my localhost server to https, I follwed the instructions given in a <a href=\"https://www.digitalocean.com/community/tutorials/how-to-create-a-ssl-certificate-on-apache-for-ubuntu-14-04\" rel=\"nofollow\">DigitalOcean tutorial</a>, but then I was getting </p>\n\n<pre><code>AH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.1.1. \nSet the 'ServerName' directive globally to suppress this message\n</code></pre>\n\n<p>on attempt to restart apache2 service. </p>\n\n<p>I gave my ServerName as localhost while installing the ssl certificate following the link given above. \nPresently I am getting the error </p>\n\n<pre><code>Action 'start' failed.\nThe Apache error log may have more information.\n</code></pre>\n\n<p>Any heads-up would be appreciated. Thanks in advance.</p>\n\n<p>EDIT: on removing and installing apache2, I'm getting the following error on restarting apache2</p>\n\n<pre><code>Output of config test was:\n apache2: Syntax error on line 140 of /etc/apache2/apache2.conf: Syntax error on line 1 of /etc/apache2/mods-enabled/php5.load: Cannot load /usr/lib/apache2/modules/libphp5.so into server: /usr/lib/apache2/modules/libphp5.so: cannot open shared object file: No such file or directory. Action 'configtest' failed. The Apache error log may have more information.\n</code></pre>\n"},{"id":643169,"title":"How do I install an SSL certificate in Apache2?","body":"<p>I am pretty new to this community and I hope I put my question on the right place.</p>\n\n<p>I have bought this <a href=\"https://www.ssls.com/ssl-certificates/comodo-positivessl\" rel=\"nofollow\">SSL certificate</a>, which comes with four files named like this:</p>\n\n<ul>\n<li><code>AddTrustExternalCARoot.crt</code></li>\n<li><code>COMODORSAAddTrustCA.crt</code></li>\n<li><code>COMODORSADomainValidationSecureServerCA.crt</code></li>\n<li><code>mydomain_com</code></li>\n</ul>\n\n<p>Following <a href=\"https://www.digitalocean.com/community/tutorials/how-to-create-a-ssl-certificate-on-apache-for-ubuntu-14-04\" rel=\"nofollow\">this guide</a>, I end up with this error:</p>\n\n<pre><code>* Restarting web server apache2                                                                                \nAH00558: apache2: Could not reliably determine the server's fully qualified domain name, using 127.0.1.1. \nSet the 'ServerName' directive globally to suppress this message\nAction 'start' failed.\n</code></pre>\n\n<p>So my apache2 service cannot even start.</p>\n\n<p>Here is what i have done in <code>/etc/apache2/sites-available/default-ssl.conf</code>:</p>\n\n<pre><code>&lt;IfModule mod_ssl.c&gt;\n    &lt;VirtualHost _default_:443&gt;\n        ServerAdmin admin@mydomain.com\n        ServerName mydomain.com\n        ServerAlias www.mydomain.com\n        DocumentRoot /var/www/html\n\n        ErrorLog ${APACHE_LOG_DIR}/error.log\n        CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n        SSLEngine on\n\n        SSLCertificateFile  /etc/apache2/ssl/mydomain_com.ca-bundle.crt\n        SSLCertificateKeyFile /etc/apache2/ssl/mydomain.key\n\n        &lt;FilesMatch \"\\.(cgi|shtml|phtml|php)$\"&gt;\n                SSLOptions +StdEnvVars\n        &lt;/FilesMatch&gt;\n        &lt;Directory /usr/lib/cgi-bin&gt;\n                SSLOptions +StdEnvVars\n        &lt;/Directory&gt;\n\n        BrowserMatch \"MSIE [2-6]\" \\\n                nokeepalive ssl-unclean-shutdown \\\n                downgrade-1.0 force-response-1.0\n        BrowserMatch \"MSIE [17-9]\" ssl-unclean-shutdown\n\n    &lt;/VirtualHost&gt;\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>After I made these changes and tried to restart my apache service, I got the error shown above. These are the only changes I have done. I have not changed anything else.</p>\n\n<p>Here is the error log report:</p>\n\n<pre><code>[Wed Jul 01 16:05:47.436945 2015] [mpm_prefork:notice] [pid 10568] AH00163: Apache/2.4.7 (Ubuntu) PHP/5.5.9-1ubuntu4.9 OpenSSL/1.0.1f configured -- resuming normal operations\n[Wed Jul 01 16:05:47.436988 2015] [core:notice] [pid 10568] AH00094: Command line: '/usr/sbin/apache2'\n[Wed Jul 01 16:17:27.699364 2015] [mpm_prefork:notice] [pid 10568] AH00169: caught SIGTERM, shutting down\n[Wed Jul 01 16:17:28.754414 2015] [ssl:warn] [pid 10729] AH01906: RSA server certificate is a CA certificate (BasicConstraints: CA == TRUE !?)\n[Wed Jul 01 16:17:28.754465 2015] [ssl:warn] [pid 10729] AH01909: RSA certificate configured for mydomain.com:443 does NOT include an ID which matches the server name\n[Wed Jul 01 16:17:28.754485 2015] [ssl:emerg] [pid 10729] AH02238: Unable to configure RSA server private key\n[Wed Jul 01 16:17:28.754510 2015] [ssl:emerg] [pid 10729] SSL Library Error: error:0B080074:x509 certificate routines:X509_check_private_key:key values mismatch\n[Wed Jul 01 16:17:28.754514 2015] [ssl:emerg] [pid 10729] AH02311: Fatal error initialising mod_ssl, exiting. See /var/log/apache2/error.log for more information\n[Wed Jul 01 16:20:56.686346 2015] [ssl:warn] [pid 10920] AH01906: RSA server certificate is a CA certificate (BasicConstraints: CA == TRUE !?)\n[Wed Jul 01 16:20:56.686411 2015] [ssl:warn] [pid 10920] AH01909: RSA certificate configured for mydomain.com:443 does NOT include an ID which matches the server name\n[Wed Jul 01 16:20:56.686425 2015] [ssl:emerg] [pid 10920] AH02238: Unable to configure RSA server private key\n[Wed Jul 01 16:20:56.686441 2015] [ssl:emerg] [pid 10920] SSL Library Error: error:0B080074:x509 certificate routines:X509_check_private_key:key values mismatch\n[Wed Jul 01 16:20:56.686446 2015] [ssl:emerg] [pid 10920] AH02311: Fatal error initialising mod_ssl, exiting. See /var/log/apache2/error.log for more information\n[Wed Jul 01 16:46:22.422767 2015] [ssl:warn] [pid 11024] AH01906: RSA server certificate is a CA certificate (BasicConstraints: CA == TRUE !?)\n[Wed Jul 01 16:46:22.422831 2015] [ssl:warn] [pid 11024] AH01909: RSA certificate configured for mydomain.com:443 does NOT include an ID which matches the server name\n[Wed Jul 01 16:46:22.422844 2015] [ssl:emerg] [pid 11024] AH02238: Unable to configure RSA server private key\n[Wed Jul 01 16:46:22.422858 2015] [ssl:emerg] [pid 11024] SSL Library Error: error:0B080074:x509 certificate routines:X509_check_private_key:key values mismatch\n[Wed Jul 01 16:46:22.422862 2015] [ssl:emerg] [pid 11024] AH02311: Fatal error initialising mod_ssl, exiting. See /var/log/apache2/error.log for more information\n</code></pre>\n\n<p>If it is important, I have generated my key with openssl.</p>\n\n<p>Note that I have replaced my real domain name and adress with <code>mydomain.com</code> for this question.</p>\n\n<p>Can you please give me step by step guide how can i install this certificate on Ubuntu 14.04 with apache2.</p>\n"},{"id":580907,"title":"SSL23_GET_SERVER_HELLO:unknown protocol when trying to access HTTPS URL","body":"<p>While trying to create a staging environment for my <strong>WORDPRESS</strong> website, I am not quite able to setup the HTTPS configuration.</p>\n\n<p>I copied the wordpress folder and backed up Mysql database and was able to have a copy of my website, but whenever I click on any link, it will take me to HTTPS url and shows me a <code>SSL connection error</code>.</p>\n\n<h2>Environment</h2>\n\n<ul>\n<li>Vagrant VM Ubuntu server <code>Precise64</code></li>\n<li>Chef to configure my host</li>\n<li>Apache2 w/ SSL mod</li>\n<li>Wordpress</li>\n</ul>\n\n<h2>UNAME</h2>\n\n<pre><code>uname -a\nLinux test-www 3.5.0-23-generic #35~precise1-Ubuntu SMP Fri Jan 25 17:13:26 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux\n</code></pre>\n\n<h2>SSL Configuration</h2>\n\n<pre><code>vagrant@test-www:/etc/apache2$ more ssl.conf \n&lt;VirtualHost 192.168.33.10:443&gt;\n    DocumentRoot /var/www\n    ServerName test-www.domain.com\n    ErrorLog /var/log/apache2/error_secure.log\n        LogLevel info\n\n    SSLEngine on\n\n    SSLCertificateFile /etc/ssl/wildcard.domain.com/certificate.crt\n    SSLCertificateKeyFile /etc/ssl/wildcard.domain.com/server.key\n    SSLCACertificateFile /etc/ssl/wildcard.domain.com/test-www.domain.com.ca.crt\n&lt;/VirtualHost&gt; \n</code></pre>\n\n<h2>OPENSSL</h2>\n\n<pre><code>vagrant@test-www:/etc/apache2$ openssl s_client -connect 192.168.33.10:443\nCONNECTED(00000003)\n139816269579936:error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol:s23_clnt.c:757:\n---\nno peer certificate available\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 7 bytes and written 213 bytes\n---\nNew, (NONE), Cipher is (NONE)\nSecure Renegotiation IS NOT supported\nCompression: NONE\nExpansion: NONE\n---\n</code></pre>\n\n<h2>WGET HTTP:443</h2>\n\n<pre><code>vagrant@test-www:/etc/apache2$ wget http://192.168.33.10:443\n--2015-02-02 17:24:31--  http://192.168.33.10:443/\nConnecting to 192.168.33.10:443... connected.\nHTTP request sent, awaiting response... 404 Not Found\n2015-02-02 17:24:31 ERROR 404: Not Found.\n</code></pre>\n\n<h2>WGET HTTPS</h2>\n\n<pre><code>vagrant@test-www:/etc/apache2$ wget https://192.168.33.10\n--2015-02-02 17:25:23--  https://192.168.33.10/\nConnecting to 192.168.33.10:443... connected.\nOpenSSL: error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol\nUnable to establish SSL connection.\nvagrant@test-www:/etc/apache2$ \n</code></pre>\n\n<h1>APACHE2.CONF</h1>\n\n<pre><code>#\n# Generated by Chef\n#\n# Based on the Ubuntu apache2.conf\n\nServerRoot \"/etc/apache2\"\n\n#\n# The accept serialization lock file MUST BE STORED ON A LOCAL DISK.\n#\nLockFile /var/lock/apache2/accept.lock\n\n#\n# PidFile: The file in which the server should record its process\n# identification number when it starts.\n#\nPidFile /var/run/apache2.pid\n\n#\n# Timeout: The number of seconds before receives and sends time out.\n#\nTimeout 300\n\n#\n# KeepAlive: Whether or not to allow persistent connections (more than\n# one request per connection). Set to \"Off\" to deactivate.\n#\nKeepAlive On\n\n#\n# MaxKeepAliveRequests: The maximum number of requests to allow\n# during a persistent connection. Set to 0 to allow an unlimited amount.\n# We recommend you leave this number high, for maximum performance.\n#\nMaxKeepAliveRequests 100\n\n#\n# KeepAliveTimeout: Number of seconds to wait for the next request from the\n# same client on the same connection.\n#\nKeepAliveTimeout 5\n\n##\n## Server-Pool Size Regulation (MPM specific)\n##\n\n# prefork MPM\n# StartServers: number of server processes to start\n# MinSpareServers: minimum number of server processes which are kept spare\n# MaxSpareServers: maximum number of server processes which are kept spare\n# MaxClients: maximum number of server processes allowed to start\n# MaxRequestsPerChild: maximum number of requests a server process serves\n&lt;IfModule mpm_prefork_module&gt;\n    StartServers          1\n    MinSpareServers       1\n    MaxSpareServers       2\n    ServerLimit           5\n    MaxClients            3\n    MaxRequestsPerChild   0\n&lt;/IfModule&gt;\n\n# worker MPM\n# StartServers: initial number of server processes to start\n# MaxClients: maximum number of simultaneous client connections\n# MinSpareThreads: minimum number of worker threads which are kept spare\n# MaxSpareThreads: maximum number of worker threads which are kept spare\n# ThreadsPerChild: constant number of worker threads in each server process\n# MaxRequestsPerChild: maximum number of requests a server process serves\n&lt;IfModule mpm_worker_module&gt;\n    StartServers          1\n    ServerLimit           3\n    MaxClients            3\n    MinSpareThreads       10\n    MaxSpareThreads       20\n    ThreadsPerChild       64\n    MaxRequestsPerChild   0\n&lt;/IfModule&gt;\n\nUser www-data\nGroup www-data\n\n#\n# AccessFileName: The name of the file to look for in each directory\n# for additional configuration directives.  See also the AllowOverride\n# directive.\n#\n\nAccessFileName .htaccess\n\n#\n# The following lines prevent .htaccess and .htpasswd files from being\n# viewed by Web clients.\n#\n&lt;Files ~ \"^\\.ht\"&gt;\n    Order allow,deny\n    Deny from all\n&lt;/Files&gt;\n\n#\n# DefaultType is the default MIME type the server will use for a document\n# if it cannot otherwise determine one, such as from filename extensions.\n# If your server contains mostly text or HTML documents, \"text/plain\" is\n# a good value.  If most of your content is binary, such as applications\n# or images, you may want to use \"application/octet-stream\" instead to\n# keep browsers from trying to display binary files as though they are\n# text.\n#\nDefaultType text/plain\n\n\n#\n# HostnameLookups: Log the names of clients or just their IP addresses\n# e.g., www.apache.org (on) or 204.62.129.132 (off).\n# The default is off because it'd be overall better for the net if people\n# had to knowingly turn this feature on, since enabling it means that\n# each client request will result in AT LEAST one lookup request to the\n# nameserver.\n#\nHostnameLookups Off\n\n# ErrorLog: The location of the error log file.\n# If you do not specify an ErrorLog directive within a &lt;VirtualHost&gt;\n# container, error messages relating to that virtual host will be\n# logged here.  If you *do* define an error logfile for a &lt;VirtualHost&gt;\n# container, that host's errors will be logged there and not here.\n#\nErrorLog /var/log/apache2/error.log\n\n#\n# LogLevel: Control the number of messages logged to the error_log.\n# Possible values include: debug, info, notice, warn, error, crit,\n# alert, emerg.\n#\nLogLevel warn\n\n# COOK-1021: Dummy LoadModule directive to aid module installations\n#LoadModule dummy_module modules/mod_dummy.so\n\n# Include module configuration:\nInclude /etc/apache2/mods-enabled/*.load\nInclude /etc/apache2/mods-enabled/*.conf\n\n\n# Include ports listing\nInclude /etc/apache2/ports.conf\n\n#\n# The following directives define some format nicknames for use with\n# a CustomLog directive (see below).\n#\nLogFormat \"%v:%p %h %l %u %t \\\"%r\\\" %&gt;s %O \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" vhost_combined\nLogFormat \"%h %l %u %t \\\"%r\\\" %&gt;s %b \\\"%{Referer}i\\\" \\\"%{User-Agent}i\\\"\" combined\nLogFormat \"%h %l %u %t \\\"%r\\\" %&gt;s %b\" common\nLogFormat \"%{Referer}i -&gt; %U\" referer\nLogFormat \"%{User-agent}i\" agent\n#\n\n# Customizable error responses come in three flavors:\n# 1) plain text 2) local redirects 3) external redirects\n#\n# Some examples:\n#ErrorDocument 500 \"The server made a boo boo.\"\n#ErrorDocument 404 /missing.html\n#ErrorDocument 404 \"/cgi-bin/missing_handler.pl\"\n#ErrorDocument 402 http://www.example.com/subscription_info.html\n#\n\n#\n# Putting this all together, we can internationalize error responses.\n#\n# We use Alias to redirect any /error/HTTP_&lt;error&gt;.html.var response to\n# our collection of by-error message multi-language collections.  We use\n# includes to substitute the appropriate text.\n#\n# You can modify the messages' appearance without changing any of the\n# default HTTP_&lt;error&gt;.html.var files by adding the line:\n#\n#   Alias /error/include/ \"/your/include/path/\"\n#\n# which allows you to create your own set of files by starting with the\n# /usr/share/apache2/error/include/ files and copying them to /your/include/path/,\n# even on a per-VirtualHost basis.  The default include files will display\n# your Apache version number and your ServerAdmin email address regardless\n# of the setting of ServerSignature.\n#\n# The internationalized error documents require mod_alias, mod_include\n# and mod_negotiation.  To activate them, uncomment the following 30 lines.\n\n#    Alias /error/ \"/usr/share/apache2/error/\"\n#\n#    &lt;Directory \"/usr/share/apache2/error\"&gt;\n#        AllowOverride None\n#        Options IncludesNoExec\n#        AddOutputFilter Includes html\n#        AddHandler type-map var\n#        Order allow,deny\n#        Allow from all\n#        LanguagePriority en cs de es fr it nl sv pt-br ro\n#        ForceLanguagePriority Prefer Fallback\n#    &lt;/Directory&gt;\n#\n#    ErrorDocument 400 /error/HTTP_BAD_REQUEST.html.var\n#    ErrorDocument 401 /error/HTTP_UNAUTHORIZED.html.var\n#    ErrorDocument 403 /error/HTTP_FORBIDDEN.html.var\n#    ErrorDocument 404 /error/HTTP_NOT_FOUND.html.var\n#    ErrorDocument 405 /error/HTTP_METHOD_NOT_ALLOWED.html.var\n#    ErrorDocument 408 /error/HTTP_REQUEST_TIME_OUT.html.var\n#    ErrorDocument 410 /error/HTTP_GONE.html.var\n#    ErrorDocument 411 /error/HTTP_LENGTH_REQUIRED.html.var\n#    ErrorDocument 412 /error/HTTP_PRECONDITION_FAILED.html.var\n#    ErrorDocument 413 /error/HTTP_REQUEST_ENTITY_TOO_LARGE.html.var\n#    ErrorDocument 414 /error/HTTP_REQUEST_URI_TOO_LARGE.html.var\n#    ErrorDocument 415 /error/HTTP_UNSUPPORTED_MEDIA_TYPE.html.var\n#    ErrorDocument 500 /error/HTTP_INTERNAL_SERVER_ERROR.html.var\n#    ErrorDocument 501 /error/HTTP_NOT_IMPLEMENTED.html.var\n#    ErrorDocument 502 /error/HTTP_BAD_GATEWAY.html.var\n#    ErrorDocument 503 /error/HTTP_SERVICE_UNAVAILABLE.html.var\n#    ErrorDocument 506 /error/HTTP_VARIANT_ALSO_VARIES.html.var\n\n\n\n# Include generic snippets of statements\nInclude /etc/apache2/conf.d/*.conf\n\n# Include the virtual host configurations:\nInclude /etc/apache2/sites-enabled/\n</code></pre>\n\n<h1>PORTS.CONF</h1>\n\n<pre><code>$ more ports.conf \n# This file was generated by Chef for my-vm-precise64.\n# Do NOT modify this file by hand!\n\nListen *:80\nNameVirtualHost *:80\n</code></pre>\n\n<p>then I also tried adding these into the <code>ports.conf</code></p>\n\n<pre><code>&lt;IfModule mod_ssl.c&gt;\n    # If you add NameVirtualHost *:443 here, you will also have to change\n    # the VirtualHost statement in /etc/apache2/sites-available/default-ssl\n    # to &lt;VirtualHost *:443&gt;\n    # Server Name Indication for SSL named virtual hosts is currently not\n    # supported by MSIE on Windows XP.\n    Listen 443\n&lt;/IfModule&gt;\n\n&lt;IfModule mod_gnutls.c&gt;\n    Listen 443\n&lt;/IfModule&gt;\n</code></pre>\n\n<h1>mods ssl.conf</h1>\n\n<pre><code>vagrant@test-www:/etc/apache2$ grep \"SSLv\" -r *\n\nmods-available/ssl.conf:#SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL\nmods-available/ssl.conf:# enable only secure protocols: SSLv3 and TLSv1, but not SSLv2\nmods-available/ssl.conf:SSLProtocol all -SSLv2   &lt;=== ?\nmods-enabled/ssl.conf:#SSLCipherSuite ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL\nmods-enabled/ssl.conf:# enable only secure protocols: SSLv3 and TLSv1, but not SSLv2\nmods-enabled/ssl.conf:SSLProtocol all -SSLv2    &lt;=== ?\n</code></pre>\n"},{"id":408200,"title":"Apache2 giving SSLcertificateFile error","body":"<p>I am using ubuntu 13.04.\nInitially I had installed apache2 and it was working fine but later it started giving some issues so i removed apache using following commands</p>\n\n<blockquote>\n  <p>sudo apt-get autoremove</p>\n  \n  <p>sudo apt-get remove apache2*</p>\n  \n  <p>dpkg -S <code>which apache2</code></p>\n</blockquote>\n\n<p>and then i reinstalled apache2 using</p>\n\n<blockquote>\n  <p>sudo apt-get install apache2</p>\n</blockquote>\n\n<p>Installation was almost done but then i got following message</p>\n\n<blockquote>\n  <ul>\n  <li><p>Starting web server apache2<br>\n  Syntax error on line 6 of /etc/apache2/sites-enabled/ssl:\n  SSLCertificateFile: file '/etc/apache2/ssl/apache.pem' does not exist or is empty\n  Action 'start' failed.\n  The Apache error log may have more information.</p>\n  \n  <p>[fail]</p>\n  \n  <p>invoke-rc.d: initscript apache2, action \"start\" failed.\n  Setting up apache2 (2.2.22-6ubuntu5.1) ...</p></li>\n  </ul>\n</blockquote>\n\n<pre><code>output to ls /etc/apache2/sites-enabled/ is default-ssl mysite ssl \n</code></pre>\n\n<p>content of mysite is\n\n    ServerAdmin webmaster@localhost</p>\n\n<pre><code>DocumentRoot /home/gautam/apache/\n&lt;Directory /&gt;\n    Options FollowSymLinks\n    AllowOverride None\n&lt;/Directory&gt;\n&lt;Directory /home/gautam/apache/&gt;\n    Options Indexes FollowSymLinks MultiViews\n    AllowOverride None\n    Order allow,deny\n    allow from all\n&lt;/Directory&gt;\n\nScriptAlias /cgi-bin/ /usr/lib/cgi-bin/\n&lt;Directory \"/usr/lib/cgi-bin\"&gt;\n    AllowOverride None\n    Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch\n    Order allow,deny\n    Allow from all\n&lt;/Directory&gt;\n\nErrorLog ${APACHE_LOG_DIR}/error.log\n\n# Possible values include: debug, info, notice, warn, error, crit,\n# alert, emerg.\nLogLevel warn\n\nCustomLog ${APACHE_LOG_DIR}/access.log combined\n</code></pre>\n\n<p></p>\n\n<p>after running sudo rm /etc/apache2/sites-enabled/*ssl i am getting the following output and apache2 is OFF</p>\n\n<pre><code>* Restarting web server apache2                                                \napache2: Could not reliably determine the server's fully qualified domain name, using 127.0.1.1 for ServerName\napache2: Could not reliably determine the server's fully qualified domain name, using 127.0.1.1 for ServerName\n(98)Address already in use: make_sock: could not bind to address [::]:443\n                                                                         [ OK ]\n</code></pre>\n\n<p>What to do? Any suggestions??? </p>\n"},{"id":351852,"title":"how to (if possible) create a SSL certificate for only one website on my apache2 server?","body":"<p>I saw some similar posts like this , but it didn't help me at my exact problem.\nSo I am using ubuntu 12.04 on a server with apache2 on it. There are like 5 websites which are Virtualhosts and Namebased running on it (using the same port). Now I need another page whiche REQUIRES a SSL certificate. \nIs it possible to run just the one page under ssl or do I automatically load everything in it when I configure SSL ?</p>\n\n<p>I know that I have to put the SSL server under Port 443 like this :</p>\n\n<pre><code>&lt;virtualhost *:443&gt;\n        SSLEngine On\n        SSLCertificateFile /path/to/your/sslcert\n        DocumentRoot /path/your/webcontent\n&lt;/virtualhost&gt;\n</code></pre>\n\n<p>Does anyone know and want to explain me, how to setup ssl for just one page?</p>\n"},{"id":282529,"title":"How can I configure Apache2 for SSL and install a SSL certificate?","body":"<p>I have a SSL Certificate issued by GoDaddy.  I already have a website up for ecommerce, and need to secure it.</p>\n\n<p>I have tried everything to configure apache2, and install the SSL, but I cannot do it!  Its stumping me!</p>\n\n<p>One thing I tried was:</p>\n\n<p>I have enabled SSL in Apache. I have generated a CSR, and got a GoDaddybundle.CRT and a CRT for the site. I have tried placing them in the SSL files in my Apache folder. I have to be honest....I am a serious Novice when it comes to this. I have never dealt with SSL. </p>\n"},{"id":68940,"title":"How do I setup SSL CRT on my Apache2 server?","body":"<p>I just got from Godaddy a SSL certificate. I downloaded the files... But now I am wandering where I should put them. And is there anything else I need to setup?</p>\n\n<p>The reason I am asking because I am receving conflicting ways of how to setup the SSL on a Apache2 server.</p>\n\n<p>They say use ssl.conf but I found two on my server:</p>\n\n<pre><code>/etc/apache2/mods-available/ssl.conf\n/etc/apache2/mods-enabled/ssl.conf\n</code></pre>\n\n<p>Then they say I have to add these instructions:</p>\n\n<pre><code>SSLCertificateFile /path/to/your/certificate/file\nSSLCertificateKeyFile /path/to/your/key/file\nSSLCertificateChainFile /path/to/intermediate/bundle/file\n</code></pre>\n\n<p>Also they say that it might not be in the ssl.conf but in the httpd.conf file...</p>\n\n<p>So wich is it?</p>\n\n<p>And if I use <code>ssl.conf</code> wich file must I modify?</p>\n\n<p>Thanks in advance for any help.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Here is my config:</p>\n\n<pre><code>&lt;VirtualHost 00.00.000.00:443&gt;\n    ServerName example.com\n    ServerAlias www.example.com\n    ServerAdmin webmaster@example.com\n    DocumentRoot /var/www/example.com\n    #   SSL Engine Switch:\n    #   Enable/Disable SSL for this virtual host.\n    SSLEngine on\n\n    #   A self-signed (snakeoil) certificate can be created by installing\n    #   the ssl-cert package. See\n    #   /usr/share/doc/apache2.2-common/README.Debian.gz for more info.\n    #   If both key and certificate are stored in the same file, only the\n    #   SSLCertificateFile directive is needed.\n    SSLCertificateFile    /etc/ssl/certs/example.crt\n    SSLCertificateKeyFile /etc/ssl/private/example.key\n    #SSLCertificateChainFile /etc/ssl/certs/gd_bundle.crt\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>It seems that Godaddy cert. is not reconized by Google Chrome for some reason...</p>\n\n<p>So what is the SSLCertificateChainFile?</p>\n"}]}]