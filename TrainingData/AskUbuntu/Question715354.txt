[{"id":715354,"title":"Snapshot of big file","body":"<p>So I need to repair a VirtualBox.</p>\n\n<p>VirtualBox's snapshot function wont help me, as I need to repair the .vdi file on a lower level.</p>\n\n<p>So I want to make a snapshot of the actual state, and then modify the file. Later, I want to go back to the actual state, without having to copy all of the 100GB. The file is in my encrypted home: </p>\n\n<pre><code>/home/.ecryptfs/david/.Private on /home/david type ecryptfs (rw,nosuid...\n</code></pre>\n\n<p>Any way to do this? Would save me alot of time for every try.</p>\n\n<p>I am thinking about loop-mount an image with btrfs or something supporting snapshots, if there is no better way...</p>\n","related_questions":[{"id":707112,"title":"Foxit Reader | Unable to find snapshot tool","body":"<p>I just discovered that the awesome Foxit Reader is available for Ubuntu :D.</p>\n\n<p>I also discovered that the very handy snapshot tool is NOT in the Ubuntu version :(. ALthough the manual refers to the tool tab.</p>\n\n<p>I'm installing the software from the FoxitReader.enu.setup.x64.1.0.1.0925(r189237).run file, which is included in the packed FoxitReader1.01.0925_Server_x64_enu_Setup.run.tar.gz file.</p>\n\n<p>Am I missing something (a little box to tick) or is the tool gone missing..?</p>\n\n<p>Thanks TCW</p>\n"},{"id":657580,"title":"fast/easy file system snapshot","body":"<p>I am working in a lot of team projects and usually team members come to my computer in an attempt to help and they ruin my workspace. My workspace for a project spans folders in different locations.\nIs there an easy/fast file system snapshot application/script? When I say easy/fast I mean that I do not have to go through complicated configs or hundreds of pages of manuals. </p>\n"},{"id":469183,"title":"Btrfs snapshot marked as deleted","body":"<p>I am using Btrfs v3.12 and each time I delete a snapshot it is not deleted, marked as \"DELETED\" but the global size of the volume doesn't change.</p>\n\n<p>I have never seen that in older version of BTRFS.</p>\n\n<pre><code>/sbin/btrfs subvolume delete /data/snapshot/my_snap\n/data/numbackup# btrfs subvolume list /data\n    ID 258 gen 134150 top level 5 path snapshot\n    ID 4889 gen 92998 top level 0 path DELETED\n</code></pre>\n\n<p>Is that a new and normal behavior of btrfs?\nBest regards</p>\n"},{"id":615925,"title":"Ubuntu (guest) freezes after a snapshot","body":"<p>My host OS is windows 7 and i have ubuntu 14.10 as a guest on my virtual box(v4.3.26). I took a snapshot of ubuntu before I began an installation, ever since then, when I save machine state and return, ubuntu freezes. Nothing moves at all. I've deleted the snapshot, restarted the OS severally, it still freezes whenever I save its state, only way to undo it is to restart the system so I keep loosing work. Help please.</p>\n"},{"id":582744,"title":"How to properly restore a btrfs snapshot?","body":"<p>My <code>/</code> and <code>/home</code> partitions of my Ubuntu 14.10 system are formatted with btrfs. What is the proper way to restore a snapshot I made with out using any third party software?</p>\n"},{"id":222114,"title":"Can I Recover The Files in the Directory /usr from a btrfs Snapshot?","body":"<p>Some time ago, I moved the folder <code>/usr</code> to its own partition. \nBefore this it had lived in the <code>/</code> partition which has a <strong>btrfs</strong> filesystem.</p>\n\n<p>Accidentally, I formatted my <code>/usr</code> partition from my Windows XP OS.</p>\n\n<p>Using an Xubuntu LiveCD, I can see there are three <strong>snapshots</strong>, two of which contain my old <code>/usr</code>.</p>\n\n<p>I am wondering if I can recover my <code>/usr</code> from the snapshots taken by btrfs?</p>\n\n<p>Can I just copy the contents of the snapshot to <code>/usr</code>?</p>\n\n<p><img src=\"http://i.stack.imgur.com/t9zpG.jpg\" alt=\"\">  </p>\n\n<p><img src=\"http://i.stack.imgur.com/GE6s0.png\" alt=\"\"></p>\n"},{"id":490328,"title":"virsh snapshot-create-as gives &quot;unable to execute QEMU command `transaction`&quot;","body":"<p>I have an Ubuntu 12.04 Server that hosts several virtual machines. I want to make backups of these VM's using the snapshot mechanism.<br>\nThe purpose of these snapshots is to have a backup on an external device. I am currently trying to simply create the backup in /var/tmp.</p>\n\n<p>When I type  </p>\n\n<pre><code>sudo virsh snapshot-create-as test-vm --memspec /var/tmp/test-vm-snapshot\n</code></pre>\n\n<p>I get the message</p>\n\n<blockquote>\n  <p>error: internal error: unable to execute QEMU command 'transaction': Could not open '/var/lib/libvirt/images/test-vm.img': Permission denied</p>\n</blockquote>\n\n<p>I tried to solve this by temporarily giving read/write permissions (chmod og+rw) but then I get the same message.</p>\n\n<p>I read that this is due to AppArmor, and this seems to be confirmed by the syslog. However, if I temporarily stop AppArmor, I still get the same error message, and the same entries in the syslog.</p>\n\n<p>How can I create an internal backup of a VM to a specific file?</p>\n"},{"id":454854,"title":"Manage Snapshots","body":"<p>So Ubuntu supports <a href=\"https://wiki.ubuntu.com/Lvm\" rel=\"nofollow\">LVM</a>. This in turn supports creating and restoring snapshots of the hard drive. Coming from Windows, this is a highly useful feature for restoring the system to a previous point (In Windows called System Restore), also great for backups!</p>\n\n<p>I would specifically like to schedule snapshots to be taken periodically (say every Sunday) and would also like an easy way to manage and delete snapshots. And of course, to restore back to a snapshot if need be.</p>\n\n<p>How can I do this?</p>\n"},{"id":353760,"title":"Does &quot;snapshot&quot; command exist like in Linux Redhat?","body":"<p>I used to use \"snapshot\" command to capture screen shots in the Linux Redhat environment. Is there the same or similar command with ubuntu 12.04 LTS?</p>\n"},{"id":113765,"title":"Recovering data from Private in an ecryptfs backup when the new home is also encrypted","body":"<p>I have a backup of /home from my old system on an external drive. The ~ on my new system has full home encryption from ecryptfs. I want to decrypt the Private on the old home and copy its now-decrypted contents to the new home.</p>\n\n<p>I actually have the ~/.Private and ~/.ecryptfs from the old system on my new system as well. I tried mounting it from there before, but it's not possible. I've confirmed with Dustin Kirkland (ecryptfs developer) that you can't have an encrypted home AND an encrypted private in use at the same time.</p>\n\n<p>I tried mounting the backup drive over /home and running and <code>ecryptfs-mount-private</code> and entering my login password (same on old system and new), but ~/Private wasn't decrypted.</p>\n"}]}]