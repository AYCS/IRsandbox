[{"id":715556,"title":"Cuda 5.2 in Matlab R2015b and 14.04?","body":"<p>Test code</p>\n\n<pre><code>X = rand(10,'single');\nG = gpuArray(X);\nclassUnderlying(G);\n</code></pre>\n\n<p>but I get from the second line</p>\n\n<pre><code>Error using gpuArray\nAn unexpected error occurred during CUDA execution. The CUDA error was:\nCUDA_ERROR_UNKNOWN\n</code></pre>\n\n<p>This suggests me that I have a problem with drivers in my Ubuntu 14.04. </p>\n\n<h2>Unsuccessful settings in 14.04</h2>\n\n<p>To avoid complications from other packages, I run <code>sudo apt-get purge nvidia-*</code> before each installation. </p>\n\n<ol>\n<li><p><code>build-essential nvidia-cuda-toolkit libcuda1-352 nvidia-libopencl1-352 nvidia-opencl-icd-352 nvidia-352</code></p></li>\n<li><p><code>nvidia-current nvidia-settings</code></p></li>\n</ol>\n\n<p>I think I have a dependency problem. \nI am using GTX 960. \nI heard that only Ubuntu 15.04 has drivers for Nvidia 9** at the moment. </p>\n\n<p>I think there is no descent support for GPU and Matlab in 14.04. \nThe situation seems to be much more robust in 15.10 with Matlab because of official and noveau support. \nA separate case about it in the thread <a href=\"http://askubuntu.com/q/715789/25388\">Cuda 5.2 in Matlab R2015b and 15.10?</a></p>\n\n<hr>\n\n<p>Which packages are only necessary to run the test code with Cuda 5.2 in Matlab R2015b?</p>\n","related_questions":[{"id":709504,"title":"ubuntu ubuntu 14.04 lts, nvidia cuda crash","body":"<p>I have been trying to install cuda on my computer without any success. The first thing i tried is to download the .run file from official nvidia cuda site and then install it using the nvidia guide. After the installation and rebooted my computer which caused a black screen. I had to make a fresh installation of ubuntu(thankfully i had backed up all of my data). After doing the updates etc i followed this guide <a href=\"http://www.r-tutor.com/gpu-computing/cuda-installation/cuda7.5-ubuntu\" rel=\"nofollow\">http://www.r-tutor.com/gpu-computing/cuda-installation/cuda7.5-ubuntu</a> which uses the .deb file. After the installation i did again a restart which cause black screen again with the following message: probe failed and some error code like 0.555 or something. So I run recovery mode, changed the driver from nvidia to xorg and my computer booted succesfully but when i tried to compile a program using <code>nvcc</code> I got an error indicating that i am not using the correct drivers. So i had to <code>purge</code> the nvidia drivers <code>remove</code> them and installed the <code>current</code> driver. I did again a restart and boom, black screen again. Unable to recover this time(unfortunatelly) i had to make a new fresh ubuntu installation (again dear god!). It seems that nvidia drivers dont work on my computer. Only <code>xorg</code> drivers seem to work. My graphics card is <code>gtx780</code>. Any suggestions ? Thanks in advance.</p>\n"},{"id":689134,"title":"Installing Nvidia drivers and CUDA","body":"<p>I am a beginner on Ubuntu and want to install CUDA on Ubuntu 14.04 for running some parallel code for my projects. But I am stuck at this point. </p>\n\n<p>When I run this command on the terminal <br></p>\n\n<pre><code>lspci | grep VGA\n</code></pre>\n\n<p>It shows <br> </p>\n\n<pre><code>00:02.0 VGA compatible controller: Intel Corporation 3rd Gen Core processor Graphics Controller (rev 09)\n</code></pre>\n\n<p><br>It does not even shows my graphics card. But when I run <br></p>\n\n<pre><code>lspci -v\n</code></pre>\n\n<p>It shows a number of details including <br></p>\n\n<pre><code>01:00.0 3D controller: NVIDIA Corporation GK208M [GeForce GT 740M] (rev ff) (prog-if ff)\n!!! Unknown header type 7f\n</code></pre>\n\n<p><br>Also when I run the 'details' on my operating system, it shows<br>\nProcessor : Intel® Core™ i5-3337U CPU @ 1.80GHz × 4 <br>\nGraphics : Intel® Ivybridge Mobile<br>\nOS type : 64-bit<br></p>\n\n<p>But when I run 'Additional Drivers' on my operating system, it shows<br>\nNVIDIA Corporation : GK208M [GeForce GT740M]<br>\nUsing NVIDIA binary driver - version 352.39 from nvidia-352 <br></p>\n\n<p>When I run the command <br></p>\n\n<pre><code>dpkg -l | grep -i nvidia\n</code></pre>\n\n<p>It shows the following output<br></p>\n\n<pre><code>ii  bbswitch-dkms                                         0.7-2ubuntu1                                        amd64        Interface for toggling the power on nVidia Optimus video cards\nii  bumblebee                                             3.2.1-5                                             amd64        NVIDIA Optimus support for Linux\nii  bumblebee-nvidia                                      3.2.1-5                                             amd64        NVIDIA Optimus support using the proprietary NVIDIA driver \nrc  libcuda1-304                                          304.128-0ubuntu0.0.1                                amd64        NVIDIA CUDA runtime library\nii  libcuda1-352                                          352.39-0ubuntu1                                     amd64        NVIDIA CUDA runtime library\nrc  nvidia-304                                            304.128-0ubuntu0.0.1                                amd64        NVIDIA legacy binary driver - version 304.128\nii  nvidia-352                                            352.39-0ubuntu1                                     amd64        NVIDIA binary driver - version 352.39\nii  nvidia-352-dev                                        352.39-0ubuntu1                                     amd64        NVIDIA binary Xorg driver development files\nii  nvidia-352-uvm                                        352.39-0ubuntu1                                     amd64        Transitional package for nvidia-352\nrc  nvidia-libopencl1-304                                 304.125-0ubuntu0.0.1                                amd64        NVIDIA OpenCL Driver and ICD Loader library\nii  nvidia-modprobe                                       352.39-0ubuntu1                                     amd64        Load the NVIDIA kernel driver and create device files\nrc  nvidia-opencl-icd-304                                 304.128-0ubuntu0.0.1                                amd64        NVIDIA OpenCL ICD\nii  nvidia-opencl-icd-352                                 352.39-0ubuntu1                                     amd64        NVIDIA  OpenCL ICD\nii  nvidia-settings                                       352.39-0ubuntu1                                     amd64        Tool for configuring the NVIDIA graphics driver\nii  primus                                                0~20131127-2                                        amd64        client-side GPU offloading for NVIDIA Optimus\n</code></pre>\n\n<p>I think this means that I have the drivers installed but my GPU is not being detected.</p>\n\n<p>Some things that I have already done are installing cuda on this system\nI have already installed the deb package using the following commands</p>\n\n<pre><code>sudo dpkg -i cuda-repo-ubuntu1404_7.5-18_amd64.deb \nsudo apt-get update \nsudo apt-get install cuda\n</code></pre>\n\n<p>But now when I run any of the samples, like devicequery, it shows</p>\n\n<pre><code>cudaGetDeviceCount returned 38\n-&gt; no CUDA-capable device is detected\n</code></pre>\n\n<p>I have been through a number of other discussions but they are beyond my level of understanding. Can anybody please suggest what I should do next because I really need to install CUDA on this system. Thanks in advance</p>\n"},{"id":674537,"title":"Black Screen with Cursor after installing CUDA 7.5 on 14.04","body":"<p>I have been setting up a deep learning machine using a GTX 980 Ti and have been attempting to install CUDA on my system. </p>\n\n<p>I installed both the <a href=\"http://www.nvidia.com/download/driverResults.aspx/90279/en-us\" rel=\"nofollow\">352.41</a> display driver and <code>cuda_7.5.18_linux.run</code> from <a href=\"https://developer.nvidia.com/cuda-downloads\" rel=\"nofollow\">here</a>. I got both up and running just fine, the system booted without any issues. However, when I came back to start compiling the CUDA samples I was met with the following warnings on some of the package installs:</p>\n\n<blockquote>\n  <p>WARNING: libGLU.so not found</p>\n  \n  <p>WARNING: libX11.so not found </p>\n</blockquote>\n\n<p>I followed the instructions on the <a href=\"http://docs.nvidia.com/cuda/cuda-getting-started-guide-for-linux/#download-nvidia-driver-and-cuda-software\" rel=\"nofollow\">getting started with CUDA on linux</a> page and tried to install <code>libGLU.so</code> with the following command:</p>\n\n<pre><code>sudo apt-get install libglu1-mesa libxi-dev libxmu-dev\n</code></pre>\n\n<p>This didn't work so I then tried to install the mesa implementation using the following:</p>\n\n<pre><code>sudo apt-get install libglapi-mesa &amp;&amp; sudo apt-get install libosmesa6\n</code></pre>\n\n<p>This worked, I could now compile all of the CUDA samples. However, I'm thinking that this is where the error is originating from. I've included everything else I did before poweroff for reference</p>\n\n<p>After this I started building the necessary dependencies for <a href=\"http://caffe.berkeleyvision.org/installation.html\" rel=\"nofollow\">Caffe</a>. I installed <code>BLAS</code> and started installing dependencies for <a href=\"http://docs.opencv.org/doc/tutorials/introduction/linux_install/linux_install.html\" rel=\"nofollow\">OpenCV</a> using the folling commands:</p>\n\n<p><strong>BLAS</strong></p>\n\n<pre><code>sudo apt-get install libblas-dev\nsudo apt-get install libblas-doc\n</code></pre>\n\n<p><strong>OpenCV Dependencies</strong></p>\n\n<pre><code>sudo apt-get install build-essential\nsudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev\nsudo apt-get install python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev\n</code></pre>\n\n<p>At this point I had to step aside and do something else. So I powered off and came back the next day to the system booting into a black screen with a cursor (driver failure). </p>\n\n<p>I went into text mode and purged my nvidia drivers and reinstalled. I was then greeted by the error of not being able to log in past the the login screen (flashing black screen, then brought back to the login prompt).</p>\n\n<p>At this point I'm thinking of putting up a fresh ubuntu install, but I'd still like to try and figure out what went wrong before I throw in the towel.</p>\n"},{"id":654229,"title":"Setup in Ubuntu 14.04 for debugging CUDA code","body":"<p>I'm trying to set my machine with Ubuntu 14.04 (3.13.0-59) for <strong>debugging CUDA code</strong>. I have an nVidia discrete card and an integrated GPU.</p>\n\n<p>The plan is to have the <strong>display connected to the integrated GPU</strong> while the CUDA code gets executed and debugged. For that I need to have the nVidia driver installed.</p>\n\n<p>I did that with the display connected to the discrete card and it disabled my nouveau driver. Now, I switched the display to the integrated card and I cannot login anymore using the GUI. I can login fine from the console.</p>\n\n<p>Checking out the .xsession-errors gives me: <em>Xlib: extension \"GLX\" missing on display \":0\"</em></p>\n\n<p>The main issue I have is that I need both the nVidia Driver and Nouveau Driver working in parallel for this.</p>\n\n<p>Is this possible on Ubuntu 14.04? Windows does this with no problem. I'm thinking there must be a workaround for this on Linux.</p>\n"},{"id":652975,"title":"Errors installing CUDA development libraries on Ubuntu 14.04","body":"<p>I'm having some trouble getting the CUDA development environment up and running on Ubuntu 14.04.  I initially tried using the <code>nvidia-cuda-toolkit</code> package from the repository, and although everything <em>appeared</em> to install correctly, a simple example where I initialized an array on the host, copied to the device, and copied back to a new array on the host, gave me uninitialized data.  I asked about this on StackOverflow, and they suggested that I hadn't gotten my installation working properly (the example worked for them).</p>\n\n<p>So, I started from scratch, going by the <a href=\"http://developer.download.nvidia.com/compute/cuda/7_0/Prod/doc/CUDA_Getting_Started_Linux.pdf\" rel=\"nofollow\">Linux Installation Guide</a>, but I seem to have flubbed it all up.  This time around I've run into an error at the <code>$ sudo apt-get install cuda</code> step.  I've noted down all the steps I took to get to the error:</p>\n\n<ul>\n<li>I seem to have a compatible device...  </li>\n</ul>\n\n<pre class=\"lang-bsh prettyprint-override\"><code>$ lspci | grep -i nvidia\n\n01:00.0 VGA compatible controller: NVIDIA Corporation GF106GL [Quadro 2000] (rev a1)\n01:00.1 Audio device: NVIDIA Corporation GF106 High Definition Audio Controller (rev a1)\n</code></pre>\n\n<ul>\n<li><code>gcc --version</code> is <code>4.8.4</code> (<code>4.8.2</code> is required)</li>\n<li>I'm running a supported version of Linux (Ubuntu 14.04, x86_64)  </li>\n<li>Downloaded <a href=\"https://developer.nvidia.com/cuda-downloads?sid=898691\" rel=\"nofollow\">CUDA 7</a> for Ubuntu 14.04 (Local Package Installer)  </li>\n<li>Since I've tried installing a few times already, I thought I would need to uninstall--but the uninstall scripts mentioned <a href=\"http://developer.download.nvidia.com/compute/cuda/7_0/Prod/doc/CUDA_Getting_Started_Linux.pdf\" rel=\"nofollow\">here</a> (pages 6 to 7) weren't there, oddly.  So I removed the CUDA directory from <code>/usr/local/</code> and ran <code>$ sudo apt-get --purge remove nvidia-*</code> instead.</li>\n<li><code>$ sudo dpkg -i cuda-repo-ubuntu1404-7-0-local_7.0-28_amd64.deb</code> ran without errors...</li>\n<li>...as did <code>$ sudo apt-get update</code></li>\n</ul>\n\n<p><strong>HOWEVER</strong>  </p>\n\n<p>Running <code>$ sudo apt-get install cuda</code> said gave me an unmet dependencies error:</p>\n\n<blockquote>\n  <p>Reading package lists... Done Building dependency tree        Reading\n  state information... Done cuda is already the newest version. You\n  might want to run 'apt-get -f install' to correct these: The following\n  packages have unmet dependencies.  cuda-drivers : Depends:\n  nvidia-opencl-icd-346 (>= 346.46) but it is not going to be installed\n  E: Unmet dependencies. Try 'apt-get -f install' with no packages (or\n  specify a solution).</p>\n</blockquote>\n\n<p>I ran <code>$ sudo apt-get -f install</code>, as it suggested, but then I get another error:</p>\n\n<blockquote>\n  <p>Preparing to unpack\n  .../nvidia-opencl-icd-346_346.46-0ubuntu1_amd64.deb ... Unpacking\n  nvidia-opencl-icd-346 (346.46-0ubuntu1) ... dpkg: error processing\n  archive\n  /var/cuda-repo-7-0-local/./nvidia-opencl-icd-346_346.46-0ubuntu1_amd64.deb\n  (--unpack):  trying to overwrite '/etc/OpenCL/vendors/nvidia.icd',\n  which is also in package nvidia-opencl-icd-331 331.113-0ubuntu0.0.4\n  Errors were encountered while processing: \n  /var/cuda-repo-7-0-local/./nvidia-opencl-icd-346_346.46-0ubuntu1_amd64.deb\n  E: Sub-process /usr/bin/dpkg returned an error code (1)</p>\n</blockquote>\n\n<p>I'm disconcerted that \"CUDA is already at its newest version\" after removing the directory from <code>/usr/local</code> and purging the package manager.  Also, I tried installing the offending OpenCL package (nvidia-opencl-icd-346) separately, but there was a non-zero exit status.</p>\n\n<p>Thanks in advance for your help!</p>\n"},{"id":647338,"title":"CUDA on laptop with 14.04","body":"<p>I have a question about CUDA on a Laptop with Ubuntu 14.04. I am trying to make CUDA work on my computer and after 7 formats and about 36 hours I am out of any ideas. My problem is, whenever I try to install CUDA it comes with Nvidia driver 346.46. I install the driver, I reboot the computer , I set the CUDA, I make the samples files and run them, they all work perfectly. But as soon as I turn off the computer and try to startup again, I am stuck at splash screen. The \"getting stuck\" part happens so quickly, I had to reboot the computer about 50 times to just see what the problem was. Apperantly the system gets locked at \"Resolver State [OK]\". After this line it freezes and I can't do anything. I have troubleshooted the problem and it seems to be connected to graphics card driver. From what I read, I have to revert the graphics driver, delete everything related to nvidia and install xorg stuff (which I can't do since the computer freezes in 1-2 seconds as soon as I see the logo screen). </p>\n\n<p>What I understand from CUDA is, when it installs 346.46 driver, it takes place of Xorg driver. Because from the additional driver screen, the Xorg driver option is selected. When I run the terminal code however and from the Nvidia Settings screen, I can see that the computer is using the 346.46 driver. And I cannot change the driver from the additional driver screen as well. Whenever I click on say 331 driver it just instantly reverts back to 346. And as soon as I try to reboot the computer, the computer basically crashes and I have to install a clean Ubuntu, because I cannot see any kind of terminal nor any combination of key seems to open one. In the meanwhile I can perfectly use the 331 driver at the moment. I can change back to xorg, change to 331 back, turn off the computer, turn on. No problem at all. But as soon as I install 346 driver, everything goes nuts.</p>\n\n<p>My graphics card is a gt740m, processors is an i7 and the computer is a laptop with abysmal integrated graphics card. </p>\n\n<p>Thanks for reading this long post. I'll be glad if there is a possible way to make CUDA work.</p>\n"},{"id":648496,"title":"Several problems: Can&#39;t get multi monitor setup to work (or nvidia drivers/cuda toolkit), tty console not working aswell","body":"<p>I'm reinstalling Ubuntu 14.04 for the fifth time today, I already tried several solutions on a completely fresh installation (my default keyboard/mouse don't work during installation, have to use a spare keyboard every time which works, but this is not really a problem).</p>\n\n<p>I managed to get everything running on my old laptop for testing purposes, but now I need the computing power of my desktop machine.</p>\n\n<p>I'm using an nVidia GTX 970 with three screens plugged in: one on HDMI, two on DVI ports with VGA to DVI adapters, one of the VGA to DVI screens is the one that works and it's (conveniently) the oldest/smallest one. </p>\n\n<p>Things I could observe consistently after every single installation:</p>\n\n<ul>\n<li>TTY console does not work at all, every single one is just black with no reaction on input but I can still swap back to desktop</li>\n<li>Only one screen is working (I usually have three in use, but a second would be godsend already) and the others aren't detected in system settings -> displays.</li>\n<li>Resolution is fine</li>\n</ul>\n\n<p>Some of the things I tried:</p>\n\n<pre><code>sudo apt-get install nvidia-current\nsudo nvidia-xconfig\n</code></pre>\n\n<p>Observed result: UI took longer to initially load and completely froze after I logged in. But it fixed the TTY console issue.</p>\n\n<ul>\n<li>Booting directly into text mode to install the driver I downloaded from nvidia website. <a href=\"http://ubuntuhandbook.org/index.php/2014/01/boot-into-text-console-ubuntu-linux-14-04/\" rel=\"nofollow\">This</a> are the instructions I used. </li>\n</ul>\n\n<p>Observed result: Boot never finished in text mode (rebooted multiple times) and it somehow crashed, but I couldn't figure out why (I think I can reproduce it if you want me to). This was fixable by booting into recovery mode and reversing the changes to the grub config file.</p>\n\n<ul>\n<li>Booting into recovery mode and installing Nvidia drivers from there.</li>\n</ul>\n\n<p>Observed result: Exactly the same as first one.</p>\n\n<p><strong>What do I actually want to accomplish now?</strong></p>\n\n<ol>\n<li>Get my other screens to work so I can work comfortably again.</li>\n<li>Get the <a href=\"https://developer.nvidia.com/cuda-downloads\" rel=\"nofollow\">CUDA Toolkit</a> to work since I want to use it with Torch.ch (can't link it here, only 2 links possible) which is the reason why I gave Ubuntu another try in the first place.</li>\n</ol>\n\n<p>If you need any other information or want me to try something even if you aren't sure about it, please tell me, I already spent hours on it with zero progress, maybe you can do something.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Output of <code>nvidia-settings --version</code> as requested:</p>\n\n<pre><code>nvidia-settings:  version 331.20  (buildd@roseapple)  Mon Feb  3 15:07:22 UTC 2014      The NVIDIA X Server Settings tool.    \n  This program is used to configure the NVIDIA Linux graphics driver.      For more detail, please see the nvidia-settings (1) man page.    \n  Copyright (C) 2004 - 2010 NVIDIA Corporation.\n</code></pre>\n\n<p>And what happens after doing</p>\n\n<pre><code> sudo apt-get install nvidia-current\n</code></pre>\n\n<p>Resolution is much lower after reboot, looks like 800x600 to me.Then the UI crashes (mouse cursor disappears and I sit in front of an empty ubuntu wallpaper) as soon as I enter my user credentials, but the TTY console is working now. So I tried doing</p>\n\n<pre><code>sudo service lightdm restart\n</code></pre>\n\n<p>which results in 4 times</p>\n\n<pre><code>systemd-udevd[4114]: Failed to apply ACL on /dev/dri/card0: No such file or directory\n</code></pre>\n\n<p>and taking me back to the same low-res login screen that just crashes on login.</p>\n"},{"id":598383,"title":"Insatlling CUDA : Failed to add GPGKEY at http://cuda-repo/repos/GPGKEY to apt keys","body":"<p>I have a brand new installed Ubuntu 14.04, my laptop has an NVIDIA GEFORCE 740M. I've been following <a href=\"http://www.r-tutor.com/gpu-computing/cuda-installation/cuda6.5-ubuntu\" rel=\"nofollow\">this</a> guide to install CUDA, and right after tyiping: </p>\n\n<pre><code>sudo dpkg -i cuda-repo-ubuntu1404_6.5-14_amd64.deb \n</code></pre>\n\n<p>I get an error message </p>\n\n<pre><code>Failed to add GPGKEY at http://cuda-repo/repos/GPGKEY to apt keys.\n</code></pre>\n\n<p>I tried what suggested <a href=\"https://devtalk.nvidia.com/default/topic/569688/unable-to-install-cuda-5-5-on-ubuntu-12-04/\" rel=\"nofollow\">here</a> with no success, and I'm definetely lost right now. How do I fix this problem ?</p>\n\n<p>I tried the same process with the new CUDA 7 and that gave me no errors but some driver problems arose, I'm trying to install CUDA 6.5 because me and a collegue are wroking on the same project and he already has the 6.5 working so I need to adapt (even though I don't think having another version of CUDA can cause any problem). I'd like to solve the GPGKEY problem, but if that's not the case I'll have to do it another way (in this case any hint would be much appreciated).</p>\n\n<p>Keep in mind I tried to install CUDA 6.5 with the .run, there I had no problems but when installing the nvidia-cuda-toolkit it only installed the 5.5 version clearly not compatible with the 6.5. So again, I'm open to any other possibility to make it work. It feels like even if I fix this problem, I'd still have issues getting the nvidia-toolkit 6.5. If you need any other information to help me out, I'll be glad to share it.</p>\n"},{"id":553098,"title":"Setting up fresh Ubuntu install for programming assignment - Nvidia, CUDA, NSight","body":"<p>I have been having a tough time setting up an environment to run a specific software in and it has come down to getting a fresh HDD to install linux on. I am trying to modify a software called Cura specifically the <a href=\"https://github.com/Ultimaker/CuraEngine\" rel=\"nofollow\">CuraEngine</a>. It was developed under linux and has dependencies that I could not fulfil on windows (from what I understand). So I am specifically installing a linux based system. I then need to install CUDA; I have a Nvidia 750Ti installed in the machine. I plan to write some kernels to accelerate the 3DModel -> G-code generation process for the project. </p>\n\n<p>I have tried quite a few times now to get this working but the process always breaks down after I install the nvidia drivers. I have been using the method <a href=\"http://www.binarytides.com/install-nvidia-drivers-ubuntu-14-04/\" rel=\"nofollow\">described here</a> to install along with trying from the <a href=\"https://developer.nvidia.com/cuda-downloads\" rel=\"nofollow\">CUDA toolkit</a> download. For the second method I have had to shutdown <code>lightdm</code> and run the <code>.run</code> from the command line to get the drivers installed. All attempts have been from fresh installs of Ubuntu also. </p>\n\n<p>Each attempt results in the driver being installed (from what I can tell, no errors upon install), but upon restarting the computer and a login the background of the desktop and the mouse appear but nothing else, I can <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F1</kbd> to a terminal. Worth noting right now maybe, that before the drivers are installed the shortcut <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F1</kbd> displays a black screen but after the install and a reboot it works though I can't login properly. So I assume the driver has been installed and is running but I am not sure how to check properly. I ran the command in step 5 of the <a href=\"http://www.binarytides.com/install-nvidia-drivers-ubuntu-14-04/\" rel=\"nofollow\">install guide</a> I'm using but my machine did not display the desired result of \"Kernel driver in use: Nvidia\".</p>\n\n<p>To try and fix this issue I tried to use <code>sudo apt-get purge nvidia-current</code> and rebooted but still couldn't login. I also tried <code>unity --replace</code> and received errors pertaining to an \"OpenGL module\". </p>\n\n<p>I currently am now at the point of an install seen below, also under \"System -> Software &amp; Updates -> Addditional Drivers\" it shows no additional drivers. \n<img src=\"http://i.stack.imgur.com/pwjKa.png\" alt=\"enter image description here\"></p>\n\n<p>Now this is the point at the install that I would restart and try to log back in and see if NSight Eclipse would recognize my GPU as a CUDA enabled device. But I am afraid I will not be able to log back in as usual. </p>\n\n<p>In there something I can do right now that would be easier than essentially blocking myself out? Why am I being blocked out? What should my next steps be?</p>\n\n<p>EDIT: Because I can use <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>F1</kbd> to get to a terminal I also managed to install <code>ccsm</code> and set the unity plugin to installed, which failed to solve the problem. But as I tried to find the link I used I <a href=\"http://askubuntu.com/questions/204428/unity-missing-cant-see-top-or-side-panels\">found this link</a> and it looks like it might solve the problem of seeing the desktop. I am going to try it. </p>\n\n<p>I also just realized that I can probably re-run the test in step 5 of manual linked above to check if the driver installed worked after the reboot. </p>\n\n<p>EDIT2: Running the command <code>dconf reset -f /org/compiz/</code> from the first edit displays an error from \"Cannot autolaunch D-Bus without X11 $DISPLAY\". As for the tests from the 5th step. On the first the output from the <code>lspci -vnn | grep -i VGA -A 12</code> is too long and I am not sure how to scroll up I'm a newb. For the second <code>glxinfo | grep OpenGL | grep render</code> returns an error \"Unable to open display\". </p>\n\n<p>I am not sure what the command specifically does but I have seen it in some of the links today <code>export DISPLAY=:0</code>. I ran this and then ran the <code>dconf reset -f /org/compiz/</code> successfully but <code>setsid unity</code> errors saying \"Plugin opengl not loaded, Plugin init failed: unityshell\" ... \" Compiz (opengl) - Fatal: glxQueryExtensionString is NULL for screen 0\".</p>\n"},{"id":546447,"title":"Nvidia drivers do not work after update on 14.04","body":"<p>I have Ubuntu 14.04 and an Nvidia GT540M. I had also installed CUDA and it was working fine. Last week I installed some updates and I experienced some <a href=\"http://askubuntu.com/questions/543463/no-icons-after-update-on-29-10\">problems</a> and I had to remove the Nvidia drivers in order to make my system work. Now I would like to install them again, but every time the same problem reoccurs. Some packages that were installed may cause that problem and I would like to uninstall them or install a previous version, to make my system work.</p>\n\n<p>Nvidia driver that was working before the updates: nvidia-340</p>\n\n<p>Packages that were installed-updated:\n<img src=\"http://i.stack.imgur.com/nF9FD.jpg\" alt=\"\"></p>\n\n<p>History of the drivers I installed and uninstalled while I was trying to make it work:\n<img src=\"http://i.stack.imgur.com/55vRQ.jpg\" alt=\"\"></p>\n\n<p>After querying ubuntu with <code>ubuntu-drivers devices</code>, as suggested, I got:</p>\n\n<blockquote>\n  <p>model    : GF108M [GeForce GT 540M]<br>\n  vendor   : NVIDIA Corporation<br>\n  driver   : nvidia-331 - distro non-free<br>\n  driver   : nvidia-304 - distro non-free<br>\n  driver   : nvidia-304-updates - distro non-free<br>\n  driver   : xserver-xorg-video-nouveau - distro free builtin<br>\n  driver   : nvidia-331-updates - distro non-free<br>\n  driver   : nvidia-340 - third-party non-free recommended  </p>\n</blockquote>\n\n<p>--- EDIT 1 ---<br>\nAfter installing the nvidia-340 and I reboot, I got to tty1 (<code>Ctrl</code> + <code>Alt</code> + <code>F1</code>) to uninstall the driver. Before I do anything it displays the following:</p>\n\n<blockquote>\n  <ul>\n  <li>Starting NVIDIA Persistenced Daemon               [OK]  </li>\n  <li>Starting NVIDIA PRIME Power Saving Mode           [OK]</li>\n  <li>Starting NVIDIA Persistenced Daemon              [fail]</li>\n  <li>Starting LightDM Display Manager                  [OK]</li>\n  <li>Stopping Send an event to indicate plymouth is up [OK]</li>\n  </ul>\n</blockquote>\n\n<p>Can anyone help me on what should I uninstall or, in general, what can I do to make CUDA work again?</p>\n\n<p>--- EDIT 2 ---<br>\nAs far as I understand, I do not have two drivers installed simultaneously. I have also noticed that CUDA-6.5 is installed in my computer. Is it possible to develop CUDA programs without having the NVIDIA drivers?</p>\n\n<p>--- EDIT 3 ---<br>\nAn update was available today, were some packages said something about updating the firmware and some hardware support. I re-installed the nvidia-340 driver but the results were the same, when I rebooted my computer. So, I had to uninstall them again. The only difference is that, when I enter the tty1, the terminal does not display what it was displaying in \"EDIT 1\". Also, there are no Errors to \"Report\" this time, after logging in.</p>\n\n<p>Should I expect this problem to be solved in the near future? Or should I do something else?</p>\n"}]}]