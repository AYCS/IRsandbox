[{"id":715542,"title":"Telnet and Firewall","body":"<p>I would like to transfer file from one machine to another using telnet. When I tried to connect the two computers by telnet, using the same network, the file was sent correctly and everything was fine. However, when I tried to change the network the connection was failed. How can I allow a firewall to accept connection from different networks?</p>\n","related_questions":[{"id":710624,"title":"Vagrant NFS folders + Firewall rules","body":"<p>I am trying to configure the firewall -via the GUI tool- on 14.04 by adding rules to allow NFS folder sharing with my vagrant box. However this only works when the firewall is disabled as on <code>vagrant up</code> it hangs on <code>default: Mounting NFS shared folders...</code> while otherwise the folders don't sync. I have tried some of the suggested settings under <code>Application &gt; NFS</code> from the dropdown as well as allowing traffic on both ways between the box and the host for the IP of the box and the host as set in the <code>vagrantfile</code> but nothing changed.  What rules should I add to make it work?</p>\n"},{"id":706736,"title":"Firewall zone not changing when activating VPN","body":"<p>How can I make the Firewall zone change automatically at VPN connect?\nI have set up Firewall with firewalld and firewall-config GUI. There is many preset zones, in which \"home\" has all (ssh,samba,apache) allowed. \"public\" has nothing allowed and I have choosen that for the VPN (OpenVPN) in Connection Manager. When VPN is opened, active zone is still \"home\" and all my file shares, ssh etc. are open to public, cause firewall zone did not change.</p>\n\n<pre><code>user@UBUNTU:~$ sudo firewall-cmd --get-active-zones\nhome\n  interfaces: eth0\n\n.. and after opening VPN connection:\n\nuser@UBUNTU:~$ sudo firewall-cmd --get-active-zones\nhome\n  interfaces: eth0\n</code></pre>\n\n<p>And I can SSH into my computer through the public IP given by VPN!</p>\n"},{"id":637536,"title":"UFW Firewall rule not working","body":"<p>I have an ubuntu vm which runs the UFW and a microsoft xp professional. The ip address of the ubuntu is 192.168.254.132 and so I made the xp have a static ip address of 192.168.254.131 so they will be on the same network. I tried using telnet to connect to the Ubuntu it failed, which was suppose to happen because of the implicit deny. However when I typed sudo ufw allow from 192.168.254.131 to any port 23 to allow telnet it still did not work. I do not know what is wrong.</p>\n"},{"id":638461,"title":"Firewall rules not working for network","body":"<p>I have configured my ubuntu server to be a router and firewall. It has dhcp functionalities and it gives ip addresses to my other two computers. There is an implicit deny in the network. However the implicit deny only works when I try to access the ip of the ubuntu server/router. When I try to contact from this pc to the other it works. Shouldn't the firewall rules apply for the whole network?</p>\n"},{"id":625638,"title":"How to allow this connection on the Firewall?","body":"<p>I am trying to connect my Ubuntu Web Server to my Ubuntu Storage Server using NFS (Network File System).</p>\n\n<p>But when I try to mount a Storage Server to the Web Server, I get a \"Connection Timeout\" message into the log.</p>\n\n<p>I looked into the log (<code>/var/log/ufw.log</code>) which tells me this:</p>\n\n<pre><code>May 19 13:56:11 storage-server kernel:\n[71803.508581] [UFW BLOCK]\nIN=eth1\nOUT= \nMAC=01:02:42:31:01:03:05:02:52:59:af:01:06:00 \nSRC=2.2.2.2 \nDST=1.1.1.1 \nLEN=60 \nTOS=0x00 \nPREC=0x00 \nTTL=64 \nID=64909 \nDF \nPROTO=TCP \nSPT=818\nDPT=2049 \nWINDOW=29200 \nRES=0x00 \nSYN \nURGP=0\n</code></pre>\n\n<p>How can I allow this connection using <code>iptables</code> (Without opening for any other ports or for any other IPs)</p>\n\n<p>I already tried running <code>sudo iptables -A INPUT -p tcp --dport 2049 -s 2.2.2.2 -j ACCEPT</code>, <code>sudo iptables -L</code> and <code>sudo bash -c \"iptables-save &gt; /etc/iptables.conf\"</code> on my Storage Server.</p>\n\n<p>I am running Ubuntu 14.04 on both servers.</p>\n\n<p>I have my storage server (IP <code>1.1.1.1</code>).\nI have my web server (IP <code>2.2.2.2</code>).</p>\n\n<p>NOTE: IPs are just examples and MAC address have been changed</p>\n"},{"id":612187,"title":"Firewall Ports for Filesharing With OSX","body":"<p>I tried searching for this but I'm coming up short. Maybe my wording is wrong.</p>\n\n<p>I have my Ubuntu machine showing on my LAN - and I can see it from the Finder Window in OSX - but it won't connect when my firewall on Ubuntu is running. Of course, I want this on and running at all times. What are the ports I need to open up to accept the incoming traffic for file sharing? </p>\n"},{"id":590571,"title":"remote CORBA lookup (firewall, port, telnet)","body":"<p>I'm trying to do a <a href=\"http://stackoverflow.com/questions/27077211/\">CORBA lookup on a LAN</a> from one pc to another.  How do I troubleshoot the connection?</p>\n\n<p>On the server running glassfish:</p>\n\n<pre><code>thufir@doge:~$ \nthufir@doge:~$ glassfish-4.1/glassfish/bin/asadmin get '*' | egrep -i '[._]port[=.][1-9v]' | sort\nconfigs.config.default-config.system-property.ASADMIN_LISTENER_PORT.value=24848\nconfigs.config.default-config.system-property.HTTP_LISTENER_PORT.value=28080\nconfigs.config.default-config.system-property.HTTP_SSL_LISTENER_PORT.value=28181\nconfigs.config.default-config.system-property.IIOP_LISTENER_PORT.value=23700\nconfigs.config.default-config.system-property.IIOP_SSL_LISTENER_PORT.value=23820\nconfigs.config.default-config.system-property.IIOP_SSL_MUTUALAUTH_PORT.value=23920\nconfigs.config.default-config.system-property.JAVA_DEBUGGER_PORT.value=29009\nconfigs.config.default-config.system-property.JMS_PROVIDER_PORT.value=27676\nconfigs.config.default-config.system-property.JMX_SYSTEM_CONNECTOR_PORT.value=28686\nconfigs.config.default-config.system-property.OSGI_SHELL_TELNET_PORT.value=26666\nconfigs.config.server-config.admin-service.jmx-connector.system.port=8686\nconfigs.config.server-config.iiop-service.iiop-listener.orb-listener-1.port=3700\nconfigs.config.server-config.iiop-service.iiop-listener.SSL_MUTUALAUTH.port=3920\nconfigs.config.server-config.iiop-service.iiop-listener.SSL.port=3820\nconfigs.config.server-config.java-config.jvm-options=-XX:MaxPermSize=192m,-client,-Djava.awt.headless=true,-Djdk.corba.allowOutputStreamSubclass=true,-Djavax.xml.accessExternalSchema=all,-Djavax.management.builder.initial=com.sun.enterprise.v3.admin.AppServerMBeanServerBuilder,-XX:+UnlockDiagnosticVMOptions,-Djava.endorsed.dirs=${com.sun.aas.installRoot}/modules/endorsed${path.separator}${com.sun.aas.installRoot}/lib/endorsed,-Djava.security.policy=${com.sun.aas.instanceRoot}/config/server.policy,-Djava.security.auth.login.config=${com.sun.aas.instanceRoot}/config/login.conf,-Dcom.sun.enterprise.security.httpsOutboundKeyAlias=s1as,-Xmx512m,-Djavax.net.ssl.keyStore=${com.sun.aas.instanceRoot}/config/keystore.jks,-Djavax.net.ssl.trustStore=${com.sun.aas.instanceRoot}/config/cacerts.jks,-Djava.ext.dirs=${com.sun.aas.javaRoot}/lib/ext${path.separator}${com.sun.aas.javaRoot}/jre/lib/ext${path.separator}${com.sun.aas.instanceRoot}/lib/ext,-Djdbc.drivers=org.apache.derby.jdbc.ClientDriver,-DANTLR_USE_DIRECT_CLASS_LOADING=true,-Dcom.sun.enterprise.config.config_environment_factory_class=com.sun.enterprise.config.serverbeans.AppserverConfigEnvironmentFactory,-Dorg.glassfish.additionalOSGiBundlesToStart=org.apache.felix.shell,org.apache.felix.gogo.runtime,org.apache.felix.gogo.shell,org.apache.felix.gogo.command,org.apache.felix.shell.remote,org.apache.felix.fileinstall,-Dosgi.shell.telnet.port=6666,-Dosgi.shell.telnet.maxconn=1,-Dosgi.shell.telnet.ip=127.0.0.1,-Dgosh.args=--nointeractive,-Dfelix.fileinstall.dir=${com.sun.aas.installRoot}/modules/autostart/,-Dfelix.fileinstall.poll=5000,-Dfelix.fileinstall.log.level=2,-Dfelix.fileinstall.bundles.new.start=true,-Dfelix.fileinstall.bundles.startTransient=true,-Dfelix.fileinstall.disableConfigSave=false,-XX:NewRatio=2,-Dcom.ctc.wstx.returnNullForDefaultNamespace=true\nconfigs.config.server-config.network-config.network-listeners.network-listener.admin-listener.port=4848\nconfigs.config.server-config.network-config.network-listeners.network-listener.http-listener-1.port=8080\nconfigs.config.server-config.network-config.network-listeners.network-listener.http-listener-2.port=8181\nconfigs.config.server-config.system-property.JMS_PROVIDER_PORT.value=7676\nresources.jdbc-connection-pool.crm.property.Port=3306\nthufir@doge:~$ \n</code></pre>\n\n<p>on the client pc:</p>\n\n<pre><code>thufir@tleilax:~$ \nthufir@tleilax:~$ glassfish-4.1/glassfish/bin/appclient -client NetBeansProjects/GreeterCorbaClient/dist/GreeterCorbaClient.jar \n{org.omg.CORBA.ORBInitialPort=3700, java.naming.factory.initial=com.sun.enterprise.naming.impl.SerialInitContextFactory, Context.SECURITY_CREDENTIALS=pass123, org.omg.CORBA.ORBInitialHost=192.168.1.3, java.naming.factory.url.pkgs=com.sun.enterprise.naming, java.naming.factory.state=com.sun.corba.ee.impl.presentation.rmi.JNDIStateFactoryImpl, Context.SECURITY_PRINCIPAL=user1}\n\n^C\n\nthufir@tleilax:~$ \nthufir@tleilax:~$ telnet 192.168.1.3 3700\nTrying 192.168.1.3...\nConnected to 192.168.1.3.\nEscape character is '^]'.\n\n\nseems to work\nGIOPConnection closed by foreign host.\nthufir@tleilax:~$ \n</code></pre>\n\n<p>and nmap of the server:</p>\n\n<pre><code>thufir@tleilax:~$ \nthufir@tleilax:~$ nmap 192.168.1.3\n\nStarting Nmap 6.46 ( http://nmap.org ) at 2015-02-27 01:47 PST\nNmap scan report for 192.168.1.3\nHost is up (0.00053s latency).\nNot shown: 994 closed ports\nPORT     STATE SERVICE\n22/tcp   open  ssh\n3920/tcp open  exasoftport1\n4848/tcp open  appserv-http\n7676/tcp open  imqbrokerd\n8080/tcp open  http-proxy\n8181/tcp open  unknown\n\nNmap done: 1 IP address (1 host up) scanned in 0.13 seconds\nthufir@tleilax:~$ \n</code></pre>\n\n<p>However, I'm as sure as can be that port 3700 is open, just not sure how to establish that.</p>\n\n<p>Also on the server:</p>\n\n<pre><code>thufir@doge:~$ \nthufir@doge:~$ nmap localhost\n\nStarting Nmap 6.46 ( http://nmap.org ) at 2015-02-27 03:26 PST\nNmap scan report for localhost (127.0.0.1)\nHost is up (0.00017s latency).\nNot shown: 997 closed ports\nPORT     STATE SERVICE\n22/tcp   open  ssh\n631/tcp  open  ipp\n3306/tcp open  mysql\n\nNmap done: 1 IP address (1 host up) scanned in 0.05 seconds\nthufir@doge:~$ \nthufir@doge:~$ glassfish-4.1/glassfish/bin/asadmin start-domain\nWaiting for domain1 to start ..........................\nSuccessfully started the domain : domain1\ndomain  Location: /home/thufir/glassfish-4.1/glassfish/domains/domain1\nLog File: /home/thufir/glassfish-4.1/glassfish/domains/domain1/logs/server.log\nAdmin Port: 4848\nCommand start-domain executed successfully.\nthufir@doge:~$ \nthufir@doge:~$ nmap localhost\n\nStarting Nmap 6.46 ( http://nmap.org ) at 2015-02-27 03:27 PST\nNmap scan report for localhost (127.0.0.1)\nHost is up (0.00019s latency).\nNot shown: 992 closed ports\nPORT     STATE SERVICE\n22/tcp   open  ssh\n631/tcp  open  ipp\n3306/tcp open  mysql\n3920/tcp open  exasoftport1\n4848/tcp open  appserv-http\n7676/tcp open  imqbrokerd\n8080/tcp open  http-proxy\n8181/tcp open  unknown\n\nNmap done: 1 IP address (1 host up) scanned in 0.04 seconds\nthufir@doge:~$ \n</code></pre>\n"},{"id":538892,"title":"telnet: Unable to connect to remote host: Network is unreachable","body":"<p>I am not able to connect to gmail with telnet using any of the ports.\nI am using this command:</p>\n\n<blockquote>\n  <p>telnet smtp.gmail.com 25</p>\n</blockquote>\n\n<p>and it gives following error:</p>\n\n<pre><code>Trying 74.125.68.108...\nTrying 74.125.68.109...\nTrying 2404:6800:4003:c02::6d...\ntelnet: Unable to connect to remote host: Network is unreachable\n</code></pre>\n\n<p>I used <a href=\"http://ubuntuforums.org/showthread.php?t=1876124\" rel=\"nofollow\">this</a> to configure my firewall using method 2 thinking this problem may be because of it.</p>\n\n<p>output of command  <code>sudo ufw status</code> is:</p>\n\n<pre><code>Status: active\n\nTo                         Action      From\n--                         ------      ----\n25,53,80,110,443/tcp       ALLOW OUT   Anywhere\n53,67,68/udp               ALLOW OUT   Anywhere\n51413/tcp                  ALLOW OUT   Anywhere\n51413/udp                  ALLOW OUT   Anywhere\n6969/tcp                   ALLOW OUT   Anywhere\n587,2525/tcp               ALLOW OUT   Anywhere\n587,2525/udp               ALLOW OUT   Anywhere\n25,53,80,110,443/tcp (v6)  ALLOW OUT   Anywhere (v6)\n53,67,68/udp (v6)          ALLOW OUT   Anywhere (v6)\n51413/tcp (v6)             ALLOW OUT   Anywhere (v6)\n51413/udp (v6)             ALLOW OUT   Anywhere (v6)\n6969/tcp (v6)              ALLOW OUT   Anywhere (v6)\n587,2525/tcp (v6)          ALLOW OUT   Anywhere (v6)\n587,2525/udp (v6)          ALLOW OUT   Anywhere (v6)\n</code></pre>\n\n<p>I even tried to use my mobile network instead of lan thinking my ISP may have blocked ports but I got the same error. Can someone help please?</p>\n\n<p><strong>UPDATE:</strong>\n<code>sudo netstat -tunlp</code> gives:</p>\n\n<pre><code>Active Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        0      0 0.0.0.0:23              0.0.0.0:*               LISTEN      8390/xinetd     \ntcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      4310/cupsd      \ntcp        0      0 127.0.0.1:5432          0.0.0.0:*               LISTEN      1405/postgres   \ntcp        0      0 127.0.0.1:5433          0.0.0.0:*               LISTEN      1779/postgres   \ntcp        0      0 127.0.0.1:9306          0.0.0.0:*               LISTEN      3275/searchd    \ntcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN      1171/mysqld     \ntcp        0      0 127.0.1.1:53            0.0.0.0:*               LISTEN      2465/dnsmasq    \nudp        0      0 0.0.0.0:5353            0.0.0.0:*                           3414/chrome     \nudp        0      0 0.0.0.0:5353            0.0.0.0:*                           749/avahi-daemon: r\nudp        0      0 0.0.0.0:48695           0.0.0.0:*                           749/avahi-daemon: r\nudp        0      0 0.0.0.0:46846           0.0.0.0:*                           9389/dhclient   \nudp        0      0 127.0.1.1:53            0.0.0.0:*                           2465/dnsmasq    \nudp        0      0 0.0.0.0:68              0.0.0.0:*                           9389/dhclient   \nudp6       0      0 :::47892                :::*                                749/avahi-daemon: r\nudp6       0      0 :::5353                 :::*                                749/avahi-daemon: r\nudp6       0      0 :::14340                :::*                                9389/dhclient \n</code></pre>\n"},{"id":412216,"title":"Samba problem -- is it a firewall issue?","body":"<p>I have just installed Ubuntu 13.10 on a computer I use as archive for other machines.  I need Samba working from various Windows 7 machines.</p>\n\n<p>I have confirmed that smbd and nmbd are both working, and the shares I need are set up correctly.  However, I can't use <code>net use ...</code> command from a Windows box to connect to the Ubuntu machine.  It would appear like a firewall issue on Ubuntu (I can get to other Windows machines on the system, so I'm pretty sure the issue isn't on the Windows side).  </p>\n\n<p>How can I check the firewall settings?</p>\n"},{"id":105719,"title":"Firewall configuration and consequences","body":"<p><br/>\nI'm using Ubuntu 11.10. And I want to know something about firewall in Ubuntu, because <strong>I want to know if it could be the reason why my application doesn't work properly.</strong> <br/>\n<br/>\nLittle background:<br/>\nI'have programmed client-server application, where Server is in C and client in java, when I run it from Eclipse Indigo (programing editor &amp; environment) it works fine, but when I compile and run the klient in terminal, the communication doesn't work. The server doen't even recognize that the klient try to connect to the server. (using tcp sockets). Somebody said me that firewall could cause these problems, so my question should be probably <strong>What effect have firewall to applications and network communication???</strong> (I run all on localhost 127.0.0.1 and port 10000).</p>\n\n<p>It could be little complex question, so I'll try to more spiecify it with few little questions connected to my research and effort to find the source of problem.</p>\n\n<p>This is what I've get when I put in terminal iptables -L: <br/></p>\n\n<pre>\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination        \n</pre>\n\n<p>1) I look at ubuntu wiki and I suppose there should be some rules, so I suppose that the firewall is not configured and it's off. Question: Am I right? <br/>\n2) If is the firewall off or not configured could it have affect to network communication on my computer? (According the backgroud info) <br/>\n3) If is the firewall on or bad configured can I do something to set up it correctly or swich off?\n4)If I do something from no. 3 will it have bad impact to my security (virus protection on internet)?</p>\n\n<p>NOTE: I have few theoretical info about linux, newtorking, firewalls, but I don't have many experiences with linux configuration and practical using these things.</p>\n"}]}]