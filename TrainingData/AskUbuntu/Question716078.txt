[{"id":716078,"title":"Permission declined to write to file","body":"<p>On xamppp I have a php script that writes some data that is posted to it, over a text file. But when I try an run it I get <img src=\"http://i.imgur.com/Y25gX2K.png\" alt=\"\"></p>\n\n<p>php script :</p>\n\n<pre><code>&lt;?php\n$file = 'xy.txt';\n// Opens the file to load the current content\n$current = file_get_contents($file);\n// Adds the data\n$current .= \"Hello\\n\";\n// Writes the content back to the file\nfile_put_contents($file, $current);\n?&gt;\n</code></pre>\n","related_questions":[{"id":320608,"title":"Permission denied while writing a file in var/www inspite of adding me to user group","body":"<p>I gave permissions to read and write files in <code>/var/www</code> to the working user(me) through the steps given in <a href=\"http://askubuntu.com/questions/19898/whats-the-simplest-way-to-edit-and-add-files-to-var-www\">Whats the simplest way to edit and add files to “/var/www”?</a>. It works fine when I try to create/read file in the project directory.  </p>\n\n<p>Say I am working in  <code>/var/www/xyz</code></p>\n\n<p>I am able to read and write files in this folder through a <code>php</code> code. Now, I have created a folder inside folder <code>xyz</code>, say <code>abc</code> </p>\n\n<pre><code>/var/www/xyz/abc\n</code></pre>\n\n<p>In my <code>php</code> code when I read a file situated inside <code>abc</code>, it works fine, but it gives me <code>warning: permission denied</code> when I try to <em>create a file</em> in this folder.  </p>\n\n<p>The exact warning is </p>\n\n<pre><code>Warning: fopen(abc/a.txt): failed to open stream: Permission denied in /var/www/xyz/code.php\n</code></pre>\n\n<p>I was asked to provide some output:</p>\n\n<pre><code>stat /var/www/dodge\n  File var/www/dodge' \n  Size: 4096 Blocks: 8 IO Block: 4096 directory\nDevice: 700h/1792d Inode: 1445503 Links: 8\nAccess: (2775/drwxrwsr-x) Uid: ( 33/www-data) Gid: ( 33/www-data)\nAccess: 2013-07-16 16:29:21.434531583 +0530\nModify: 2013-07-16 14:07:46.482782580 +0530\nChange: 2013-07-16 16:28:04.622533850 +0530\n Birth: -\n\nstat /var/www/xyz/abc\n  File: /var/www/dodge/codes' \n  Size: 4096 Blocks: 8 IO Block: 4096 directory \nDevice: 700h/1792d Inode: 1446465 Links: 2 \nAccess: (0775/drwxrwxr-x) Uid: ( 1000/ wq) Gid: ( 1000/ wq) \nAccess: 2013-07-16 15:16:15.554661170 +0530 \nModify: 2013-07-16 15:13:42.698665686 +0530 \nChange: 2013-07-16 15:13:42.698665686 +0530\n Birth: -\n</code></pre>\n"},{"id":707544,"title":"Configuration after upgrading to PHP7","body":"<p>I recently upgraded to PHP 7 following the instructions in <a href=\"http://askubuntu.com/a/705893/408824\">this</a> post, and everything seemed to work fine.</p>\n\n<p>However when I run <code>phpinfo()</code> this shows my PHP version as 5.6.0, although <code>php -v</code> in the terminal shows 7.0.0.</p>\n\n<p><a href=\"http://stackoverflow.com/a/11600508/3518938\">This</a> post suggests my apache configuration is pointing to the wrong php.ini file, and indeed I see the following from <code>phpinfo()</code>:</p>\n\n<p>Configuration File (php.ini) Path:  /opt/lampp/etc</p>\n\n<p>Loaded Configuration File:  /opt/lampp/etc/php.ini</p>\n\n<p>I have looked in my /opt/lampp/etc/httpd.conf file but there is no <code>PHPIniDir</code> setting. </p>\n\n<p>Where exactly do I set apache to look at the php.ini file for the 7.0 installation? Also within etc/php/7.0 there are two directories (cli and fpm) which both have a php.ini file, does it matter which I point to?</p>\n\n<p>I am running Ubuntu 14.04 and using xampp.</p>\n\n<p>Any help will be much appreciated.</p>\n\n<p>Thanks!</p>\n"},{"id":644137,"title":"Why don&#39;t my php files work on my Apache2 server?","body":"<p>I am trying to get a survey (PHP files) to work on an Apache server. I tried it first with XAMPP, but then got the following error message:</p>\n\n<blockquote>\n  <p>Fatal error: Call to undefined function pg_escape_string() in /opt/lampp/htdocs/imageability/SkjemaDatabase.php on line 551</p>\n</blockquote>\n\n<p>I tried a variety of solutions to this to get PostgreSQL to work together with XAMPP, but nothing seemed to work. So I now decided to try installing PHP5, Apache2, PostgreSQL (and MYSQL) seperately. I followed <a href=\"http://blog.keerthi.me/2009/04/ubuntu-installing-apache-php-mysql.html\" rel=\"nofollow\">these</a> instructions for the installations and thought I would have got PostgreSQL installed and working this time for sure. But instead of working, or rendering the same error message again, this just gives me a blank page when trying to check out the survey in Firefox. Am running Lubuntu 14.02 by the way.</p>\n\n<p>I have some other PHP files on the server that work fine. Could it still be something about PostgreSQL that's not working? While trying out XAMPP I tried uncommenting the following lines in my php.ini file</p>\n\n<blockquote>\n  <p>extension=php_pdo_pgsql.dll</p>\n  \n  <p>extension=php_pgsql.dll</p>\n</blockquote>\n\n<p>But now (with the various software installed seperately) I actually can't find the lines at all in <code>/etc/php5/apache2/php.ini</code> or <code>/etc/php5/cli/php.ini</code>, but I'm not sure which file to look in.</p>\n\n<p>I also read advise (during XAMPP problem with PostgreSQL) to copy the file <code>libpq.dll</code> from <code>c:/xampp/php/</code> to <code>/xampp/apache/bin/</code>, but I didn't seem to have this file and still don't.</p>\n\n<p>Below are some other ideas about what might be wrong, but maybe the above are more plausible?</p>\n\n<p>Another problem I had during the process was that while following the last instructions at the link above, I made the mistake of creating a super user with password and switching to postgres user. After this I couldn't open Pgadmin3, so I switched back to the usual user and then that at least worked. Could my error now have something to do with still having this superuser? Or is there something I have to do in Pgadmin3 to get my survey to work on the server? (I.e. I haven't done anything in Pgadmin3 now, just installed the above mentioned software and put my files in <code>/var/www/htlm/</code>.)</p>\n\n<p>Very grateful for any help!</p>\n"},{"id":642977,"title":"Setting permission for Xampp installation directory. see details","body":"<p>I know bit about setting permission but i'm little in a mess with it.\nI'm new to ubuntu so i get little confused and took much time to solve a little problem.\nI have installed xampp with installer which put it in <code>/opt/lampp</code> i have set Virtual hosts as well i successfully configured my first vhost after spending couple of hours but when i try to create a new one one i lost my access now whenever i open my host url <code>opencart.lh</code> it says access forbidden. i tried to play with chmod but i get lost with it.</p>\n\n<p>Note: i didn't create folder manualy in <code>opt/lampp/htdocs</code> i just copy my existing project to it like <code>opt/lampp/htdocs/opencart</code>.</p>\n\n<p>It might be a duplicate question but i hope you can answer it as well.</p>\n\n<p>Thanks in advance.</p>\n\n<h1>Edit -1</h1>\n\n<p>My Question is i have added new folder to htdocs i have settled it's permission chmod 755 for directories and chmod 644 for files this worked for my on my first project but with 2nd i used the same method but it didn't work for that one.</p>\n"},{"id":418139,"title":"Browser tends to download PHP files instead of displaying them, while using XAMPP for Linux","body":"<p>I am using <a href=\"http://en.wikipedia.org/wiki/XAMPP\" rel=\"nofollow\">XAMPP</a> for Linux, but when I try to open a <a href=\"http://en.wikipedia.org/wiki/PHP\" rel=\"nofollow\">PHP</a> file saved in a folder saved in home directory, the browser downloads the PHP file instead of displaying it. What could be the problem?</p>\n\n<p><strong>XAMPP Status is:</strong></p>\n\n<pre><code>Component                        Status         Hint\nMySQL database                   ACTIVATED\nPHP                              ACTIVATED\nPerl                             ACTIVATED\nCommon Gateway Interface (CGI)   ACTIVATED\nServer Side Includes (SSI)       ACTIVATED\nPHP extension »OPcache«          DEACTIVATED    See FAQ\nPHP extension »OCI8/Oracle«      ACTIVATED\n</code></pre>\n\n<p>Some changes to the configuration sometime may cause false negative status reports.</p>\n\n<p>What could be a possible solution?</p>\n"},{"id":476023,"title":"How to run php with Eclipse and XAMPP?","body":"<p>I'm using eclipse kepler on ubuntu 14.04, and I want to know how do I run a php project? I already installed the plugin in eclipse for php and when command run the project, the page does not load in the browser. I know this is why I have to save the php pages in the xampp directory: / opt / lampp / htdocs.\nMy PHP files are in the eclipse workspace in my home folder, how can I run from the workspace if that is possible?</p>\n"},{"id":417561,"title":"Getting issue with file permissions in Ubuntu 10.04","body":"<p>I've a development desktop having Ubuntu 10.04, Apache2 &amp; PHP 5.3.2 installed. I've given 0777 permissions to my web application root folder and Apache2 is also running under current username. But <em>sometimes</em> following files error is getting,</p>\n\n<blockquote>\n  <p>file_put_contents(/var/www/kohana_project/application/cache/kohana_find_file_paths):\n  failed to open stream: Permission denied.</p>\n</blockquote>\n\n<p>For every request above file need to update and execute but error occurs rarely. Is any one have idea how to fix this issue ?</p>\n\n<p>And one thing current logged-in user and www-data have full permissions on kohana_project directory and its contents.</p>\n"},{"id":62096,"title":"apache userdir and permissions to write public_html (suPHP)?","body":"<p>I have set ubuntu 10.10 server with LAMP. I use USERDIR mod for apache, but when I install some CMS systems for user like Concrete5, I need to set <code>chmod 777</code> to some directorys to write data with CMS. Is it possible to add some permissions for apache, so that I don't need to use <code>chmod</code> command.</p>\n\n<p>I have read something about suPHP. Is it good for this?</p>\n"},{"id":52545,"title":".php files are downloaded instead of being parsed by Apache","body":"<p>I have Xampp on Ubuntu 11.04. <code>.php</code> files are downloaded instead of parsed by Apache! How do I get Apache to parse them?</p>\n"},{"id":208217,"title":"Change permission for ALL folders and files","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://askubuntu.com/questions/46331/how-to-avoid-using-sudo-when-working-in-var-www\">How to avoid using sudo when working in /var/www?</a>  </p>\n</blockquote>\n\n\n\n<p>I've been around Ubuntu for not too long now and I'm getting tired of a thing I used to accept. When I installed Apache and PHP on Ubuntu it was done with <code>root</code> meaning it got permission. So I changed that to me. Now I've just copied a big number of files, (PHP), to be viewed and edited in these directories. Now my problem: I can not view the files from <code>var/www/</code> because it requires, for some reason, everyone to have access to the files. Not only me, or my group but everyone. No one else is using the computer but me, so I'm cool with it. Though I need a command to change ALL files permission recursively. When I've browsed the questions already been answered I find for example <code>chown -R viktor:viktor /var/www/</code>, or using <code>sudo</code> as well.</p>\n\n<p>This worked on the single <code>var/www</code> and the folders inside but not the files inside the folders and very odd I notice I can't do the same thing on example <code>/var/www/dev/</code>.</p>\n"}]}]