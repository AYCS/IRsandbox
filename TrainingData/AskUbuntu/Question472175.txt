[{"id":472175,"title":"Why is it called sudo?","body":"<p>Why  do we use <code>sudo</code> to perform a terminal command as an administrative? Why isn't it  <code>admin</code> or something else? Is there a reason for <code>sudo</code>?</p>\n","related_questions":[{"id":701836,"title":"Working without typing &quot;sudo&quot;?","body":"<p>Please leave all security words beside.</p>\n\n<p>I'm the only one who has access to Ubuntu server and I login to it only when I have something to work with system administration. So I know what I'm doing and I'm aware of it.\nNow my system works with sudo without asking for password. \nIs it possible that it runs (system) programs without typing sudo? </p>\n\n<p>And once again - I understand that someone can see this as security mistake, but please, don't write about it.</p>\n"},{"id":439451,"title":"Why is usermod -a -G sudo username not working?","body":"<p>During OS installation, I created only one account. Let's call it <code>howdy</code>. I thought it would have sudo privileges but I was wrong.</p>\n\n<p>I scoured the internet and this forum to find out how to add <code>howdy</code> to the sudoers' list. I was under the impression that <code>usermod -a -G sudo username</code> would work. I opened a root terminal and issued the command. I closed it.</p>\n\n<p>Next I opened a normal terminal and issued the following command: <code>sudo gedit /etc/openvpn/update-resolv-conf</code></p>\n\n<p>The following are the error messages:</p>\n\n<pre><code>howdy@wendy:~$ sudo gedit /etc/openvpn/update-resolv-conf\nsudo: unable to resolve host wendy\n[sudo] password for howdy: \nhowdy is not in the sudoers file.  This incident will be reported.\n[sudo] password for howdy: \n</code></pre>\n\n<p>Furthermore I discovered that my root password has changed to the password for <code>howdy</code>. This is odd.</p>\n\n<p>So when I opened a root terminal I now had to enter the password for <code>howdy</code> (the original root password did not work) and issued the command <code>visudo</code> and scrolled down to the phrase <code># Allow members of group sudo to execute any command</code> My account called <code>howdy</code> is not on it.</p>\n\n<p>I need help with the following:</p>\n\n<p>(1) Undo the changes brought about by <code>usermod -a -G sudo username</code>, especially to revert the root password to the original password I entered during OS installation. I don't know what the parameters <code>-a</code> and <code>-G</code> do.</p>\n\n<p>(2) Show me how to add my account called <code>howdy</code> to the sudoers' list.</p>\n"},{"id":632798,"title":"Why gedit can&#39;t be used with sudo?","body":"<p>I read <a href=\"http://askubuntu.com/a/270019/167850\">this answer</a> explaining that \"sometimes\" root can own something at <code>/home/$USER</code> directory.</p>\n\n<p>Can anyone give an example how to prove it. Just give a test case when something really bad happens, when I run</p>\n\n<pre><code>sudo gedit /etc/rc.local\n</code></pre>\n\n<p>edit file and save.</p>\n\n<p>I got many downvotes <a href=\"http://askubuntu.com/questions/632788/run-sudo-script-at-startup\">trying to help OP</a> out and was flooded by people saying that it is a crime running gedit with sudo.</p>\n\n<p>Can anyone give a real example?</p>\n\n<p>I clearly explained why this question is not a duplicate. There is no answer specific to gedit in the referred answer.</p>\n\n<p>And it is important to explain why widely used <code>sudo gedit</code> is bad, or not really, etc.</p>\n"},{"id":19245,"title":"Why is this bypassing the SUDO password?","body":"<p>I have a bash script I am using to automate a SVN checkout. The contents of the file were:</p>\n\n<pre><code>#!/bin/bash\ncd /var/www-cake\nsudo svn checkout file:///usr/local/svn/bash_repo/repo/\n</code></pre>\n\n<p>Then when I double click the file it would ask me what to do, I would click the button \"<em>Run In Terminal</em>\" and then a terminal would pop up and ask me for the SUDO password. I would enter it, the script would execute and the terminal would close.</p>\n\n<p>I wanted to give some sort of indication that the script ran successfully so I edited my file to look like:</p>\n\n<pre><code>#!/bin/bash\ncd /var/www-cake\nsudo svn checkout file:///usr/local/svn/bash_repo/repo/\necho \"Head revision has been pushed to live server\"\n</code></pre>\n\n<p>I expected the terminal to now stay open and tell me the message afterwards. To my surprise it now opens and immediately closes. The script does execute and I no longer have to put in the SUDO password.</p>\n\n<p>Is this right? I do not understand why this is happening, seems like a security issue.</p>\n"},{"id":599165,"title":"why is sudo not working with exported path?","body":"<p>If not sure if this is close to (or even a duplicate of) <a href=\"http://askubuntu.com/questions/146869/why-does-sudo-not-add-roots-path-with-ubuntu-12-04\">Why does sudo not add root&#39;s PATH with Ubuntu 12.04?</a>, I'm still posting this question because I didn't understand anything from there, if this is a duplicate, please do not flag it as that, just explain it better than that question, or post another answer in the other question.</p>\n\n<p>I installed ISE from Xilinx. I was advised to export the path, which I did by entering </p>\n\n<pre><code>echo \"PATH=\\$PATH:/opt/Xilinx/14.7/ISE_DS/ISE/bin/lin64/\" &gt;&gt; ~/.bashrc\n</code></pre>\n\n<p>then</p>\n\n<pre><code>echo \"export PATH\" &gt;&gt; ~/.bashrc\n</code></pre>\n\n<p>That done, I can run then program by entering <code>ise</code> in a terminal, but if I enter <code>sudo ise</code> it won't work. I'm I forgetting something?.</p>\n"},{"id":598129,"title":"Init file in init.d calls using sudo in script.sh give error sudo: no tty present and no askpass program specified","body":"<p>I an trying to make a script that launches on boot to connect to my personal VPN. </p>\n\n<p>I have an init file: /etc/init.d/vpnstartup</p>\n\n<p>which calls my vpnon.sh script on boot with the commands:</p>\n\n<pre><code>case \"$1\" in\n    start)\n        su username -c $VPN_DIR/vpnon.sh\n        ;;\n</code></pre>\n\n<p>in my script vpnon.sh there are commands that need root permissions to be executed:</p>\n\n<pre><code>sudo iptables -A INPUT -i pptp -j ACCEPT\nsudo iptables -A OUTPUT -o pptp -j ACCEPT\n</code></pre>\n\n<p>I grant permissions of the vpnstartup init file and the vpnon.sh script with chmod 775\nwhen I try out my init file by calling it using ./vpnstartup start</p>\n\n<p>I get the following error when the sudo iptables command gets called</p>\n\n<pre><code>sudo: no tty present and no askpass program specified\nsudo: no tty present and no askpass program specified\n</code></pre>\n\n<p>what I think is happening is the sudo command requires an input password but has no way to get it. </p>\n\n<p>The only solution I found was adding the <code>NOPASSWD :ALL option</code>\nto the sudoers file under my user name. </p>\n\n<p>I don't want to do this method for security reasons if there is a better solution. </p>\n\n<p>Please let me know if you can help me with this problem; I have spent many hours on it.</p>\n"},{"id":360356,"title":"Why doesn&#39;t the command do-release-upgrade doesn&#39;t require sudo?","body":"<p>I was wondering why the command <code>do-release-upgrade</code> doesn't require sudo? I mean, it does significantly change your system, so I would have guessed it requires sudo.<br></p>\n\n<p><a href=\"https://help.ubuntu.com/lts/serverguide/installing-upgrading.html#do-release-upgrade\" rel=\"nofollow\">This</a> is from ubuntu self, but it isn't that helpful. I just want to know how this is secure for the integrity for my system, if every user can access this command. </p>\n\n<p>Thanks in advance.</p>\n\n<p>[EDIT]:</p>\n\n<p>I used a new terminal window, thus no sudo that wasn't expired yet, and I used the command <code>do-release-upgrade</code> NOT <code>sudo do-release-upgrade</code>.<br>So even with unexpired sudo I should be unable to upgrade.</p>\n\n<p>[EDIT 2]:</p>\n\n<p><img src=\"http://i.stack.imgur.com/rfaTf.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/F43J5.png\" alt=\"enter image description here\"></p>\n"},{"id":254806,"title":"How to give a new user permissions to call sudo without a prompt for sudo password?","body":"<p>I am setting up a server in Amazon EC2. I created an image from Amazon's provided images of Ubuntu x64 12 LTS. My goal is to set up a secure svn server there, where access is only possible by IP address, SSH and certificates. I also need to migrate existing public keys from an old server. </p>\n\n<p>Having played with permissions I managed to add another user account, but somehow locked myself (<code>ubuntu</code>) out of the server. Remote <code>root</code> log in is disabled, and I locked <code>ubuntu</code> user. Ooops.</p>\n\n<p>This is why I would like to create a temporary user account, say <code>FOO</code>. If I lock it out, I still have <code>ubuntu</code>. I would like this user to have the same privileges as <code>ubuntu</code>, i.e. I want to do something like</p>\n\n<pre><code>sudo apt-get install subversion\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>When I created a new user and sshed to the server, the server always asked me for sudo password, when I called anything starting from <code>sudo</code></p>\n\n<p><strong>Question</strong></p>\n\n<p>How to add a new user with the same privileges as <code>ubuntu</code>, so I can call <code>sudo ...</code> without being prompted with a sudo password?</p>\n\n<p>This is what I have done so far:</p>\n\n<pre><code># add user\nsudo useradd -m -G ubuntu,adm,dialout,dip,plugdev,netdev,admin FOO\n\n# add public key for ssh\nsudo -s\ncd /home/FOO\nmkdir .ssh\ncd .ssh\nnano authorized_keys\n\n    Generate certificate in PuttyGen\n    Add public key to authorized_keys\n\n#set permissions for ssh to work\nchown -R FOO /home/FOO/.ssh\nchgrp -R FOO /home/FOO/.ssh\nchmod 0755 /home/FOO\nchmod 755  /home/FOO/.ssh\nchmod 644  /home/FOO/.ssh/authorized_keys\n\n#add FOO to sudoers\nsudo usermod -aG sudo FOO\n\n##check permissions\nls -lha /home/FOO\nls -lha /home/FOO/.ssh\n</code></pre>\n"},{"id":253120,"title":"can&#39;t do sudo commands with user without password. Not sure if I understand this correctly","body":"<p>I'm setting up this ubuntu dual boot. I have two users. One called smallcomputer that is supposed to be an administrator account and then I thought it might be handy to create a user account called bob. My plan is to use bob for everyday surfing and stuff and the adminstrator account for doing advanced stuff like changing system configuration and stuff. Bob doesn't have a password, but smallcomputer has.</p>\n\n<p>I would like the system to boot into bob directly when I start the computer, and not ask which account I should want to log in to. How do I do that? I feel this should be able to be done since he does not have a password.</p>\n\n<p>I also have some problem with when I'm logged in as bob and want to do a sudo command. Sometimes I see tutorials from internet about changing something and they say \"write this in the terminal\". I can never execute a sudo command logged in as bob. I tried typing my adminstrator password and typing no password at all (just typing return) and the terminal just says it's the wrong password. Those are the only account I know of that are installed on the system. If I'm logged in as administrator I have no problem executing sudo commands. Why can't I do it from the regular user account? Does calling sudo (when logged in as bob) try to log in as administrator account or is it some level beyond that like some root account?</p>\n\n<p>It's ubuntu 12.10.\nThanks for any help</p>\n"},{"id":117316,"title":"sudo not asking for password of correct user","body":"<p>I have a new installation of 11.10. I have an admin user, and a standard user that doesn't have password with autologin. If I log in as the standard user, when I use sudo from command line, it asks for that users password, which doesn't work because that user has no password, and isn't admin. If I log in as admin user, it asks for admins password. How do I make sudo always ask for admin password?\nThanks,\nCP</p>\n"}]}]