[{"id":715643,"title":"Timezone CRON issue","body":"<p>I wanted a CRON job on my server to run at 5 AM GMT every day, so that according to my timezone (IST), it'd send an email at 10:30 AM. </p>\n\n<p>Here's my date and timezone settings:</p>\n\n<pre><code>~# date\nFri Jan  1 10:33:52 GMT 2016\n~# cat /etc/timezone \nEtc/GMT0\n</code></pre>\n\n<p>And here's my crontab entry:</p>\n\n<pre><code>0 5 * * * /root/runfiles/up2date.sh\n</code></pre>\n\n<p>The problem is that the CRON fires at 10:30 AM server time, which is 4 PM in my time. I'm not sure what's causing it. The CRON I'm running fires a Python script which doesn't do any settings/calculations based on time.</p>\n\n<p>Please help!</p>\n","related_questions":[{"id":54364,"title":"How do you set the timezone for crontab?","body":"<p>I have set up ACPI wakeup so my laptop wakes up at a certain time each morning. The timezone for this is UTC. I want to set up my crontabs also using UTC so they fit with the wakeup alarm. </p>\n\n<p>How do you do it?</p>\n\n<p>I've tried editing <code>/etc/default/cron</code> to include:</p>\n\n<pre><code>TZ=\"UTC\"\n</code></pre>\n\n<p>but it doesn't work. (I've also tried <code>TZ=UTC</code> and <code>TZ=\"UTC/GMT\"</code>)</p>\n\n<p>Any ideas?</p>\n"},{"id":323131,"title":"setting timezone from terminal","body":"<p>there has been a few questions about this topic and i know the answer this could help others and maybe someone could help me out if what i want to do is possible</p>\n\n<p>i want to chainge the timezone of the system clock from the terminal this caan be done with</p>\n\n<p>tzselect  \"which opens a gui in terminal\"\nor\nsudo cp /usr/share/zoneinfo/Europe/London /etc/localtime \"which will set to gmt\"</p>\n\n<p>but is there a way to set time zone with just the offset ie.-1 or +5 etc?</p>\n\n<p>i need to do this as im writing an aplication to adjust timeoffset or report logs and the only info i have is the user ip which i can use a webapp to locates location of ip but then i need to set offset which would be easy IF i could just get offset of location but if i need to find zone and city it would be a rreal pain if anyone knows the answer to how to set system clock with +/-hour would be great its hard to find info with ubuntu forums being down</p>\n"},{"id":641186,"title":"Snappy timezone","body":"<p>I read <a href=\"https://developer.ubuntu.com/en/snappy/guides/config-command/\" rel=\"nofollow\">the snappy config command</a>, but I still can't change timezone. The example doesn't looks like a terminal command!</p>\n\n<p>Can you help me to set my snappy timezone?</p>\n\n<p>Thank you</p>\n"},{"id":519550,"title":"Why is the +8 timezone called GMT-8 in the filesystem?","body":"<p>I am in +8 timezone，After my trying， I must \"ls -sf /etc/localtime /usr/share/zoneinfo/Etc/GMT-8\"(not GMT+8 file), but after this setting, I can see the result of \"date -R\" is: \"Wed, 03 Sep 2014 18:07:34 +0800\", so  I feel that I am correct, but why they use the really confusing name of GMT-8?</p>\n"},{"id":144064,"title":"Set server timezone but not working with crontab and phpmyadmin","body":"<h1>TimeZone is not working properly</h1>\n\n<p>I am using linode server running ubuntu 12.04LTS. My Question is when i configured timezone by using dpkg reconfigure tz as IST ASIA/Calcutta. It shows correct timezone by using date command. But it is not working in CRON jobs and PHPMYADMIN. Because My work is very important, anxiously i have to work in UTC timezone to run my cron jobs accordingly. But now i am  stucking with my applications output run by cron jobs. Please help me!! </p>\n\n<p>Thanks in advance</p>\n"},{"id":332016,"title":"Warning: date(): It is not safe to rely on the system&#39;s timezone settings - What just happen?","body":"<blockquote>\n  <p>Warning: date(): It is not safe to rely on the system's timezone settings. You are <em>required</em> to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /var/www/folder/script/controllers/AC.php on line 342</p>\n</blockquote>\n\n<p>and at the script</p>\n\n<pre><code>return date('m/d/Y H:i:s', $tm);\n</code></pre>\n\n<p>What should I do?</p>\n"},{"id":460361,"title":"Why /var/log/auth.log is using diffrent timezone?","body":"<p>I've installed fail2ban on a Ubuntu box (14.04) but it didn't work correctly. As I tried to inspect the reason, I discovered that the timezone which is being used by the /var/log/auth.log file is different from the system timezone. Here were what I did to change the timezone:</p>\n\n<pre><code># rm /etc/localtime\n# ln -s /usr/share/zoneinfo/Asia/Ho_Chi_Minh /etc/localtime\n</code></pre>\n\n<p>date command output:</p>\n\n<pre><code># date\nSun May  4 10:38:28 ICT 2014\n</code></pre>\n\n<p>Then I triggered an invalid login from SSH, this is what I got:</p>\n\n<pre><code># tailf /var/log/auth.log\n\nMay  3 23:17:01 host-1 CRON[24432]: pam_unix(cron:session): session closed for user root\nMay  3 23:39:24 host-1 sshd[24439]: error: Could not load host key: /etc/ssh/ssh_host_ed25519_key\nMay  3 23:39:27 host-1 sshd[24439]: Invalid user roots from 123.22.x.x\nMay  3 23:39:27 host-1 sshd[24439]: input_userauth_request: invalid user roots [preauth]\n</code></pre>\n\n<p>As you can see, the system datetime is May 4 10:38, but the output of auth.log says that it is using May 3 23:39 as the time. Any explanations and solutions for this?</p>\n"},{"id":64109,"title":"Including application crons","body":"<p>I have 5 web applications. The directory structure is similar to following:</p>\n\n<pre><code>/var\n   `-  /www\n            `- /domains\n                      `-  /domain1\n                                 `- /public_html\n                                               `- /crontabs\n                                                        `- /crons\n                      `-  /domain2\n                                 `- /public_html\n                                               `- /crontabs\n                                                        `- /crons\n                      `-  /domain3\n                                 `- /public_html\n                                               `- /crontabs\n                                                        `- /crons\n                               .\n                               .\n                               .\n                               .\n                               .\n</code></pre>\n\n<p>Each application has its own list of crons [and these files contain valid, crontab -e like, syntax]. At the moment as this is a test and isolated server so all applications run under the same user. I know about crons, /etc/cron.d, /etc/cron.interval (interval = hourly|daily|weekly), /var/spool/crontabs/.</p>\n\n<p>My question: is there an alternate to /etc/cron.d but user specific where i could just symlink these crons and they would be executed? I would prefer such a solution because these crons get updated at times from developers.</p>\n\n<p>On #ubuntu ikonia suggested to google on how could one include crons, i did and couldn't find such a solution. If there could be place where i could do:</p>\n\n<pre><code>include /var/www/domains/*/public_html/crontabs/crons\n</code></pre>\n\n<p>that would be totally awesome.</p>\n\n<p>[EDIT]\nI am open to changing the crons files a little.</p>\n"},{"id":5437,"title":"How to change timezone?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://askubuntu.com/questions/3375/how-to-change-time-zone-settings-from-the-command-line\">How to change time-zone settings from the command line</a>  </p>\n</blockquote>\n\n\n\n<p>I've installed Ubuntu in my laptop while I was travelling in other country. When I was back, I tried to change my time zone back, but every time I restart the computer, the time zone goes back to the one of the country where I installed Ubuntu.</p>\n"},{"id":338514,"title":"Ubuntu 12.04 cron not executing","body":"<p>Here's the issue I'm having...</p>\n\n<p>I have a webserver that sees a fair bit of traffic. I want to keep a near real time backup of it on another server. That backup server will process log files, visitor tracking files, DB backups, etc. So I have several commands being executed at different times via cron on the backup server (crontab -e). For whatever reason I was only getting mail for some of the executions so I added logging today.</p>\n\n<p>I don't think any of the commands under the user's cron are executing. (And they didn't under the root cron either - sudo crontab -e.) Below is an example of a command that runs fine from the CLI but not from the cron. The directory /media/eagle805 is a directory on the backup server where the primary server (eagle805) is mounted. The directory is owned by the user who owns the cron.</p>\n\n<pre><code>*/1 * * * * mv /media/eagle805/ver1/php/VisitorTracking/data/raw/*.raw /var/www/ver1/php/VisitorTracking/data/raw/. &gt;&gt; /var/www/backups/visitor_tracking_file_move_$(date +%Y-%m-%d).log 2&gt;&amp;1\n</code></pre>\n\n<p>When I run this command from the CLI it works fine. The log file is created (and empty). All the files I want moved from the primary to the backup server are moved. But it doesn't run from cron. I am getting this error (via email):</p>\n\n<blockquote>\n  <p>/bin/sh: 1: Syntax error: end of file unexpected (expecting \")\")</p>\n</blockquote>\n\n<p>Can anyone tell me what I'm missing?</p>\n\n<p>Thanks</p>\n"}]}]