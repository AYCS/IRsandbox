[{"id":339232,"title":"Identification of HDD by SATA port number","body":"<p>How do I find out which motherboard SATA port number is an HDD connected to?</p>\n\n<p>We want to build a hdd copy software based on physical identification of SATA.</p>\n","related_questions":[{"id":501675,"title":"How to detect all 10 disk drives on 2 Port Multipliers attached to Marvell 88SE9130 based HBA?","body":"<h3>SilverStone EC05</h3>\n\n<p>I installed a <a href=\"http://www.silverstonetek.com/product.php?pid=335&amp;area=en\" rel=\"nofollow\">SilverStone EC05</a> SATA HBA/RAID controller on a Ubuntu 14.04 64-bit system, kernel 3.13.0-24-generic. </p>\n\n<h3>Marvell 88SE9130</h3>\n\n<p>This EC05 PCI Express card is based on a Marvell <a href=\"http://www.marvell.com/storage/system-solutions/assets/Marvell-88SE9130-Product-Brief.pdf\" rel=\"nofollow\">88SE9130</a> chip. \n<code>$ lspci</code> detects this controller as \"<code>SATA controller: Marvell Technology Group Ltd. 88SE9128 PCIe SATA 6 Gb/s RAID controller with HyperDuo (rev 11)</code>‚Äù. </p>\n\n<h3>Sil3726 PM's</h3>\n\n<p>On both its <strong>two</strong> SATA ports, a Silicon Image <a href=\"https://web.archive.org/web/20150320062221/http://siliconimage.com/solutions/pc/port-multiplier/\" rel=\"nofollow\">Sil3726</a> chip based PM (port multiplier) device is attached. Each port multiplier (PM) has 5 identical SATA drives attached. This makes 10 drives in total connected to the EC05. Each port multiplier is configured to be in port multiplier mode (not any kind of RAID mode). The motherboard BIOS seems to be configured to not load other BIOS-es because pressing <kbd>Ctrl</kbd>+<kbd>M</kbd> during boot, doesn't result in entering into the Marvell BIOS.</p>\n\n<h3>Actual result</h3>\n\n<ul>\n<li>When attaching PM#1 to EC05 SATA port#1, and PM#2 to EC05 SATA port #2, only the 5 drives on PM#1 are detected by the OS.</li>\n<li>When attaching PM#1 to EC05 SATA port#2, and PM#2 to EC05 SATA port #1, only the 5 drives on\nPM#1 are detected by the OS.</li>\n<li>When attaching PM#2 to EC05 SATA port#2, and\ndisconnecting EC05 SATA port #1, only the 5 drives on PM#2 are\ndetected by the OS.</li>\n</ul>\n\n<h3>Expected result</h3>\n\n<ul>\n<li>When attaching PM#1 to EC05 SATA port#1, and PM#2 to EC05 SATA port #2, all 10 drives are detected by the OS.</li>\n<li>When attaching PM#1 to EC05 SATA port#2, and PM#2 to EC05 SATA port #1, all 10 drives are detected by the OS.</li>\n</ul>\n\n<p>Related <code>$ dmesg</code> output section:</p>\n\n<pre><code>[    2.806779] ahci 0000:03:00.0: irq 44 for MSI/MSI-X\n[    2.820401] ahci 0000:03:00.0: AHCI 0001.0200 32 slots 8 ports 6 Gbps 0xff impl SATA mode\n[    2.820402] ahci 0000:03:00.0: flags: 64bit ncq pio\n[    2.821223] scsi5 : ahci\n[    2.821290] scsi6 : ahci\n[    2.821346] scsi7 : ahci\n[    2.821403] scsi8 : ahci\n[    2.821458] scsi9 : ahci\n[    2.821514] scsi10 : ahci\n[    2.821569] scsi11 : ahci\n[    2.821625] scsi12 : ahci\n[    2.821673] ata6: SATA max UDMA/133 abar m2048@0xf0510000 port 0xf0510100 irq 44\n[    2.821675] ata7: SATA max UDMA/133 abar m2048@0xf0510000 port 0xf0510180 irq 44\n[    2.821676] ata8: SATA max UDMA/133 abar m2048@0xf0510000 port 0xf0510200 irq 44\n[    2.821678] ata9: SATA max UDMA/133 abar m2048@0xf0510000 port 0xf0510280 irq 44\n[    2.821679] ata10: SATA max UDMA/133 abar m2048@0xf0510000 port 0xf0510300 irq 44\n[    2.821681] ata11: SATA max UDMA/133 abar m2048@0xf0510000 port 0xf0510380 irq 44\n[    2.821682] ata12: SATA max UDMA/133 abar m2048@0xf0510000 port 0xf0510400 irq 44\n[    2.821684] ata13: SATA max UDMA/133 abar m2048@0xf0510000 port 0xf0510480 irq 44\n[    3.124077] ata5: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[    3.148049] ata6: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[    3.148069] ata11: SATA link down (SStatus 0 SControl 300)\n[    3.148091] ata12: SATA link down (SStatus 0 SControl 300)\n[    3.148112] ata13: SATA link up 1.5 Gbps (SStatus 113 SControl 300)\n[    3.148132] ata8: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[    3.148148] ata7: SATA link down (SStatus 0 SControl 300)\n[    3.148170] ata9: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[    3.151632] ata13.00: ATAPI: MARVELL VIRTUALL, 1.09, max UDMA/66\n[    3.181571] ata5.00: ACPI cmd ef/10:06:00:00:00:00 (SET FEATURES) succeeded\n[    3.181572] ata5.00: ACPI cmd f5/00:00:00:00:00:00 (SECURITY FREEZE LOCK) filtered out\n[    3.181573] ata5.00: ACPI cmd b1/c1:00:00:00:00:00 (DEVICE CONFIGURATION OVERLAY) filtered out\n[    3.184009] ata10: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[    3.211495] ata8.00: ATA-8: Hitachi HDS5C3020BLE630, MZ4OAAB0, max UDMA/133\n[    3.211496] ata8.00: 3907029168 sectors, multi 0: LBA48 NCQ (depth 31/32), AA\n[    3.211501] ata6.00: ATA-8: Hitachi HDS5C3020BLE630, MZ4OAAB0, max UDMA/133\n[    3.211502] ata6.00: 3907029168 sectors, multi 0: LBA48 NCQ (depth 31/32), AA\n[    3.211508] ata13.00: configured for UDMA/66\n[    3.211510] ata9.00: ATA-8: Hitachi HDS5C3020BLE630, MZ4OAAB0, max UDMA/133\n[    3.211511] ata9.00: 3907029168 sectors, multi 0: LBA48 NCQ (depth 31/32), AA\n[    3.269922] ata10.00: ATA-8: Hitachi HDS5C3020BLE630, MZ4OAAB0, max UDMA/133\n[    3.269923] ata10.00: 3907029168 sectors, multi 0: LBA48 NCQ (depth 31/32), AA\n[    3.269927] ata5.00: ATA-7: OCZ-VERTEX, 1.3, max UDMA/133\n[    3.269927] ata5.00: 125045424 sectors, multi 1: LBA48 NCQ (depth 31/32), AA\n[    3.329205] ata8.00: configured for UDMA/133\n[    3.329213] ata9.00: configured for UDMA/133\n[    3.329217] ata6.00: configured for UDMA/133\n[    3.358627] ata5.00: ACPI cmd ef/10:06:00:00:00:00 (SET FEATURES) succeeded\n[    3.358628] ata5.00: ACPI cmd f5/00:00:00:00:00:00 (SECURITY FREEZE LOCK) filtered out\n[    3.358629] ata5.00: ACPI cmd b1/c1:00:00:00:00:00 (DEVICE CONFIGURATION OVERLAY) filtered out\n[    3.387504] ata10.00: configured for UDMA/133\n[    3.444077] ata5.00: configured for UDMA/133\n[    3.444146] scsi 4:0:0:0: Direct-Access     ATA      OCZ-VERTEX       1.3  PQ: 0 ANSI: 5\n[    3.444326] sd 4:0:0:0: [sda] 125045424 512-byte logical blocks: (64.0 GB/59.6 GiB)\n[    3.444352] sd 4:0:0:0: [sda] Write Protect is off\n[    3.444353] sd 4:0:0:0: [sda] Mode Sense: 00 3a 00 00\n[    3.444361] sd 4:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA\n[    3.444539] sd 4:0:0:0: Attached scsi generic sg0 type 0\n[    3.444653] scsi 5:0:0:0: Direct-Access     ATA      Hitachi HDS5C302 MZ4O PQ: 0 ANSI: 5\n[    3.444732] sd 5:0:0:0: [sdb] 3907029168 512-byte logical blocks: (2.00 TB/1.81 TiB)\n[    3.444733] sd 5:0:0:0: [sdb] 4096-byte physical blocks\n[    3.444794] sd 5:0:0:0: [sdb] Write Protect is off\n[    3.444796] sd 5:0:0:0: [sdb] Mode Sense: 00 3a 00 00\n[    3.444805] sd 5:0:0:0: [sdb] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA\n[    3.444855] sd 5:0:0:0: Attached scsi generic sg1 type 0\n[    3.444919] scsi 7:0:0:0: Direct-Access     ATA      Hitachi HDS5C302 MZ4O PQ: 0 ANSI: 5\n[    3.444990] sd 7:0:0:0: [sdc] 3907029168 512-byte logical blocks: (2.00 TB/1.81 TiB)\n[    3.444990] sd 7:0:0:0: [sdc] 4096-byte physical blocks\n[    3.445011] sd 7:0:0:0: [sdc] Write Protect is off\n[    3.445012] sd 7:0:0:0: [sdc] Mode Sense: 00 3a 00 00\n[    3.445021] sd 7:0:0:0: [sdc] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA\n[    3.445114] sd 7:0:0:0: Attached scsi generic sg2 type 0\n[    3.445173] scsi 8:0:0:0: Direct-Access     ATA      Hitachi HDS5C302 MZ4O PQ: 0 ANSI: 5\n[    3.445233] sd 8:0:0:0: Attached scsi generic sg3 type 0\n[    3.445287] scsi 9:0:0:0: Direct-Access     ATA      Hitachi HDS5C302 MZ4O PQ: 0 ANSI: 5\n[    3.445348] sd 9:0:0:0: Attached scsi generic sg4 type 0\n[    3.445407] sd 8:0:0:0: [sdd] 3907029168 512-byte logical blocks: (2.00 TB/1.81 TiB)\n[    3.445408] sd 8:0:0:0: [sdd] 4096-byte physical blocks\n[    3.445414] sd 9:0:0:0: [sde] 3907029168 512-byte logical blocks: (2.00 TB/1.81 TiB)\n[    3.445415] sd 9:0:0:0: [sde] 4096-byte physical blocks\n[    3.445854] sd 9:0:0:0: [sde] Write Protect is off\n[    3.445856] sd 9:0:0:0: [sde] Mode Sense: 00 3a 00 00\n[    3.445865] sd 8:0:0:0: [sdd] Write Protect is off\n[    3.445866] sd 8:0:0:0: [sdd] Mode Sense: 00 3a 00 00\n[    3.445888] sd 9:0:0:0: [sde] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA\n[    3.445916] sd 8:0:0:0: [sdd] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA\n[    3.499601] scsi 12:0:0:0: Processor         Marvell  91xx Config      1.01 PQ: 0 ANSI: 5\n[    3.499673] scsi 12:0:0:0: Attached scsi generic sg5 type 3\n[    3.553712]  sda: sda1 sda2 &lt; sda5 &gt;\n[    3.553904] sd 4:0:0:0: [sda] Attached SCSI disk\n[    3.660336]  sdc: unknown partition table\n[    3.660369]  sdb: unknown partition table\n[    3.660442] sd 7:0:0:0: [sdc] Attached SCSI disk\n[    3.660475]  sdd: unknown partition table\n[    3.660510] sd 5:0:0:0: [sdb] Attached SCSI disk\n[    3.660545] sd 8:0:0:0: [sdd] Attached SCSI disk\n[    3.712498]  sde: unknown partition table\n[    3.712578] sd 9:0:0:0: [sde] Attached SCSI disk\n[    4.102853] random: nonblocking pool is initialized\n[    4.985641] ata11: exception Emask 0x10 SAct 0x0 SErr 0x4000000 action 0xe frozen\n[    4.985642] ata11: irq_stat 0x80000040, connection status changed\n[    4.985643] ata11: SError: { DevExch }\n[    4.985647] ata11: hard resetting link\n[    5.705533] ata11: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[    5.794270] ata11.00: ATA-8: Hitachi HDS5C3020BLE630, MZ4OAAB0, max UDMA/133\n[    5.794271] ata11.00: 3907029168 sectors, multi 0: LBA48 NCQ (depth 31/32), AA\n[    5.884054] ata11.00: configured for UDMA/133\n[    5.913642] ata11: EH complete\n[    5.942886] scsi 10:0:0:0: Direct-Access     ATA      Hitachi HDS5C302 MZ4O PQ: 0 ANSI: 5\n[    5.972831] sd 10:0:0:0: [sdf] 3907029168 512-byte logical blocks: (2.00 TB/1.81 TiB)\n[    5.972832] sd 10:0:0:0: [sdf] 4096-byte physical blocks\n[    5.972854] sd 10:0:0:0: [sdf] Write Protect is off\n[    5.972855] sd 10:0:0:0: [sdf] Mode Sense: 00 3a 00 00\n[    5.972865] sd 10:0:0:0: [sdf] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA\n[    5.973000] sd 10:0:0:0: Attached scsi generic sg6 type 0\n[    6.064214]  sdf: unknown partition table\n[    6.064301] sd 10:0:0:0: [sdf] Attached SCSI disk\n</code></pre>\n\n<p>I can't find a utility to erase the Marvell 91XX BIOS in the hope that the RAID functionality is lost, and that the controller will act as a plain Host Bus Adapter (HBA) only.</p>\n\n<p>How to detect all 10 drives, when connecting them via 2 port multipliers to both EC05 SATA ports?</p>\n"},{"id":635257,"title":"I have SATA 3 but get only 3 Gb/s?","body":"<p>Here's the output of <code>dmesg | grep SATA</code>:</p>\n\n<pre><code>[    1.244456] ahci 0000:00:1f.2: AHCI 0001.0300 32 slots 6 ports 6 Gbps 0x11 impl SATA mode\n[    1.256512] ata1: SATA max UDMA/133 abar m2048@0xc0817000 port 0xc0817100 irq 42\n[    1.256525] ata5: SATA max UDMA/133 abar m2048@0xc0817000 port 0xc0817300 irq 42\n[    1.576370] ata1: SATA link up 6.0 Gbps (SStatus 133 SControl 300)\n[    1.904299] ata5: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n</code></pre>\n\n<p>From the first line, I understand that I have SATA III 6 Gb/s *6 ports. Please correct me if I am wrong here itself. Assuming I am right, I don't understand why my second HDD, which is plugged into my optical bay using a <a href=\"http://www.amazon.in/iConnect-World-Laptop-Macbook-DVD-ROM/dp/B00Q88H8R6\" rel=\"nofollow\">iConnect caddy</a> is having a speed of 3 Gb/s. I am 100% sure  that the HDD is SATA 3. Is there a way by which I can restore it's speed?\nWell, it could be the caddy, but how do I make sure of that? No information is given on the <a href=\"http://www.amazon.in/iConnect-World-Laptop-Macbook-DVD-ROM/dp/B00Q88H8R6\" rel=\"nofollow\">product page</a>.</p>\n\n<p>Here's the output of hdparm for the HDD:</p>\n\n<pre><code>    ATA device, with non-removable media\n    Model Number:       TOSHIBA MQ01ABF050                      \n    Serial Number:      X3UZC5SFT\n    Firmware Revision:  AM0G3H  \n    Transport:          Serial, ATA8-AST, SATA 1.0a, SATA II Extensions, SATA Rev 2.5, SATA Rev 2.6\nStandards:\n    Supported: 8 7 6 5 \n    Likely used: 8\nConfiguration:\n    Logical     max current\n    cylinders   16383   16383\n    heads       16  16\n    sectors/track   63  63\n    --\n    CHS current addressable sectors:   16514064\n    LBA    user addressable sectors:  268435455\n    LBA48  user addressable sectors:  976773168\n    Logical  Sector size:                   512 bytes\n    Physical Sector size:                  4096 bytes\n    Logical Sector-0 offset:                  0 bytes\n    device size with M = 1024*1024:      476940 MBytes\n    device size with M = 1000*1000:      500107 MBytes (500 GB)\n    cache/buffer size  = 8192 KBytes\n    Form Factor: 2.5 inch\n    Nominal Media Rotation Rate: 5400\nCapabilities:\n    LBA, IORDY(can be disabled)\n    Queue depth: 32\n    Standby timer values: spec'd by Standard, no device specific minimum\n    R/W multiple sector transfer: Max = 16  Current = 16\n    Advanced power management level: 254\n    DMA: sdma0 sdma1 sdma2 mdma0 mdma1 mdma2 udma0 udma1 udma2 udma3 udma4 *udma5 \n         Cycle time: min=120ns recommended=120ns\n    PIO: pio0 pio1 pio2 pio3 pio4 \n         Cycle time: no flow control=120ns  IORDY flow control=120ns\nCommands/features:\n    Enabled Supported:\n       *    SMART feature set\n            Security Mode feature set\n       *    Power Management feature set\n       *    Write cache\n       *    Look-ahead\n       *    Host Protected Area feature set\n       *    WRITE_BUFFER command\n       *    READ_BUFFER command\n       *    NOP cmd\n       *    DOWNLOAD_MICROCODE\n       *    Advanced Power Management feature set\n            SET_MAX security extension\n       *    48-bit Address feature set\n       *    Device Configuration Overlay feature set\n       *    Mandatory FLUSH_CACHE\n       *    FLUSH_CACHE_EXT\n       *    SMART error logging\n       *    SMART self-test\n       *    General Purpose Logging feature set\n       *    WRITE_{DMA|MULTIPLE}_FUA_EXT\n       *    64-bit World wide name\n       *    IDLE_IMMEDIATE with UNLOAD\n       *    WRITE_UNCORRECTABLE_EXT command\n       *    {READ,WRITE}_DMA_EXT_GPL commands\n       *    Segmented DOWNLOAD_MICROCODE\n       *    Gen1 signaling speed (1.5Gb/s)\n       *    Gen2 signaling speed (3.0Gb/s)\n       *    Gen3 signaling speed (6.0Gb/s)\n       *    Native Command Queueing (NCQ)\n       *    Host-initiated interface power management\n       *    Phy event counters\n       *    Idle-Unload when NCQ is active\n       *    DMA Setup Auto-Activate optimization\n            Device-initiated interface power management\n       *    Software settings preservation\n       *    SMART Command Transport (SCT) feature set\n       *    SCT Write Same (AC2)\n       *    SCT Error Recovery Control (AC3)\n       *    SCT Features Control (AC4)\n       *    SCT Data Tables (AC5)\nSecurity: \n    Master password revision code = 65534\n        supported\n    not enabled\n    not locked\n    not frozen\n    not expired: security count\n        supported: enhanced erase\n    110min for SECURITY ERASE UNIT. 110min for ENHANCED SECURITY ERASE UNIT. \nLogical Unit WWN Device Identifier: 50000395144086c6\n    NAA     : 5\n    IEEE OUI    : 000039\n    Unique ID   : 5144086c6\nChecksum: correct\n</code></pre>\n"},{"id":696076,"title":"SATA Errors upon boot and slow drive function","body":"<p>I am experiencing multiple sata errors upon booting, and drive functions are very slow. Here is the errors I am experiencing.</p>\n\n<pre><code>sysadmin@ubuntu:~$ dmesg | tail -n 50\n[  131.260061] ata4.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x6\n[  131.263053] ata4.00: BMDMA stat 0x26\n[  131.266007] ata4.00: failed command: READ DMA\n[  131.268270] ata4.00: cmd c8/00:68:f8:4c:8c/00:00:00:00:00/ec tag 0 dma 53248 in\n     res 51/84:38:28:4d:8c/84:01:1c:00:00/ec Emask 0x30 (host bus error)\n[  131.272322] ata4.00: status: { DRDY ERR }\n[  131.274177] ata4.00: error: { ICRC ABRT }\n[  131.275708] ata4: soft resetting link\n[  131.452362] ata4.00: configured for UDMA/33\n[  131.452383] ata4: EH complete\n[  138.192093] ata4.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x6\n[  138.193691] ata4.00: BMDMA stat 0x26\n[  138.195318] ata4.00: failed command: READ DMA\n[  138.196928] ata4.00: cmd c8/00:20:58:72:6d/00:00:00:00:00/e4 tag 0 dma 16384 in\n     res 51/84:00:77:72:6d/84:01:1c:00:00/e4 Emask 0x30 (host bus error)\n</code></pre>\n\n<p>I have been doing a lot of reading on these errors and from what I have been finding, the situation is bad. When I first started receiving these errors I took the liberty of swapping out the drive to a newer one and reinstalling the system. 3 drives later, and multiple attempts of replacing the SATA cable (and using different HDD ports) I am seeing the same thing. Could this potentially be an issue with power to the hard drive? Or perhaps a defect on the motherboard? I am currently running the latest 32bit version of Ubuntu Server.</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: I should mention that this is a very old machine. It is an old Pentium 4 system that has been floating around for years which I decided to bring back to life recently.</p>\n"},{"id":671784,"title":"SATA to USB Adapter","body":"<p>A friend of mine got a problem with his Computer, which doesn't works anymore, and just wants to get the data from the HDD. So for this we \ntried connecting it to my Ubuntu machine with this <a href=\"http://www.amazon.de/Delock-Konverter-SATA-Stecker-Power/dp/B005OMXBN2/ref=sr_1_1?ie=UTF8&amp;qid=1441726017&amp;sr=8-1&amp;keywords=delock%20usb%20sata\" rel=\"nofollow\">SATA to USB Converter</a>. How ever when I connect it to my machine, it doesn't shows up in the file manager.</p>\n\n<p>\"lsusb\" shows that the converter gets detected.</p>\n\n<pre><code>Bus 001 Device 002: ID 8087:8000 Intel Corp. \nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n&gt; Bus 003 Device 002: ID 174c:55aa ASMedia Technology Inc. ASMedia 2105 SATA bridge\nBus 003 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub\nBus 002 Device 002: ID 0bda:5606 Realtek Semiconductor Corp. \nBus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n</code></pre>\n\n<p>I've tried to mount it like in <a href=\"http://Bus%20001%20Device%20002:%20ID%208087:8000%20Intel%20Corp.%20%20Bus%20001%20Device%20001:%20ID%201d6b:0002%20Linux%20Foundation%202.0%20root%20hub%20Bus%20003%20Device%20002:%20ID%20174c:55aa%20ASMedia%20Technology%20Inc.%20ASMedia%202105%20SATA%20bridge%20Bus%20003%20Device%20001:%20ID%201d6b:0003%20Linux%20Foundation%203.0%20root%20hub%20Bus%20002%20Device%20002:%20ID%200bda:5606%20Realtek%20Semiconductor%20Corp.%20%20Bus%20002%20Device%20001:%20ID%201d6b:0002%20Linux%20Foundation%202.0%20root%20hub\" rel=\"nofollow\">another post</a>, but that doesn't works either. So got anybody an idea of how i can mount the HDD?</p>\n"},{"id":560838,"title":"how to check system config, that helps to buy new HDD","body":"<p>My laptop is 4-5yrs old with Core2Duo CPU. HDD is heating lot so probably going to brick. so which configuration i should check that will help me to know \"Which HDD's are compatible with my laptop\". SSD are also preferred if they are compatible. </p>\n\n<blockquote>\n  <p>currunt hdd model is WDC WD3200BEVT-22ZCT0 (11.01A11)</p>\n</blockquote>\n\n<ul>\n<li>how to know HDD type ?</li>\n<li>how to know SATA version along BUS speed supported ?</li>\n</ul>\n"},{"id":489760,"title":"Why does Linux put Marvell SATA controllers in PATA mode by default?","body":"<p>I have a motherboard with a Marvell SATA controller. This controller is only used to drive the eSATA ports. By default Ubuntu loads the pata_marvell module to drive these ports. However, PATA does not support hot-swapping, which is a big drawback for an eSATA port. The workaround for this is to put</p>\n\n<pre><code>options ahci enable_marvell=1\n</code></pre>\n\n<p>in /etc/modprobe.d/marvell-ahci.conf and then rebuild the initramdisks. This causes the ports to be controlled by ahci.</p>\n\n<p>Why is pata_marvell the default? Why would I want to use it instead of AHCI? And are there any possible problems with using AHCI?</p>\n"},{"id":140598,"title":"PCI SATA controller recommendation","body":"<p>I want to add a couple of SATA drives using a PCI SATA controller. Do you have any recommendations for me that will work with 12.04?</p>\n"},{"id":421859,"title":"Unable to recognize SATA Wire USB","body":"<p>This is the specific product I purchased at Best Buy: <a href=\"http://www.apricorn.com/products/not...ta-wire-3.html\" rel=\"nofollow\">http://www.apricorn.com/products/not...ta-wire-3.html</a></p>\n\n<p>I bought it in the hopes of recovering files from a laptop who's screen was cracked. Unfortunately when I plug in, it doesn't automount. And I can't find it to mount manually either.</p>\n\n<p>All that I've done:</p>\n\n<ol>\n<li>Checked connections. The Sata Hard drive is connected firmly and clicks in naturally, as well as the usb.</li>\n<li>The port and USB are both 3.0 (Both are blue anyways).</li>\n<li>Searched to see if it was simply incompatible with ubuntu, but found essentially nothing.</li>\n<li>I'm currently using Ubuntu 13.10, but I have a dual-boot with windows 8, tried to connect while using the Windows OS, but I had the same inability to detect the SATA.</li>\n</ol>\n\n<p>I'm concerned about a few things. Primarily about the actual SATA wire itself. I've never used anything like this before, so I'm unsure if I've got the right wire for the job.\nWhen I look at the actual Sata port there are these 4 pins on the HDD that look important, but nothing on the SATA wire to connect to it. See here:<img src=\"http://i.stack.imgur.com/mYcyZ.jpg\" alt=\"enter image description here\"></p>\n\n<p>Here's a few more pictures to explain what I mean about the 4 pins a little better.\n<a href=\"http://imgur.com/a/OSpbj\" rel=\"nofollow\">http://imgur.com/a/OSpbj</a></p>\n\n<p><code>fdisk -l</code> gives this output (whilst SATA Wire USB is connected to both my ubuntu laptop and my other Hard drive):</p>\n\n<pre><code>WARNING: GPT (GUID Partition Table) detected on '/dev/sda'! The util fdisk doesn't\nsupport GPT. Use GNU Parted.\n\n\nDisk /dev/sda: 16.0 GB, 16013942784 bytes\n256 heads, 63 sectors/track, 1939 cylinders, total 31277232 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk identifier: 0x0c31e0cb\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sda1               1  4294967295  2147483647+  ee  GPT\n\nWARNING: GPT (GUID Partition Table) detected on '/dev/sdb'! The util fdisk\ndoesn'tsupport GPT. Use GNU Parted.\n\n\nDisk /dev/sdb: 1000.2 GB, 1000204886016 bytes\n255 heads, 63 sectors/track, 121601 cylinders, total 1953525168 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 4096 bytes\nI/O size (minimum/optimal): 4096 bytes / 4096 bytes\nDisk identifier: 0x0c31e0c8\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdb1               1  1953525167   976762583+  ee  GPT\nPartition 1 does not start on physical sector boundary. \n</code></pre>\n\n<p>Also, if I simply cannot get this to work properly, would anyone have any advice on how to get the data off this hard drive without going through Geek Squad BS?</p>\n"},{"id":168765,"title":"How to figure out why a SATA hard-drive wont show in /dev/ and (therefore) wont mount","body":"<p>I had an external hard-drive which got messed up. I then opened it and plugged the SATA-Hard-Drive directly into my computer. But after boot it is just showing my IDE-Hard-Drive on which the OS is. No secondary is shown.</p>\n\n<pre><code>sudo blkid -o list -w /dev/null\ndevice                                                                            fs_type         label            mount point                                                                           UUID\n---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n/dev/sda1                                                                                                  ntfs                  System-reserviert      /media/System-reserviert                                                                                       FAE80411E803CB39\n/dev/sda2                                                                                                  ntfs                                         /media/4AF809FAF809E4D3                                                                                        4AF809FAF809E4D3\n/dev/sda5                                                                                                  ext4                                         /                                                                                                              fb8c4c85-12dc-44ad-a1e3-3b9b0ceb278f\n/dev/sda6                                                                                                  ext4                                         /home                                                                                                          7560f5da-cd21-4fca-9d87-b8921c058b87\n/dev/sda7                                                                                                  swap                                         &lt;swap&gt;                                                                                                         e8a31868-91c2-4da5-8551-f7a9a8d4e536\n</code></pre>\n\n<p>-</p>\n\n<pre><code>fdisk -l\nPlatte /dev/sda: 203.9 GByte, 203927027200 Byte\n255 K√∂pfe, 63 Sektoren/Spur, 24792 Zylinder\nEinheiten = Zylinder von 16065 √ó 512 = 8225280 Bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk identifier: 0xa252a252\n\n   Ger√§t  boot.     Anfang        Ende     Bl√∂cke   Id  System\n/dev/sda1   *           1          13      102400    7  HPFS/NTFS\nPartition 1 endet nicht an einer Zylindergrenze.\n/dev/sda2              13        8414    67481600    7  HPFS/NTFS\n/dev/sda3            8415       24793   131560449    5  Erweiterte\n/dev/sda5            8415       13278    39061504   83  Linux\n/dev/sda6           13278       24219    87889920   83  Linux\n/dev/sda7           24220       24793     4606976   82  Linux Swap / Solaris\n</code></pre>\n\n<p>-</p>\n\n<pre><code>sudo lsusb\nBus 007 Device 002: ID 03f0:0805 Hewlett-Packard HP4470C\nBus 007 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 006 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 003 Device 003: ID 03f0:6204 Hewlett-Packard DeskJet 5150c\nBus 003 Device 002: ID 192f:0416 Avago Technologies, Pte. \nBus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub\nBus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\nBus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub\n</code></pre>\n\n<p>I found some entries at the syslog which might be related:</p>\n\n<pre><code>[    0.771747] ata3: SATA max UDMA/133 cmd 0xd800 ctl 0xdc00 bmdma 0xe800 irq 19\n[    6.320028] ata3: link is slow to respond, please be patient (ready=0)\n[   10.820029] ata3: SRST failed (errno=-16)\n[   16.370030] ata3: link is slow to respond, please be patient (ready=0)\n[   20.390081] ata3: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[   20.410139] ata3.00: failed to IDENTIFY (INIT_DEV_PARAMS failed, err_mask=0x80)\n[   30.940029] ata3: link is slow to respond, please be patient (ready=0)\n[   35.440032] ata3: SRST failed (errno=-16)\n[   40.990028] ata3: link is slow to respond, please be patient (ready=0)\n[   44.230062] ata3: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[   44.250138] ata3.00: failed to IDENTIFY (INIT_DEV_PARAMS failed, err_mask=0x80)\n[   44.250143] ata3: limiting SATA link speed to 1.5 Gbps\n[   54.780030] ata3: link is slow to respond, please be patient (ready=0)\n[   59.280027] ata3: SRST failed (errno=-16)\n[   64.830029] ata3: link is slow to respond, please be patient (ready=0)\n[   68.250061] ata3: SATA link up 1.5 Gbps (SStatus 113 SControl 310)\n[   68.270137] ata3.00: failed to IDENTIFY (INIT_DEV_PARAMS failed, err_mask=0x80)\n[   78.800049] ata3: link is slow to respond, please be patient (ready=0)\n[   83.300049] ata3: SRST failed (errno=-16)\n[   88.850030] ata3: link is slow to respond, please be patient (ready=0)\n[   91.670060] ata3: SATA link up 1.5 Gbps (SStatus 113 SControl 310)\n</code></pre>\n\n<p>It is possible that not just the USB controller of the external shell got damaged, but also the drive itself. </p>\n\n<p>But how do I make sure that the hard-drive is damaged, and therefore not showing itself in /dev?</p>\n"},{"id":163370,"title":"HDD performance is slow in ubuntu","body":"<p>I am running ubuntu 12.04(32 bit). Suddenly after a reboot my laptop did not detect HDD. After couple of restart it failed to detect HDD. Then i change sata mode to IDE from AHCI in BIOS. Then it detect HDD again. And now HDD performance is very slow. I run a short test in disk utility. It shows no error or warning.</p>\n\n<h1>hdparm -i /dev/sda</h1>\n\n<pre><code> Model=TOSHIBA MK3259GSXP, FwRev=GN003J, SerialNo=61OJC86CT\n Config={ Fixed }\n RawCHS=16383/16/63, TrkSize=0, SectSize=0, ECCbytes=0\n BuffType=unknown, BuffSize=8192kB, MaxMultSect=16, MultSect=16\n CurCHS=16383/16/63, CurSects=16514064, LBA=yes, LBAsects=625142448\n IORDY=on/off, tPIO={min:120,w/IORDY:120}, tDMA={min:120,rec:120}\n PIO modes:  pio0 pio1 pio2 pio3 pio4 \n DMA modes:  sdma0 sdma1 sdma2 mdma0 mdma1 mdma2 \n UDMA modes: udma0 udma1 udma2 udma3 udma4 *udma5 \n AdvancedPM=yes: unknown setting WriteCache=enabled\n Drive conforms to: Unspecified:  ATA/ATAPI-3,4,5,6,7\n</code></pre>\n\n<h1>hdparm -tT /dev/sda</h1>\n\n<pre><code>/dev/sda:\n Timing cached reads:     2 MB in  2.70 seconds = 759.55 kB/sec\n Timing buffered disk reads: 172 MB in  3.02 seconds =  56.99 MB/sec\n</code></pre>\n\n<p>These are the result of hdparm command. Does it normal? please help.</p>\n\n<p>Specification:</p>\n\n<pre><code>Laptop: Acer Aspire 4250\nHDD: 320\nRAM: 2GB\nProcessor: dual core (1.6GHZ)\n</code></pre>\n\n<h1>EDITED</h1>\n\n<p>I found something. After some ideal time SDA link goes down (speed 700 kb/sec). It's back after a minitue (speed in MB/sec). \nKernel Log:</p>\n\n<pre><code>1.194927] ahci 0000:00:11.0: version 3.0\nJul 14 01:07:32 ubuntu kernel: [    1.195121] ahci 0000:00:11.0: AHCI 0001.0200 32 slots 4 ports 6 Gbps 0xf impl SATA mode\nJul 14 01:07:32 ubuntu kernel: [    1.196190] scsi0 : ahci\nJul 14 01:07:32 ubuntu kernel: [    1.196326] scsi1 : ahci\nJul 14 01:07:32 ubuntu kernel: [    1.196417] scsi2 : ahci\nJul 14 01:07:32 ubuntu kernel: [    1.196508] scsi3 : ahci\nJul 14 01:07:32 ubuntu kernel: [    1.196951] ata1: SATA max UDMA/133 abar m1024@0x9034b000 port 0x9034b100 irq 19\nJul 14 01:07:32 ubuntu kernel: [    1.196957] ata2: SATA max UDMA/133 abar m1024@0x9034b000 port 0x9034b180 irq 19\nJul 14 01:07:32 ubuntu kernel: [    1.196961] ata3: SATA max UDMA/133 abar m1024@0x9034b000 port 0x9034b200 irq 19\nJul 14 01:07:32 ubuntu kernel: [    1.196965] ata4: SATA max UDMA/133 abar m1024@0x9034b000 port 0x9034b280 irq 19\n#Jul 14 01:07:32 ubuntu kernel: [    1.528890] ata4: SATA link down (SStatus 0 SControl 300)\n#Jul 14 01:07:32 ubuntu kernel: [    1.528970] ata3: SATA link down (SStatus 0 SControl 300)\n#Jul 14 01:07:32 ubuntu kernel: [    1.701010] ata2: SATA link up 1.5 Gbps (SStatus 113 SControl 300)\nJul 14 01:07:32 ubuntu kernel: [    2.172883] Switching to clocksource tsc\nJul 14 01:07:32 ubuntu kernel: [    3.380557] ata1: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\nJul 14 01:07:32 ubuntu kernel: [    3.424635] ata1.00: ATA-8: TOSHIBA MK3259GSXP, GN003J, max UDMA/100\nJul 14 01:07:32 ubuntu kernel: [    3.424644] ata1.00: 625142448 sectors, multi 16: LBA48 NCQ (depth 31/32), AA\nJul 14 01:07:32 ubuntu kernel: [    3.425731] ata1.00: configured for UDMA/100\nJul 14 01:07:32 ubuntu kernel: [    3.426226] scsi 0:0:0:0: Direct-Access     ATA      TOSHIBA MK3259GS GN00 PQ: 0 ANSI: 5\nJul 14 01:07:32 ubuntu kernel: [    3.426483] sd 0:0:0:0: [sda] 625142448 512-byte logical blocks: (320 GB/298 GiB)\nJul 14 01:07:32 ubuntu kernel: [    3.426488] sd 0:0:0:0: [sda] 4096-byte physical blocks\nJul 14 01:07:32 ubuntu kernel: [    3.426550] sd 0:0:0:0: Attached scsi generic sg0 type 0\nJul 14 01:07:32 ubuntu kernel: [    3.426568] sd 0:0:0:0: [sda] Write Protect is off\nJul 14 01:07:32 ubuntu kernel: [    3.426574] sd 0:0:0:0: [sda] Mode Sense: 00 3a 00 00\nJul 14 01:07:32 ubuntu kernel: [    3.426608] sd 0:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA\nJul 14 01:07:32 ubuntu kernel: [    3.537077]  sda: sda1 sda2 sda3 sda4 &lt; sda5 sda6 sda7 &gt;\nJul 14 01:07:32 ubuntu kernel: [    3.538831] sd 0:0:0:0: [sda] Attached SCSI disk\nJul 14 01:07:32 ubuntu kernel: [    3.540782] scsi 1:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ8B0AW  1.00 PQ: 0 ANSI: 5\nJul 14 01:07:32 ubuntu kernel: [    3.542788] sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw xa/form2 cdda tray\nJul 14 01:07:32 ubuntu kernel: [    3.542796] cdrom: Uniform CD-ROM driver Revision: 3.20\nJul 14 01:07:32 ubuntu kernel: [    3.543116] sr 1:0:0:0: Attached scsi CD-ROM sr0\nJul 14 01:07:32 ubuntu kernel: [    3.543254] sr 1:0:0:0: Attached scsi generic sg1 type 5\nJul 14 01:07:32 ubuntu kernel: [    3.543485] Freeing unused kernel memory: 748k freed \n</code></pre>\n\n<p>I am having exactly the same problem, <a href=\"https://answers.launchpad.net/ubuntu/+source/linux/+question/166624\" rel=\"nofollow\">https://answers.launchpad.net/ubuntu/+source/linux/+question/166624</a></p>\n\n<h1>ADDED INFO</h1>\n\n<pre><code>smartctl 5.43 2012-06-05 r3561 [i686-linux-3.5.0-3-generic] (local build)\nCopyright (C) 2002-12 by Bruce Allen, http://smartmontools.sourceforge.net\n\n=== START OF INFORMATION SECTION ===\nModel Family:     Toshiba 2.5\" HDD MK..59GSXP (Adv. Format)\nDevice Model:     TOSHIBA MK3259GSXP\nSerial Number:    61OJC86CT\nLU WWN Device Id: 5 000039 353c09e33\nFirmware Version: GN003J\nUser Capacity:    320,072,933,376 bytes [320 GB]\nSector Sizes:     512 bytes logical, 4096 bytes physical\nDevice is:        In smartctl database [for details use: -P show]\nATA Version is:   8\nATA Standard is:  Exact ATA specification draft version not indicated\nLocal Time is:    Sun Jul 15 00:36:16 2012 BDT\nSMART support is: Available - device has SMART capability.\nSMART support is: Enabled\n\n=== START OF READ SMART DATA SECTION ===\nSMART overall-health self-assessment test result: PASSED\n\nGeneral SMART Values:\nOffline data collection status:  (0x00) Offline data collection activity\n                    was never started.\n                    Auto Offline Data Collection: Disabled.\nSelf-test execution status:      (   0) The previous self-test routine completed\n                    without error or no self-test has ever \n                    been run.\nTotal time to complete Offline \ndata collection:        (  120) seconds.\nOffline data collection\ncapabilities:            (0x5b) SMART execute Offline immediate.\n                    Auto Offline data collection on/off support.\n                    Suspend Offline collection upon new\n                    command.\n                    Offline surface scan supported.\n                    Self-test supported.\n                    No Conveyance Self-test supported.\n                    Selective Self-test supported.\nSMART capabilities:            (0x0003) Saves SMART data before entering\n                    power-saving mode.\n                    Supports SMART auto save timer.\nError logging capability:        (0x01) Error logging supported.\n                    General Purpose Logging supported.\nShort self-test routine \nrecommended polling time:    (   2) minutes.\nExtended self-test routine\nrecommended polling time:    ( 103) minutes.\nSCT capabilities:          (0x003d) SCT Status supported.\n                    SCT Error Recovery Control supported.\n                    SCT Feature Control supported.\n                    SCT Data Table supported.\n\nSMART Attributes Data Structure revision number: 16\nVendor Specific SMART Attributes with Thresholds:\nID# ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE\n  1 Raw_Read_Error_Rate     0x000b   100   100   050    Pre-fail  Always       -       0\n  2 Throughput_Performance  0x0005   100   100   050    Pre-fail  Offline      -       0\n  3 Spin_Up_Time            0x0027   100   100   001    Pre-fail  Always       -       1206\n  4 Start_Stop_Count        0x0032   100   100   000    Old_age   Always       -       5171\n  5 Reallocated_Sector_Ct   0x0033   100   100   050    Pre-fail  Always       -       736\n  7 Seek_Error_Rate         0x000b   100   100   050    Pre-fail  Always       -       0\n  8 Seek_Time_Performance   0x0005   100   100   050    Pre-fail  Offline      -       0\n  9 Power_On_Hours          0x0032   096   096   000    Old_age   Always       -       1726\n 10 Spin_Retry_Count        0x0033   202   100   030    Pre-fail  Always       -       0\n 12 Power_Cycle_Count       0x0032   100   100   000    Old_age   Always       -       1208\n191 G-Sense_Error_Rate      0x0032   100   100   000    Old_age   Always       -       15\n192 Power-Off_Retract_Count 0x0032   100   100   000    Old_age   Always       -       89\n193 Load_Cycle_Count        0x0032   098   098   000    Old_age   Always       -       24439\n194 Temperature_Celsius     0x0022   100   100   000    Old_age   Always       -       42 (Min/Max 18/48)\n196 Reallocated_Event_Count 0x0032   100   100   000    Old_age   Always       -       14\n197 Current_Pending_Sector  0x0032   100   100   000    Old_age   Always       -       0\n198 Offline_Uncorrectable   0x0030   100   100   000    Old_age   Offline      -       0\n199 UDMA_CRC_Error_Count    0x0032   200   200   000    Old_age   Always       -       0\n220 Disk_Shift              0x0002   100   100   000    Old_age   Always       -       49\n222 Loaded_Hours            0x0032   097   097   000    Old_age   Always       -       1362\n223 Load_Retry_Count        0x0032   100   100   000    Old_age   Always       -       0\n224 Load_Friction           0x0022   100   100   000    Old_age   Always       -       0\n226 Load-in_Time            0x0026   100   100   000    Old_age   Always       -       297\n240 Head_Flying_Hours       0x0001   100   100   001    Pre-fail  Offline      -       0\n\nSMART Error Log Version: 1\nNo Errors Logged\n\nSMART Self-test log structure revision number 1\nNum  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error\n# 1  Short offline       Completed without error       00%      1726         -\n# 2  Short offline       Aborted by host               60%      1726         -\n# 3  Short offline       Completed without error       00%      1714         -\n# 4  Short offline       Completed without error       00%      1707         -\n\nSMART Selective self-test log data structure revision number 1\n SPAN  MIN_LBA  MAX_LBA  CURRENT_TEST_STATUS\n    1        0        0  Not_testing\n    2        0        0  Not_testing\n    3        0        0  Not_testing\n    4        0        0  Not_testing\n    5        0        0  Not_testing\nSelective self-test flags (0x0):\n  After scanning selected spans, do NOT read-scan remainder of disk.\nIf Selective self-test is pending on power-up, resume after 0 minute delay.\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/q1Arw.png\" alt=\"enter image description here\"></p>\n\n<h1>New</h1>\n\n<p>I have found another issue. The result of #hdparm -tT /dev/sda  is different in installed system and liveCD</p>\n\n<h1>LIVECD:</h1>\n\n<pre><code>Timing cached reads:     2630 MB in  3.00 seconds = 878.32 MB/sec\nTiming buffered disk reads: 218 MB in  3.00 seconds =  72.62 MB/sec\n</code></pre>\n\n<h1>Installed system</h1>\n\n<pre><code> Timing cached reads:     2 MB in  3.37 seconds = 607.20 kB/sec\n Timing buffered disk reads: 218 MB in  3.00 seconds =  72.62 MB/sec\n</code></pre>\n"}]}]